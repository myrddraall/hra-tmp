!function(e){var t={};function r(n){if(t[n])return t[n].exports;var i=t[n]={i:n,l:!1,exports:{}};return e[n].call(i.exports,i,i.exports,r),i.l=!0,i.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)r.d(n,i,(function(t){return e[t]}).bind(null,i));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s="FYyP")}({"+yXC":function(e,t,r){var n;void 0===(n=(function(e,t,r){var n=Math.pow(2,31),i=n>>>8,s=Math.pow(2,32)-1,o=function(e){this.low=0,this.range=n,this.buffer=0,this.help=0,this.bytecount=0,this.stream=e},a=function(e,t){for(;e.range<=i;){if(e.low<255<<23){for(t.writeByte(e.buffer);e.help;e.help--)t.writeByte(255);e.buffer=e.low>>>23&255}else if(e.low&n){for(t.writeByte(e.buffer+1);e.help;e.help--)t.writeByte(0);e.buffer=e.low>>>23&255}else if(e.help++,e.help>s)throw new Error("Too many bytes outstanding, file too large!");e.range=e.range<<8>>>0,e.low=(e.low<<8&n-1)>>>0,e.bytecount++}};o.prototype.encodeStart=function(e,t){this.low=0,this.range=n,this.buffer=e,this.help=0,this.bytecount=t},o.prototype.encodeFreq=function(e,t,r){a(this,this.stream);var n=this.range/r>>>0,i=n*t;this.low+=i,t+e<r?this.range=n*e:this.range-=i},o.prototype.encodeShift=function(e,t,r){a(this,this.stream);var n=this.range>>>r,i=n*t;this.low+=i,t+e>>>r?this.range-=i:this.range=n*e},o.prototype.encodeBit=function(e){this.encodeShift(1,e?1:0,1)},o.prototype.encodeByte=function(e){this.encodeShift(1,e,8)},o.prototype.encodeShort=function(e){this.encodeShift(1,e,16)},o.prototype.encodeFinish=function(){var e=this.stream;a(this,e),this.bytecount+=5;var t=this.low>>>23;if((this.low&i-1)>=(16777215&this.bytecount)>>>1&&t++,t>255)for(e.writeByte(this.buffer+1);this.help;this.help--)e.writeByte(0);else for(e.writeByte(this.buffer);this.help;this.help--)e.writeByte(255);return e.writeByte(255&t),e.writeByte(this.bytecount>>>16&255),e.writeByte(this.bytecount>>>8&255),e.writeByte(255&this.bytecount),this.bytecount},o.prototype.decodeStart=function(e){var t=e?0:this.stream.readByte();return"number"!=typeof t||t<0||(this.buffer=this.stream.readByte(),this.low=this.buffer>>>1,this.range=128),t};var u=function(e,t){for(;e.range<=i;)e.low=e.low<<8|e.buffer<<7&255,e.buffer=t.readByte(),e.low|=e.buffer>>>1,e.low=e.low>>>0,e.range=e.range<<8>>>0};o.prototype.decodeCulFreq=function(e){u(this,this.stream),this.help=this.range/e>>>0;var t=this.low/this.help>>>0;return t>=e?e-1:t},o.prototype.decodeCulShift=function(e){u(this,this.stream),this.help=this.range>>>e;var t=this.low/this.help>>>0;return t>>>e?(1<<e)-1:t},o.prototype.decodeUpdate=function(e,t,r){var n=this.help*t;this.low-=n,t+e<r?this.range=this.help*e:this.range-=n},o.prototype.decodeBit=function(){var e=this.decodeCulShift(1);return this.decodeUpdate(1,e,2),e},o.prototype.decodeByte=function(){var e=this.decodeCulShift(8);return this.decodeUpdate(1,e,256),e},o.prototype.decodeShort=function(){var e=this.decodeCulShift(16);return this.decodeUpdate(1,e,65536),e},o.prototype.decodeFinish=function(){u(this,this.stream)},o.prototype.writeBit=o.prototype.encodeBit,o.prototype.readBit=o.prototype.decodeBit,o.prototype.writeByte=o.prototype.encodeByte,o.prototype.readByte=o.prototype.decodeByte,r.exports=o}).call(t,r,t,e))||(e.exports=n)},"/kWe":function(e,t){e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Number.MAX_SAFE_INTEGER||9007199254740991,MAX_SAFE_COMPONENT_LENGTH:16}},"0eLh":function(e,t,r){const n=r("3wIk"),i=r("vwDW"),{ANY:s}=i,o=r("ex/Z"),a=r("MpxT"),u=r("7sNm"),c=r("JCZO"),h=r("bdwG"),l=r("Dknc");e.exports=(e,t,r,f)=>{let d,p,g,y,m;switch(e=new n(e,f),t=new o(t,f),r){case">":d=u,p=h,g=c,y=">",m=">=";break;case"<":d=c,p=l,g=u,y="<",m="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,f))return!1;for(let n=0;n<t.set.length;++n){let r=null,o=null;if(t.set[n].forEach(e=>{e.semver===s&&(e=new i(">=0.0.0")),r=r||e,o=o||e,d(e.semver,r.semver,f)?r=e:g(e.semver,o.semver,f)&&(o=e)}),r.operator===y||r.operator===m)return!1;if((!o.operator||o.operator===y)&&p(e,o.semver))return!1;if(o.operator===m&&g(e,o.semver))return!1}return!0}},"18Y9":function(e,t,r){const n=r("ex/Z");e.exports=(e,t,r)=>(e=new n(e,r),t=new n(t,r),e.intersects(t))},"27OZ":function(e,t,r){const n=r("iEBQ");e.exports=(e,t)=>e.sort((e,r)=>n(r,e,t))},"2EoX":function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ZGXk"),s=r("FYyq"),o=Object.create(null);o.MAGIC="lzjb";var a=i.EOF;o.compressFile=s.compressFileHelper(o.MAGIC,(function(e,t,r,n){var i,o,u,c,h,l,f,d=1024,p=1;"number"==typeof n&&(d*=2,n=Math.max(1,Math.min(9,n))-1,p=1<<Math.floor(n/2),1&n&&(p=Math.round(1.5*p)),n>=2&&n<=4&&p++),l=s.makeU16Buffer(d*p);for(var g=s.makeU8Buffer(1024),y=0,m=function(e){return g[y++]=e,y>=g.length&&(y=0),e},v=s.makeU8Buffer(17),b=0,w=function(){var e;for(e=0;e<b;e++)t.writeByte(v[e]);b=0},E=[],_=function(){return E.length?E.pop():e.readByte()},S=function(e){E.push(e)},I=128,T=[];;){var B=_();if(B===a)break;256==(I<<=1)&&(w(),I=1,v[0]=0,b=1);var A=_();if(A===a){v[b++]=m(B);break}var O=_();if(O!==a){for(c=(B<<16)+(A<<8)+O,c^=c>>9,c+=c>>5,h=((c^=B)&d-1)*p,T.length=0,f=0;f<p;f++){var x=g[1023&(i=g.length+y-(u=y-l[h+f]&1023))],M=g[i+1&1023],R=g[i+2&1023];0===u?x=1^B:1==u?(M=B,R=A):2==u&&(R=B),B===x&&A===M&&O===R&&T.push(u)}for(f=p-1;f>0;f--)l[h+f]=l[h+f-1];if(l[h]=y,0===T.length)v[b++]=m(B),S(O),S(A);else{v[0]|=I,m(B),m(A),m(O);var k=_(),N=T[0],L=g.length+y;for(o=3;o<66&&k!==a;o++,L++){for(f=0;f<T.length;)k!==g[L-T[f]&1023]?(N=T[f],T.splice(f,1)):f++;if(0===T.length)break;m(k),k=_()}0!==T.length&&(N=T[0]),S(k),v[b++]=o-3<<2|N>>8,v[b++]=255&N}}else v[b++]=m(B),S(A)}w()})),o.decompressFile=s.decompressFileHelper(o.MAGIC,(function(e,t,r){for(var n,i,o,u,c=s.makeU8Buffer(1024),h=0,l=128;0!==r&&(u=e.readByte())!==a;)if(256==(l<<=1)&&(l=1,i=u,u=e.readByte()),i&l)for(o=3+(u>>2),(n=h-(1023&(u<<8|e.readByte())))<0&&(n+=c.length),r>=0&&(r-=o);--o>=0;)u=c[h++]=c[n++],t.writeByte(u),h>=c.length&&(h=0),n>=c.length&&(n=0);else t.writeByte(u),c[h++]=u,h>=c.length&&(h=0),r>=0&&r--})),n.exports=o}).call(t,r,t,e))||(e.exports=n)},"2lpH":function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(B){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var s={},o={};function a(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=o[e])?n:(r=c(e,(0|e)<0?-1:0,!0),i&&(o[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=s[e])?n:(r=c(e,e<0?-1:0,!1),i&&(s[e]=r),r)}function u(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=p)return S}else{if(e<=-g)return I;if(e+1>=g)return _}return e<0?u(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=u,n.fromBits=c;var h=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=u(h(r,8)),s=m,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),r);if(a<8){var f=u(h(r,a));s=s.mul(f).add(u(c))}else s=(s=s.mul(i)).add(u(c))}return s.unsigned=t,s}function f(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,p=d*d,g=p/2,y=a(1<<24),m=a(0);n.ZERO=m;var v=a(0,!0);n.UZERO=v;var b=a(1);n.ONE=b;var w=a(1,!0);n.UONE=w;var E=a(-1);n.NEG_ONE=E;var _=c(-1,2147483647,!1);n.MAX_VALUE=_;var S=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var I=c(0,-2147483648,!1);n.MIN_VALUE=I;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(h(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(b)},T.neg=T.negate,T.add=function(e){i(e)||(e=f(e));var t=0,r=0,n=0,s=0;return n+=(s+=(65535&this.low)+(65535&e.low))>>>16,r+=(n+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(r+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),c((n&=65535)<<16|(s&=65535),(t&=65535)<<16|(r&=65535),this.unsigned)},T.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=f(e)),r)return c(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(I))return e.isOdd()?I:m;if(e.eq(I))return this.isOdd()?I:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,n=this.low>>>16,s=65535&this.low,o=65535&e.high,a=e.low>>>16,h=65535&e.low,l=0,d=0,p=0,g=0;return p+=(g+=s*h)>>>16,d+=(p+=n*h)>>>16,p&=65535,d+=(p+=s*a)>>>16,l+=(d+=t*h)>>>16,d&=65535,l+=(d+=n*a)>>>16,d&=65535,l+=(d+=s*o)>>>16,l+=(this.high>>>16)*h+t*a+n*o+s*(e.high>>>16),c((p&=65535)<<16|(g&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,n,s;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return w;s=v}else{if(this.eq(I))return e.eq(b)||e.eq(E)?I:e.eq(I)?b:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:E:(n=this.sub(e.mul(t)),s=t.add(n.div(e)));if(e.eq(I))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=m}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:h(2,o-48),l=u(t),d=l.mul(e);d.isNegative()||d.gt(n);)d=(l=u(t-=a,this.unsigned)).mul(e);l.isZero()&&(l=b),s=s.add(l),n=n.sub(d)}return s},T.div=T.divide,T.modulo=function(e){return i(e)||(e=f(e)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return i(e)||(e=f(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return i(e)||(e=f(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return i(e)||(e=f(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},"2wtF":function(e,t,r){const n=r("0eLh");e.exports=(e,t,r)=>n(e,t,"<",r)},"3+LO":function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("FYyq"),s=function(e,t,r,n){var s,o=i.fls(e-1);for(this.extraStates=+t||0,this.lgDistanceModel=r(1+o+t),this.distanceModel=[],s=2;s<=o;s++)this.distanceModel[s]=n(1<<s-1)};s.prototype.encode=function(e){if(e<2)this.lgDistanceModel.encode(e+this.extraStates);else{var t=i.fls(e);console.assert(e&1<<t-1),console.assert(t>=2),this.lgDistanceModel.encode(t+this.extraStates),this.distanceModel[t].encode(e&(1<<t-1)-1)}},s.prototype.decode=function(){var e=this.lgDistanceModel.decode()-this.extraStates;return e<2?e:(1<<e-1)+this.distanceModel[e].decode()},n.exports=s}).call(t,r,t,e))||(e.exports=n)},"3cPs":function(e,t,r){const n=r("IsDc");e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r("/kWe").SEMVER_SPEC_VERSION,SemVer:r("3wIk"),compareIdentifiers:r("KHQI").compareIdentifiers,rcompareIdentifiers:r("KHQI").rcompareIdentifiers,parse:r("Ybu3"),valid:r("gqzR"),clean:r("oBeb"),inc:r("eQf7"),diff:r("Yn5A"),major:r("Br5v"),minor:r("YJ14"),patch:r("LJ9E"),prerelease:r("O9TA"),compare:r("8GxW"),rcompare:r("oh0K"),compareLoose:r("8YLp"),compareBuild:r("iEBQ"),sort:r("lYj8"),rsort:r("27OZ"),gt:r("7sNm"),lt:r("JCZO"),eq:r("xfvg"),neq:r("dtu/"),gte:r("Dknc"),lte:r("bdwG"),cmp:r("VMJL"),coerce:r("eXNJ"),Comparator:r("vwDW"),Range:r("ex/Z"),satisfies:r("MpxT"),toComparators:r("j0pM"),maxSatisfying:r("d43V"),minSatisfying:r("ygsx"),minVersion:r("lkeM"),validRange:r("zv5s"),outside:r("0eLh"),gtr:r("VmpX"),ltr:r("2wtF"),intersects:r("18Y9")}},"3p25":function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ghB2"),s=r("FYyq"),o=function(e,t,r){for(var n=e.length,i=t,s=e.length-2;t>=r&&e[t]%n>i;)s=t,t-=i-t+1;for(t=Math.max(r-1,t);s>t+1;){var o=t+s>>1;e[o]%n>i?s=o:t=o}return s};n.exports=i({allocateHuffmanCodeLengths:function(e,t){switch(e.length){case 2:e[1]=1;case 1:return void(e[0]=1)}!function(e){var t,r,n,i,s=e.length;for(e[0]+=e[1],t=0,r=1,n=2;r<s-1;r++)n>=s||e[t]<e[n]?(i=e[t],e[t++]=r):i=e[n++],n>=s||t<r&&e[t]<e[n]?(i+=e[t],e[t++]=r+s):i+=e[n++],e[r]=i}(e);var r=function(e,t){var r,n=e.length-2;for(r=1;r<t-1&&n>1;r++)n=o(e,n-1,0);return n}(e,t);e[0]%e.length>=r?function(e){var t,r,n,i,s=e.length-2,a=e.length-1;for(t=1,r=2;r>0;t++){for(i=r-((n=s)-(s=o(e,n-1,0)));i>0;i--)e[a--]=t;r=n-s<<1}}(e):function(e,t,r){var n,i,s,a,u=e.length-2,c=e.length-1,h=1==r?2:1,l=1==r?t-2:t;for(n=h<<1;n>0;h++){for(i=u,u=u<=t?u:o(e,i-1,t),s=0,h>=r?s=Math.min(l,1<<h-r):h==r-1&&(s=1,e[u]==i&&u++),a=n-(i-u+s);a>0;a--)e[c--]=h;l-=s,n=i-u+s<<1}}(e,r,t-s.fls(r-1))}})}).call(t,r,t,e))||(e.exports=n)},"3wIk":function(e,t,r){const n=r("DXxi"),{MAX_LENGTH:i,MAX_SAFE_INTEGER:s}=r("/kWe"),{re:o,t:a}=r("IsDc"),{compareIdentifiers:u}=r("KHQI");class c{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof c){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>i)throw new TypeError(`version is longer than ${i} characters`);n("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?o[a.LOOSE]:o[a.FULL]);if(!r)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+r[1],this.minor=+r[2],this.patch=+r[3],this.major>s||this.major<0)throw new TypeError("Invalid major version");if(this.minor>s||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>s||this.patch<0)throw new TypeError("Invalid patch version");this.prerelease=r[4]?r[4].split(".").map(e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<s)return t}return e}):[],this.build=r[5]?r[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(n("SemVer.compare",this.version,this.options,e),!(e instanceof c)){if("string"==typeof e&&e===this.version)return 0;e=new c(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof c||(e=new c(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof c||(e=new c(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const r=this.prerelease[t],i=e.prerelease[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}compareBuild(e){e instanceof c||(e=new c(e,this.options));let t=0;do{const r=this.build[t],i=e.build[t];if(n("prerelease compare",t,r,i),void 0===r&&void 0===i)return 0;if(void 0===i)return 1;if(void 0===r)return-1;if(r!==i)return u(r,i)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=c},"4JoP":function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("doDk"),s=r("FYyq"),o=function(e,t,r,n){this.up=e,this.down=t,this.symbol=r,this.weight=n};o.prototype.clone=function(){return new o(this.up,this.down,this.symbol,this.weight)},o.prototype.set=function(e){this.up=e.up,this.down=e.down,this.symbol=e.symbol,this.weight=e.weight};var a=function(e,t,r,n){var i;for(console.assert(e&&"number"==typeof e),(!t||t>e)&&(t=e),(t<<=1)&&t--,this.table=[],i=0;i<=t;i++)this.table[i]=new o(0,0,0,0);if(this.map=[],this.size=e)for(i=0;i<e;i++)this.map[i]=0;this.esc=this.root=t,r&&(this.readBit=r.readBit.bind(r),this.writeBit=r.writeBit.bind(r)),this.max_weight=n};a.factory=function(e,t){return function(r){return new a(r,r,e,t)}},a.prototype.split=function(e){var t,r;return(t=this.esc)?(this.esc--,(r=this.esc)?(this.table[t].down=r,this.table[t].weight=1,this.table[r].up=t,this.esc--):(t=0,r=1),this.table[r].symbol=e,this.table[r].weight=0,this.table[r].down=0,this.map[e]=r,this.table[this.esc].weight=0,this.table[this.esc].down=0,this.table[this.esc].up=t,r):(console.assert(!1),0)},a.prototype.leader=function(e){for(var t,r,n=this.table[e].weight,i=e;n===this.table[i+1].weight;)i++;return i===e?e:(t=this.table[i].symbol,this.table[i].symbol=r=this.table[e].symbol,this.table[e].symbol=t,this.map[r]=i,this.map[t]=e,i)},a.prototype.slide=function(e){var t,r=e;if(1&(t=this.table[r++].clone()).weight)for(;t.weight>this.table[r+1].weight;)r++;return this.table[e].set(this.table[r]),this.table[r].set(t),this.table[r].up=this.table[e].up,this.table[e].up=t.up,1&t.weight?(this.table[t.down].up=r,this.table[t.down-1].up=r,this.map[this.table[e].symbol]=e):(this.table[this.table[e].down-1].up=e,this.table[this.table[e].down].up=e,this.map[t.symbol]=r),r},a.prototype.increment=function(e){var t;for(this.table[e].up===e+1?(this.table[e].weight+=2,e++):e=this.leader(e);this.table[e].weight+=2,t=this.table[e].up;){for(;this.table[e].weight>this.table[e+1].weight;)e=this.slide(e);e=1&this.table[e].weight?t:this.table[e].up}this.max_weight&&this.table[this.root].weight>=this.max_weight&&this.scale(1)},a.prototype.scale=function(e){for(var t,r,n=this.esc;++n<=this.root;)for(1&this.table[n].weight?(t=-2&this.table[this.table[n].down].weight)&&(t+=1|this.table[this.table[n].down-1].weight):(t=this.table[n].weight>>e&-2)||(this.map[this.table[n].symbol]=0,this.esc++&&this.esc++),this.table[n].weight=t,r=n;t<this.table[--r].weight;)this.slide(r);this.table[this.esc].down=0},a.prototype.sendid=function(e){for(var t,r=0;e--;)this.map[e]||r++;if(t=this.size-Math.floor((this.root-this.esc)/2)-1)do{this.writeBit(1&r),r>>=1}while(t>>=1)},a.prototype.encode=function(e){var t,r,n,i,s=1;if(e<this.size){if((n=i=this.map[e])||(n=this.esc)){for(;r=this.table[n].up;)s<<=1,s|=1&n,n=r;for(;t=1&s,s>>=1;)this.writeBit(t);i||(this.sendid(e),i=this.split(e)),this.increment(i)}}else console.assert(!1)},a.prototype.readid=function(){var e,t,r=0,n=1;if(e=this.size-Math.floor((this.root-this.esc)/2)-1)do{r|=this.readBit()?n:0,n<<=1}while(e>>=1);for(t=0;t<this.size;t++)if(!this.map[t]&&!r--)return t;return console.assert(!1),0},a.prototype.decode=function(){for(var e,t,r=this.root;t=this.table[r].down;)r=this.readBit()?t-1:t;if(r===this.esc){if(!this.esc)return console.assert(!1),0;e=this.readid(),r=this.split(e)}else e=this.table[r].symbol;return this.increment(r),e},a.compressFile=s.compressFileHelper(a.MAGIC="huff",(function(e,t,r,n){var o=new i(t),u=256;r<0&&u++;var c=new a(257,u,o,8191);s.compressWithModel(e,r,c),o.flush()})),a.decompressFile=s.decompressFileHelper(a.MAGIC,(function(e,t,r){var n=new i(e),o=256;r<0&&o++;var u=new a(257,o,n,8191);s.decompressWithModel(t,r,u)})),n.exports=a}).call(t,r,t,e))||(e.exports=n)},"4jkG":function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("doDk"),s=r("aGRR"),o=(r("Zmi3"),r("KOtJ")),a=r("4JoP"),u=r("3+LO"),c=r("SfGW"),h=r("+yXC"),l=r("ZGXk"),f=r("FYyq"),d=Object.create(null);d.MAGIC="lzp3";var p=function(e){this.buffer=f.makeU8Buffer(Math.min(e+4,1<<20)),this.pos=0,this.ctxt4=f.makeU32Buffer(65536),this.ctxt3=f.makeU32Buffer(4096),this.ctxt2=f.makeU32Buffer(65536),this.put(99),this.put(83),this.put(97),this.put(32)};p.prototype.put=function(e){return this.buffer[this.pos++]=e,this.pos>=1<<20&&(this.pos=0),e},p.prototype.get=function(e){return this.buffer[1048575&e]},p.prototype.context=function(e,t){var r,n=0;for(e=e-t&1048575,r=0;r<t;r++)n=n<<8|this.buffer[e++],e>=1<<20&&(e=0);return n},p.prototype.getIndex=function(e,t){var r=this.context(e,4),n=65535&(r>>>15^r),i=4095&(r>>>11^r),s=65535&r,o=0;return 0===t&&(0!==(o=this.ctxt4[n])&&r!==this.context(o-1,4)&&(o=0),0===o&&(0!==(o=this.ctxt3[i])&&(16777215&r)!==this.context(o-1,3)&&(o=0),0===o&&0!==(o=this.ctxt2[s])&&(r&&65535)!==this.context(o-1,2)&&(o=0))),t&&t--,this.ctxt4[n]=this.ctxt3[i]=this.ctxt2[s]=1+(e|t<<20),o},d.compressFile=f.compressFileHelper(d.MAGIC,(function(e,t,r,n){var i,a,f,d=new p(r>=0?r:1<<20),g=new h(t);g.encodeStart(0,0),i=o.factory(g,65280,256);var y=c.factory(g);a=function(e){return e>256?y(e):i(e)},f=function(){g.encodeFinish()};var m,v=new s(i,256,r<0?257:256),b=[];for(m=0;m<16;m++)b[m]=new u(1048576,1,i,a);for(var w,E=0,_=0;E!==r;){var S=e.readByte(),I=d.getIndex(w=d.pos,0);if(0!==I){for(var T=1+(--I>>>20),B=0;d.get(I+B)===S&&B<1048575;)B++,d.put(S),S=e.readByte();b[15&_].encode(T===B?-1:B),d.getIndex(w,B),E+=B,_<<=1,B>0&&(_|=1)}var A=d.get(d.pos-1);if(S===l.EOF){r<0&&v.encode(256,A);break}v.encode(S,A),d.put(S),E++}f&&f()})),d.decompressFile=f.decompressFileHelper(d.MAGIC,(function(e,t,r){var n,l,f,d=!!(128&e.readByte()),g=new p(r>=0?r:1<<20);if(d){var y=new i(e);n=a.factory(y,65535),l=c.factory(y)}else{var m=new h(e);m.decodeStart(!0),n=o.factory(m,65280,256);var v=c.factory(m);l=function(e){return e>256?v(e):n(e)},f=function(){m.decodeFinish()}}var b,w=new s(n,256,r<0?257:256),E=[];for(b=0;b<16;b++)E[b]=new u(1048576,1,n,l);for(var _,S,I=0,T=0;I!==r;){var B=g.getIndex(_=g.pos,0);if(0!==B){var A=1+(--B>>>20),O=E[15&T].decode();for(O<0&&(O=A),b=0;b<O;b++)S=g.get(B+b),t.writeByte(g.put(S));g.getIndex(_,O),I+=O,T<<=1,O>0&&(T|=1)}if(I===r)break;var x=g.get(g.pos-1);if(256===(S=w.decode(x)))break;t.writeByte(g.put(S)),I++}f&&f()})),n.exports=d}).call(t,r,t,e))||(e.exports=n)},"7sNm":function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>n(e,t,r)>0},"8GxW":function(e,t,r){const n=r("3wIk");e.exports=(e,t,r)=>new n(e,r).compare(new n(t,r))},"8YLp":function(e,t,r){const n=r("8GxW");e.exports=(e,t)=>n(e,t,!0)},AGOE:function(e,t,r){var n;!function(i,s){var o={Identity:function(e){return e},True:function(){return!0},Blank:function(){}},a=typeof{},u={"":o.Identity},c={createLambda:function(e){if(null==e)return o.Identity;if("string"==typeof e){var t=u[e];if(null!=t)return t;if(-1===e.indexOf("=>")){for(var r,n=new RegExp("[$]+","g"),i=0;null!=(r=n.exec(e));){var s=r[0].length;s>i&&(i=s)}for(var a=[],c=1;c<=i;c++){for(var h="",l=0;l<c;l++)h+="$";a.push(h)}var f=Array.prototype.join.call(a,",");return t=new Function(f,"return "+e),u[e]=t,t}var d=e.match(/^[(\s]*([^()]*?)[)\s]*=>(.*)/);return t=new Function(d[1],"return "+d[2]),u[e]=t,t}return e},isIEnumerable:function(e){if("undefined"!=typeof Enumerator)try{return new Enumerator(e),!0}catch(t){}return!1},defineProperty:null!=Object.defineProperties?function(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!0,writable:!0,value:r})}:function(e,t,r){e[t]=r},compare:function(e,t){return e===t?0:e>t?1:-1},dispose:function(e){null!=e&&e.dispose()},hasNativeIteratorSupport:function(){return"undefined"!=typeof Symbol&&void 0!==Symbol.iterator}},h=function(e,t,r){var n=new l,i=0;this.current=n.current,this.moveNext=function(){try{switch(i){case 0:i=1,e();case 1:return!!t.apply(n)||(this.dispose(),!1);case 2:return!1}}catch(r){throw this.dispose(),r}},this.dispose=function(){if(1==i)try{r()}finally{i=2}}},l=function(){var e=null;this.current=function(){return e},this.yieldReturn=function(t){return e=t,!0},this.yieldBreak=function(){return!1}},f=function(e){this.getEnumerator=e};(f.Utils={}).createLambda=function(e){return c.createLambda(e)},f.Utils.createEnumerable=function(e){return new f(e)},f.Utils.createEnumerator=function(e,t,r){return new h(e,t,r)},f.Utils.extendTo=function(e){var t,r=e.prototype;for(var n in e===Array?(t=y.prototype,c.defineProperty(r,"getSource",(function(){return this}))):(t=f.prototype,c.defineProperty(r,"getEnumerator",(function(){return f.from(this).getEnumerator()}))),t){var i=t[n];r[n]!=i&&(null!=r[n]&&r[n+="ByLinq"]==i||i instanceof Function&&c.defineProperty(r,n,i))}},f.choice=function(){var e=arguments;return new f((function(){return new h((function(){e=e[0]instanceof Array?e[0]:null!=e[0].getEnumerator?e[0].toArray():e}),(function(){return this.yieldReturn(e[Math.floor(Math.random()*e.length)])}),o.Blank)}))},f.cycle=function(){var e=arguments;return new f((function(){var t=0;return new h((function(){e=e[0]instanceof Array?e[0]:null!=e[0].getEnumerator?e[0].toArray():e}),(function(){return t>=e.length&&(t=0),this.yieldReturn(e[t++])}),o.Blank)}))},f.empty=function(){return new f((function(){return new h(o.Blank,(function(){return!1}),o.Blank)}))},f.from=function(e){if(null==e)return f.empty();if(e instanceof f)return e;if("number"==typeof e||typeof e==typeof!0)return f.repeat(e,1);if("string"==typeof e)return new f((function(){var t=0;return new h(o.Blank,(function(){return t<e.length&&this.yieldReturn(e.charAt(t++))}),o.Blank)}));if("function"!=typeof e){if("number"==typeof e.length)return new y(e);if("undefined"!=typeof Symbol&&void 0!==e[Symbol.iterator])return new f((function(){return new h(o.Blank,(function(){var t=e.next();return!t.done&&this.yieldReturn(t.value)}),o.Blank)}));if(!(e instanceof Object)&&c.isIEnumerable(e))return new f((function(){var t,r=!0;return new h((function(){t=new Enumerator(e)}),(function(){return r?r=!1:t.moveNext(),!t.atEnd()&&this.yieldReturn(t.item())}),o.Blank)}));if(typeof Windows===a&&"function"==typeof e.first)return new f((function(){var t,r=!0;return new h((function(){t=e.first()}),(function(){return r?r=!1:t.moveNext(),t.hasCurrent?this.yieldReturn(t.current):this.yieldBreak()}),o.Blank)}))}return new f((function(){var t=[],r=0;return new h((function(){for(var r in e){var n=e[r];n instanceof Function||!Object.prototype.hasOwnProperty.call(e,r)||t.push({key:r,value:n})}}),(function(){return r<t.length&&this.yieldReturn(t[r++])}),o.Blank)}))},f.make=function(e){return f.repeat(e,1)},f.matches=function(e,t,r){return null==r&&(r=""),t instanceof RegExp&&(r+=t.ignoreCase?"i":"",r+=t.multiline?"m":"",t=t.source),-1===r.indexOf("g")&&(r+="g"),new f((function(){var n;return new h((function(){n=new RegExp(t,r)}),(function(){var t=n.exec(e);return!!t&&this.yieldReturn(t)}),o.Blank)}))},f.range=function(e,t,r){return null==r&&(r=1),new f((function(){var n,i=0;return new h((function(){n=e-r}),(function(){return i++<t?this.yieldReturn(n+=r):this.yieldBreak()}),o.Blank)}))},f.rangeDown=function(e,t,r){return null==r&&(r=1),new f((function(){var n,i=0;return new h((function(){n=e+r}),(function(){return i++<t?this.yieldReturn(n-=r):this.yieldBreak()}),o.Blank)}))},f.rangeTo=function(e,t,r){return null==r&&(r=1),new f(e<t?function(){var n;return new h((function(){n=e-r}),(function(){var e=n+=r;return e<=t?this.yieldReturn(e):this.yieldBreak()}),o.Blank)}:function(){var n;return new h((function(){n=e+r}),(function(){var e=n-=r;return e>=t?this.yieldReturn(e):this.yieldBreak()}),o.Blank)})},f.repeat=function(e,t){return null!=t?f.repeat(e).take(t):new f((function(){return new h(o.Blank,(function(){return this.yieldReturn(e)}),o.Blank)}))},f.repeatWithFinalize=function(e,t){return e=c.createLambda(e),t=c.createLambda(t),new f((function(){var r;return new h((function(){r=e()}),(function(){return this.yieldReturn(r)}),(function(){null!=r&&(t(r),r=null)}))}))},f.generate=function(e,t){return null!=t?f.generate(e).take(t):(e=c.createLambda(e),new f((function(){return new h(o.Blank,(function(){return this.yieldReturn(e())}),o.Blank)})))},f.toInfinity=function(e,t){return null==e&&(e=0),null==t&&(t=1),new f((function(){var r;return new h((function(){r=e-t}),(function(){return this.yieldReturn(r+=t)}),o.Blank)}))},f.toNegativeInfinity=function(e,t){return null==e&&(e=0),null==t&&(t=1),new f((function(){var r;return new h((function(){r=e+t}),(function(){return this.yieldReturn(r-=t)}),o.Blank)}))},f.unfold=function(e,t){return t=c.createLambda(t),new f((function(){var r,n=!0;return new h(o.Blank,(function(){return n?(n=!1,this.yieldReturn(r=e)):(r=t(r),this.yieldReturn(r))}),o.Blank)}))},f.defer=function(e){return new f((function(){var t;return new h((function(){t=f.from(e()).getEnumerator()}),(function(){return t.moveNext()?this.yieldReturn(t.current()):this.yieldBreak()}),(function(){c.dispose(t)}))}))},f.prototype.traverseBreadthFirst=function(e,t){var r=this;return e=c.createLambda(e),t=c.createLambda(t),new f((function(){var n,i=0,s=[];return new h((function(){n=r.getEnumerator()}),(function(){for(;;){if(n.moveNext())return s.push(n.current()),this.yieldReturn(t(n.current(),i));var r=f.from(s).selectMany((function(t){return e(t)}));if(!r.any())return!1;i++,s=[],c.dispose(n),n=r.getEnumerator()}}),(function(){c.dispose(n)}))}))},f.prototype.traverseDepthFirst=function(e,t){var r=this;return e=c.createLambda(e),t=c.createLambda(t),new f((function(){var n,i=[];return new h((function(){n=r.getEnumerator()}),(function(){for(;;){if(n.moveNext()){var r=t(n.current(),i.length);return i.push(n),n=f.from(e(n.current())).getEnumerator(),this.yieldReturn(r)}if(i.length<=0)return!1;c.dispose(n),n=i.pop()}}),(function(){try{c.dispose(n)}finally{f.from(i).forEach((function(e){e.dispose()}))}}))}))},f.prototype.flatten=function(){var e=this;return new f((function(){var t,r=null;return new h((function(){t=e.getEnumerator()}),(function(){for(;;){if(null!=r){if(r.moveNext())return this.yieldReturn(r.current());r=null}if(t.moveNext()){if(t.current()instanceof Array){c.dispose(r),r=f.from(t.current()).selectMany(o.Identity).flatten().getEnumerator();continue}return this.yieldReturn(t.current())}return!1}}),(function(){try{c.dispose(t)}finally{c.dispose(r)}}))}))},f.prototype.pairwise=function(e){var t=this;return e=c.createLambda(e),new f((function(){var r;return new h((function(){(r=t.getEnumerator()).moveNext()}),(function(){var t=r.current();return!!r.moveNext()&&this.yieldReturn(e(t,r.current()))}),(function(){c.dispose(r)}))}))},f.prototype.scan=function(e,t){var r;null==t?(t=c.createLambda(e),r=!1):(t=c.createLambda(t),r=!0);var n=this;return new f((function(){var i,s,o=!0;return new h((function(){i=n.getEnumerator()}),(function(){if(o){if(o=!1,r)return this.yieldReturn(s=e);if(i.moveNext())return this.yieldReturn(s=i.current())}return!!i.moveNext()&&this.yieldReturn(s=t(s,i.current()))}),(function(){c.dispose(i)}))}))},f.prototype.select=function(e){if((e=c.createLambda(e)).length<=1)return new v(this,null,e);var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){return!!r.moveNext()&&this.yieldReturn(e(r.current(),n++))}),(function(){c.dispose(r)}))}))},f.prototype.selectMany=function(e,t){var r=this;return e=c.createLambda(e),null==t&&(t=function(e,t){return t}),t=c.createLambda(t),new f((function(){var n,i=void 0,s=0;return new h((function(){n=r.getEnumerator()}),(function(){if(void 0===i&&!n.moveNext())return!1;do{if(null==i){var r=e(n.current(),s++);i=f.from(r).getEnumerator()}if(i.moveNext())return this.yieldReturn(t(n.current(),i.current()));c.dispose(i),i=null}while(n.moveNext());return!1}),(function(){try{c.dispose(n)}finally{c.dispose(i)}}))}))},f.prototype.where=function(e){if((e=c.createLambda(e)).length<=1)return new m(this,e);var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){for(;r.moveNext();)if(e(r.current(),n++))return this.yieldReturn(r.current());return!1}),(function(){c.dispose(r)}))}))},f.prototype.choose=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){for(;r.moveNext();){var t=e(r.current(),n++);if(null!=t)return this.yieldReturn(t)}return this.yieldBreak()}),(function(){c.dispose(r)}))}))},f.prototype.ofType=function(e){var t;switch(e){case Number:t="number";break;case String:t="string";break;case Boolean:t=typeof!0;break;case Function:t="function";break;default:t=null}return this.where(null===t?function(t){return t instanceof e}:function(e){return typeof e===t})},f.prototype.zip=function(){var e=arguments,t=c.createLambda(arguments[arguments.length-1]),r=this;if(2==arguments.length){var n=arguments[0];return new f((function(){var e,i,s=0;return new h((function(){e=r.getEnumerator(),i=f.from(n).getEnumerator()}),(function(){return!(!e.moveNext()||!i.moveNext())&&this.yieldReturn(t(e.current(),i.current(),s++))}),(function(){try{c.dispose(e)}finally{c.dispose(i)}}))}))}return new f((function(){var n,i=0;return new h((function(){var t=f.make(r).concat(f.from(e).takeExceptLast().select(f.from)).select((function(e){return e.getEnumerator()})).toArray();n=f.from(t)}),(function(){if(n.all((function(e){return e.moveNext()}))){var e=n.select((function(e){return e.current()})).toArray();return e.push(i++),this.yieldReturn(t.apply(null,e))}return this.yieldBreak()}),(function(){f.from(n).forEach(c.dispose)}))}))},f.prototype.merge=function(){var e=arguments,t=this;return new f((function(){var r,n=-1;return new h((function(){r=f.make(t).concat(f.from(e).select(f.from)).select((function(e){return e.getEnumerator()})).toArray()}),(function(){for(;r.length>0;){var e=r[n=n>=r.length-1?0:n+1];if(e.moveNext())return this.yieldReturn(e.current());e.dispose(),r.splice(n--,1)}return this.yieldBreak()}),(function(){f.from(r).forEach(c.dispose)}))}))},f.prototype.join=function(e,t,r,n,i){t=c.createLambda(t),r=c.createLambda(r),n=c.createLambda(n),i=c.createLambda(i);var s=this;return new f((function(){var a,u,l=null,d=0;return new h((function(){a=s.getEnumerator(),u=f.from(e).toLookup(r,o.Identity,i)}),(function(){for(;;){if(null!=l){var e=l[d++];if(void 0!==e)return this.yieldReturn(n(a.current(),e));e=null,d=0}if(!a.moveNext())return!1;var r=t(a.current());l=u.get(r).toArray()}}),(function(){c.dispose(a)}))}))},f.prototype.groupJoin=function(e,t,r,n,i){t=c.createLambda(t),r=c.createLambda(r),n=c.createLambda(n),i=c.createLambda(i);var s=this;return new f((function(){var a=s.getEnumerator(),u=null;return new h((function(){a=s.getEnumerator(),u=f.from(e).toLookup(r,o.Identity,i)}),(function(){if(a.moveNext()){var e=u.get(t(a.current()));return this.yieldReturn(n(a.current(),e))}return!1}),(function(){c.dispose(a)}))}))},f.prototype.all=function(e){e=c.createLambda(e);var t=!0;return this.forEach((function(r){if(!e(r))return t=!1,!1})),t},f.prototype.any=function(e){e=c.createLambda(e);var t=this.getEnumerator();try{if(0==arguments.length)return t.moveNext();for(;t.moveNext();)if(e(t.current()))return!0;return!1}finally{c.dispose(t)}},f.prototype.isEmpty=function(){return!this.any()},f.prototype.concat=function(){var e=this;if(1==arguments.length){var t=arguments[0];return new f((function(){var r,n;return new h((function(){r=e.getEnumerator()}),(function(){if(null==n){if(r.moveNext())return this.yieldReturn(r.current());n=f.from(t).getEnumerator()}return!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){try{c.dispose(r)}finally{c.dispose(n)}}))}))}var r=arguments;return new f((function(){var t;return new h((function(){t=f.make(e).concat(f.from(r).select(f.from)).select((function(e){return e.getEnumerator()})).toArray()}),(function(){for(;t.length>0;){var e=t[0];if(e.moveNext())return this.yieldReturn(e.current());e.dispose(),t.splice(0,1)}return this.yieldBreak()}),(function(){f.from(t).forEach(c.dispose)}))}))},f.prototype.insert=function(e,t){var r=this;return new f((function(){var n,i,s=0,o=!1;return new h((function(){n=r.getEnumerator(),i=f.from(t).getEnumerator()}),(function(){return s==e&&i.moveNext()?(o=!0,this.yieldReturn(i.current())):n.moveNext()?(s++,this.yieldReturn(n.current())):!(o||!i.moveNext())&&this.yieldReturn(i.current())}),(function(){try{c.dispose(n)}finally{c.dispose(i)}}))}))},f.prototype.alternate=function(e){var t=this;return new f((function(){var r,n,i,s;return new h((function(){i=e instanceof Array||null!=e.getEnumerator?f.from(f.from(e).toArray()):f.make(e),(n=t.getEnumerator()).moveNext()&&(r=n.current())}),(function(){for(;;){if(null!=s){if(s.moveNext())return this.yieldReturn(s.current());s=null}if(null!=r||!n.moveNext()){if(null!=r){var e=r;return r=null,this.yieldReturn(e)}return this.yieldBreak()}r=n.current(),s=i.getEnumerator()}}),(function(){try{c.dispose(n)}finally{c.dispose(s)}}))}))},f.prototype.contains=function(e,t){t=c.createLambda(t);var r=this.getEnumerator();try{for(;r.moveNext();)if(t(r.current())===e)return!0;return!1}finally{c.dispose(r)}},f.prototype.defaultIfEmpty=function(e){var t=this;return void 0===e&&(e=null),new f((function(){var r,n=!0;return new h((function(){r=t.getEnumerator()}),(function(){return r.moveNext()?(n=!1,this.yieldReturn(r.current())):!!n&&(n=!1,this.yieldReturn(e))}),(function(){c.dispose(r)}))}))},f.prototype.distinct=function(e){return this.except(f.empty(),e)},f.prototype.distinctUntilChanged=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r,n,i;return new h((function(){r=t.getEnumerator()}),(function(){for(;r.moveNext();){var t=e(r.current());if(i)return i=!1,n=t,this.yieldReturn(r.current());if(n!==t)return n=t,this.yieldReturn(r.current())}return this.yieldBreak()}),(function(){c.dispose(r)}))}))},f.prototype.except=function(e,t){t=c.createLambda(t);var r=this;return new f((function(){var n,i;return new h((function(){n=r.getEnumerator(),i=new b(t),f.from(e).forEach((function(e){i.add(e)}))}),(function(){for(;n.moveNext();){var e=n.current();if(!i.contains(e))return i.add(e),this.yieldReturn(e)}return!1}),(function(){c.dispose(n)}))}))},f.prototype.intersect=function(e,t){t=c.createLambda(t);var r=this;return new f((function(){var n,i,s;return new h((function(){n=r.getEnumerator(),i=new b(t),f.from(e).forEach((function(e){i.add(e)})),s=new b(t)}),(function(){for(;n.moveNext();){var e=n.current();if(!s.contains(e)&&i.contains(e))return s.add(e),this.yieldReturn(e)}return!1}),(function(){c.dispose(n)}))}))},f.prototype.sequenceEqual=function(e,t){t=c.createLambda(t);var r=this.getEnumerator();try{var n=f.from(e).getEnumerator();try{for(;r.moveNext();)if(!n.moveNext()||t(r.current())!==t(n.current()))return!1;return!n.moveNext()}finally{c.dispose(n)}}finally{c.dispose(r)}},f.prototype.union=function(e,t){t=c.createLambda(t);var r=this;return new f((function(){var n,i,s;return new h((function(){n=r.getEnumerator(),s=new b(t)}),(function(){var t;if(void 0===i){for(;n.moveNext();)if(t=n.current(),!s.contains(t))return s.add(t),this.yieldReturn(t);i=f.from(e).getEnumerator()}for(;i.moveNext();)if(t=i.current(),!s.contains(t))return s.add(t),this.yieldReturn(t);return!1}),(function(){try{c.dispose(n)}finally{c.dispose(i)}}))}))},f.prototype.orderBy=function(e){return new d(this,e,!1)},f.prototype.orderByDescending=function(e){return new d(this,e,!0)},f.prototype.reverse=function(){var e=this;return new f((function(){var t,r;return new h((function(){t=e.toArray(),r=t.length}),(function(){return r>0&&this.yieldReturn(t[--r])}),o.Blank)}))},f.prototype.shuffle=function(){var e=this;return new f((function(){var t;return new h((function(){t=e.toArray()}),(function(){if(t.length>0){var e=Math.floor(Math.random()*t.length);return this.yieldReturn(t.splice(e,1)[0])}return!1}),o.Blank)}))},f.prototype.weightedSample=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.choose((function(t){var r=e(t);return r<=0?null:{value:t,bound:n+=r}})).toArray()}),(function(){if(r.length>0){for(var e=Math.floor(Math.random()*n)+1,t=-1,i=r.length;i-t>1;){var s=Math.floor((t+i)/2);r[s].bound>=e?i=s:t=s}return this.yieldReturn(r[i].value)}return this.yieldBreak()}),o.Blank)}))},f.prototype.groupBy=function(e,t,r,n){var i=this;return e=c.createLambda(e),t=c.createLambda(t),null!=r&&(r=c.createLambda(r)),n=c.createLambda(n),new f((function(){var s;return new h((function(){s=i.toLookup(e,t,n).toEnumerable().getEnumerator()}),(function(){for(;s.moveNext();)return this.yieldReturn(null==r?s.current():r(s.current().key(),s.current()));return!1}),(function(){c.dispose(s)}))}))},f.prototype.partitionBy=function(e,t,r,n){var i,s=this;return e=c.createLambda(e),t=c.createLambda(t),n=c.createLambda(n),null==r?(i=!1,r=function(e,t){return new E(e,t)}):(i=!0,r=c.createLambda(r)),new f((function(){var o,a,u,l=[];return new h((function(){(o=s.getEnumerator()).moveNext()&&(a=e(o.current()),u=n(a),l.push(t(o.current())))}),(function(){for(var s;1==(s=o.moveNext())&&u===n(e(o.current()));)l.push(t(o.current()));if(l.length>0){var c=r(a,i?f.from(l):l);return s?(a=e(o.current()),u=n(a),l=[t(o.current())]):l=[],this.yieldReturn(c)}return!1}),(function(){c.dispose(o)}))}))},f.prototype.buffer=function(e){var t=this;return new f((function(){var r;return new h((function(){r=t.getEnumerator()}),(function(){for(var t=[],n=0;r.moveNext();)if(t.push(r.current()),++n>=e)return this.yieldReturn(t);return t.length>0&&this.yieldReturn(t)}),(function(){c.dispose(r)}))}))},f.prototype.aggregate=function(e,t,r){return(r=c.createLambda(r))(this.scan(e,t,r).last())},f.prototype.average=function(e){e=c.createLambda(e);var t=0,r=0;return this.forEach((function(n){t+=e(n),++r})),t/r},f.prototype.count=function(e){e=null==e?o.True:c.createLambda(e);var t=0;return this.forEach((function(r,n){e(r,n)&&++t})),t},f.prototype.max=function(e){return null==e&&(e=o.Identity),this.select(e).aggregate((function(e,t){return e>t?e:t}))},f.prototype.min=function(e){return null==e&&(e=o.Identity),this.select(e).aggregate((function(e,t){return e<t?e:t}))},f.prototype.maxBy=function(e){return e=c.createLambda(e),this.aggregate((function(t,r){return e(t)>e(r)?t:r}))},f.prototype.minBy=function(e){return e=c.createLambda(e),this.aggregate((function(t,r){return e(t)<e(r)?t:r}))},f.prototype.sum=function(e){return null==e&&(e=o.Identity),this.select(e).aggregate(0,(function(e,t){return e+t}))},f.prototype.elementAt=function(e){var t,r=!1;if(this.forEach((function(n,i){if(i==e)return t=n,r=!0,!1})),!r)throw new Error("index is less than 0 or greater than or equal to the number of elements in source.");return t},f.prototype.elementAtOrDefault=function(e,t){var r;void 0===t&&(t=null);var n=!1;return this.forEach((function(t,i){if(i==e)return r=t,n=!0,!1})),n?r:t},f.prototype.first=function(e){if(null!=e)return this.where(e).first();var t,r=!1;if(this.forEach((function(e){return t=e,r=!0,!1})),!r)throw new Error("first:No element satisfies the condition.");return t},f.prototype.firstOrDefault=function(e,t){if(void 0!==e){if("function"==typeof e||"function"==typeof c.createLambda(e))return this.where(e).firstOrDefault(void 0,t);t=e}var r,n=!1;return this.forEach((function(e){return r=e,n=!0,!1})),n?r:t},f.prototype.last=function(e){if(null!=e)return this.where(e).last();var t,r=!1;if(this.forEach((function(e){r=!0,t=e})),!r)throw new Error("last:No element satisfies the condition.");return t},f.prototype.lastOrDefault=function(e,t){if(void 0!==e){if("function"==typeof e||"function"==typeof c.createLambda(e))return this.where(e).lastOrDefault(void 0,t);t=e}var r,n=!1;return this.forEach((function(e){n=!0,r=e})),n?r:t},f.prototype.single=function(e){if(null!=e)return this.where(e).single();var t,r=!1;if(this.forEach((function(e){if(r)throw new Error("single:sequence contains more than one element.");r=!0,t=e})),!r)throw new Error("single:No element satisfies the condition.");return t},f.prototype.singleOrDefault=function(e,t){if(void 0===t&&(t=null),null!=e)return this.where(e).singleOrDefault(null,t);var r,n=!1;return this.forEach((function(e){if(n)throw new Error("single:sequence contains more than one element.");n=!0,r=e})),n?r:t},f.prototype.skip=function(e){var t=this;return new f((function(){var r,n=0;return new h((function(){for(r=t.getEnumerator();n++<e&&r.moveNext(););}),(function(){return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){c.dispose(r)}))}))},f.prototype.skipWhile=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r,n=0,i=!1;return new h((function(){r=t.getEnumerator()}),(function(){for(;!i;){if(!r.moveNext())return!1;if(!e(r.current(),n++))return i=!0,this.yieldReturn(r.current())}return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){c.dispose(r)}))}))},f.prototype.take=function(e){var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){return!!(n++<e&&r.moveNext())&&this.yieldReturn(r.current())}),(function(){c.dispose(r)}))}))},f.prototype.takeWhile=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){return!(!r.moveNext()||!e(r.current(),n++))&&this.yieldReturn(r.current())}),(function(){c.dispose(r)}))}))},f.prototype.takeExceptLast=function(e){null==e&&(e=1);var t=this;return new f((function(){if(e<=0)return t.getEnumerator();var r,n=[];return new h((function(){r=t.getEnumerator()}),(function(){for(;r.moveNext();){if(n.length==e)return n.push(r.current()),this.yieldReturn(n.shift());n.push(r.current())}return!1}),(function(){c.dispose(r)}))}))},f.prototype.takeFromLast=function(e){if(e<=0||null==e)return f.empty();var t=this;return new f((function(){var r,n,i=[];return new h((function(){r=t.getEnumerator()}),(function(){for(;r.moveNext();)i.length==e&&i.shift(),i.push(r.current());return null==n&&(n=f.from(i).getEnumerator()),!!n.moveNext()&&this.yieldReturn(n.current())}),(function(){c.dispose(n)}))}))},f.prototype.indexOf=function(e){var t=null;return this.forEach("function"==typeof e?function(r,n){if(e(r,n))return t=n,!1}:function(r,n){if(r===e)return t=n,!1}),null!==t?t:-1},f.prototype.lastIndexOf=function(e){var t=-1;return this.forEach("function"==typeof e?function(r,n){e(r,n)&&(t=n)}:function(r,n){r===e&&(t=n)}),t},f.prototype.cast=function(){return this},f.prototype.asEnumerable=function(){return f.from(this)},f.prototype.toArray=function(){var e=[];return this.forEach((function(t){e.push(t)})),e},f.prototype.toLookup=function(e,t,r){e=c.createLambda(e),t=c.createLambda(t),r=c.createLambda(r);var n=new b(r);return this.forEach((function(r){var i=e(r),s=t(r),o=n.get(i);void 0!==o?o.push(s):n.add(i,[s])})),new w(n)},f.prototype.toObject=function(e,t){e=c.createLambda(e),t=c.createLambda(t);var r={};return this.forEach((function(n){r[e(n)]=t(n)})),r},f.prototype.toDictionary=function(e,t,r){e=c.createLambda(e),t=c.createLambda(t),r=c.createLambda(r);var n=new b(r);return this.forEach((function(r){n.add(e(r),t(r))})),n},f.prototype.toJSONString=function(e,t){if("undefined"==typeof JSON||null==JSON.stringify)throw new Error("toJSONString can't find JSON.stringify. This works native JSON support Browser or include json2.js");return JSON.stringify(this.toArray(),e,t)},f.prototype.toJoinedString=function(e,t){return null==e&&(e=""),null==t&&(t=o.Identity),this.select(t).toArray().join(e)},f.prototype.doAction=function(e){var t=this;return e=c.createLambda(e),new f((function(){var r,n=0;return new h((function(){r=t.getEnumerator()}),(function(){return!!r.moveNext()&&(e(r.current(),n++),this.yieldReturn(r.current()))}),(function(){c.dispose(r)}))}))},f.prototype.forEach=function(e){e=c.createLambda(e);var t=0,r=this.getEnumerator();try{for(;r.moveNext()&&!1!==e(r.current(),t++););}finally{c.dispose(r)}},f.prototype.write=function(e,t){null==e&&(e=""),t=c.createLambda(t);var r=!0;this.forEach((function(n){r?r=!1:document.write(e),document.write(t(n))}))},f.prototype.writeLine=function(e){e=c.createLambda(e),this.forEach((function(t){document.writeln(e(t)+"<br />")}))},f.prototype.force=function(){var e=this.getEnumerator();try{for(;e.moveNext(););}finally{c.dispose(e)}},f.prototype.letBind=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r;return new h((function(){r=f.from(e(t)).getEnumerator()}),(function(){return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){c.dispose(r)}))}))},f.prototype.share=function(){var e,t=this,r=!1;return new g((function(){return new h((function(){null==e&&(e=t.getEnumerator())}),(function(){if(r)throw new Error("enumerator is disposed");return!!e.moveNext()&&this.yieldReturn(e.current())}),o.Blank)}),(function(){r=!0,c.dispose(e)}))},f.prototype.memoize=function(){var e,t,r=this,n=!1;return new g((function(){var i=-1;return new h((function(){null==t&&(t=r.getEnumerator(),e=[])}),(function(){if(n)throw new Error("enumerator is disposed");return i++,e.length<=i?!!t.moveNext()&&this.yieldReturn(e[i]=t.current()):this.yieldReturn(e[i])}),o.Blank)}),(function(){n=!0,c.dispose(t),e=null}))},c.hasNativeIteratorSupport()&&(f.prototype[Symbol.iterator]=function(){return{enumerator:this.getEnumerator(),next:function(){return this.enumerator.moveNext()?{done:!1,value:this.enumerator.current()}:{done:!0}}}}),f.prototype.catchError=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r;return new h((function(){r=t.getEnumerator()}),(function(){try{return!!r.moveNext()&&this.yieldReturn(r.current())}catch(t){return e(t),!1}}),(function(){c.dispose(r)}))}))},f.prototype.finallyAction=function(e){e=c.createLambda(e);var t=this;return new f((function(){var r;return new h((function(){r=t.getEnumerator()}),(function(){return!!r.moveNext()&&this.yieldReturn(r.current())}),(function(){try{c.dispose(r)}finally{e()}}))}))},f.prototype.log=function(e){return e=c.createLambda(e),this.doAction((function(t){"undefined"!=typeof console&&console.log(e(t))}))},f.prototype.trace=function(e,t){return null==e&&(e="Trace"),t=c.createLambda(t),this.doAction((function(r){"undefined"!=typeof console&&console.log(e,t(r))}))};var d=function(e,t,r,n){this.source=e,this.keySelector=c.createLambda(t),this.descending=r,this.parent=n};d.prototype=new f,d.prototype.createOrderedEnumerable=function(e,t){return new d(this.source,e,t,this)},d.prototype.thenBy=function(e){return this.createOrderedEnumerable(e,!1)},d.prototype.thenByDescending=function(e){return this.createOrderedEnumerable(e,!0)},d.prototype.getEnumerator=function(){var e,t,r=this,n=0;return new h((function(){e=[],t=[],r.source.forEach((function(r,n){e.push(r),t.push(n)}));var n=p.create(r,null);n.GenerateKeys(e),t.sort((function(e,t){return n.compare(e,t)}))}),(function(){return n<t.length&&this.yieldReturn(e[t[n++]])}),o.Blank)};var p=function(e,t,r){this.keySelector=e,this.descending=t,this.child=r,this.keys=null};p.create=function(e,t){var r=new p(e.keySelector,e.descending,t);return null!=e.parent?p.create(e.parent,r):r},p.prototype.GenerateKeys=function(e){for(var t=e.length,r=this.keySelector,n=new Array(t),i=0;i<t;i++)n[i]=r(e[i]);this.keys=n,null!=this.child&&this.child.GenerateKeys(e)},p.prototype.compare=function(e,t){var r=c.compare(this.keys[e],this.keys[t]);return 0==r?null!=this.child?this.child.compare(e,t):c.compare(e,t):this.descending?-r:r};var g=function(e,t){this.dispose=t,f.call(this,e)};g.prototype=new f;var y=function(e){this.getSource=function(){return e}};y.prototype=new f,y.prototype.any=function(e){return null==e?this.getSource().length>0:f.prototype.any.apply(this,arguments)},y.prototype.count=function(e){return null==e?this.getSource().length:f.prototype.count.apply(this,arguments)},y.prototype.elementAt=function(e){var t=this.getSource();return 0<=e&&e<t.length?t[e]:f.prototype.elementAt.apply(this,arguments)},y.prototype.elementAtOrDefault=function(e,t){void 0===t&&(t=null);var r=this.getSource();return 0<=e&&e<r.length?r[e]:t},y.prototype.first=function(e){var t=this.getSource();return null==e&&t.length>0?t[0]:f.prototype.first.apply(this,arguments)},y.prototype.firstOrDefault=function(e,t){if(void 0!==e)return f.prototype.firstOrDefault.apply(this,arguments);t=e;var r=this.getSource();return r.length>0?r[0]:t},y.prototype.last=function(e){var t=this.getSource();return null==e&&t.length>0?t[t.length-1]:f.prototype.last.apply(this,arguments)},y.prototype.lastOrDefault=function(e,t){if(void 0!==e)return f.prototype.lastOrDefault.apply(this,arguments);t=e;var r=this.getSource();return r.length>0?r[r.length-1]:t},y.prototype.skip=function(e){var t=this.getSource();return new f((function(){var r;return new h((function(){r=e<0?0:e}),(function(){return r<t.length&&this.yieldReturn(t[r++])}),o.Blank)}))},y.prototype.takeExceptLast=function(e){return null==e&&(e=1),this.take(this.getSource().length-e)},y.prototype.takeFromLast=function(e){return this.skip(this.getSource().length-e)},y.prototype.reverse=function(){var e=this.getSource();return new f((function(){var t;return new h((function(){t=e.length}),(function(){return t>0&&this.yieldReturn(e[--t])}),o.Blank)}))},y.prototype.sequenceEqual=function(e,t){return(!(e instanceof y||e instanceof Array)||null!=t||f.from(e).count()==this.count())&&f.prototype.sequenceEqual.apply(this,arguments)},y.prototype.toJoinedString=function(e,t){var r=this.getSource();return null==t&&r instanceof Array?(null==e&&(e=""),r.join(e)):f.prototype.toJoinedString.apply(this,arguments)},y.prototype.getEnumerator=function(){var e=this.getSource(),t=-1;return{current:function(){return e[t]},moveNext:function(){return++t<e.length},dispose:o.Blank}};var m=function(e,t){this.prevSource=e,this.prevPredicate=t};m.prototype=new f,m.prototype.where=function(e){if((e=c.createLambda(e)).length<=1){var t=this.prevPredicate;return new m(this.prevSource,(function(r){return t(r)&&e(r)}))}return f.prototype.where.call(this,e)},m.prototype.select=function(e){return(e=c.createLambda(e)).length<=1?new v(this.prevSource,this.prevPredicate,e):f.prototype.select.call(this,e)},m.prototype.getEnumerator=function(){var e,t=this.prevPredicate,r=this.prevSource;return new h((function(){e=r.getEnumerator()}),(function(){for(;e.moveNext();)if(t(e.current()))return this.yieldReturn(e.current());return!1}),(function(){c.dispose(e)}))};var v=function(e,t,r){this.prevSource=e,this.prevPredicate=t,this.prevSelector=r};v.prototype=new f,v.prototype.where=function(e){return(e=c.createLambda(e)).length<=1?new m(this,e):f.prototype.where.call(this,e)},v.prototype.select=function(e){if((e=c.createLambda(e)).length<=1){var t=this.prevSelector;return new v(this.prevSource,this.prevPredicate,(function(r){return e(t(r))}))}return f.prototype.select.call(this,e)},v.prototype.getEnumerator=function(){var e,t=this.prevPredicate,r=this.prevSelector,n=this.prevSource;return new h((function(){e=n.getEnumerator()}),(function(){for(;e.moveNext();)if(null==t||t(e.current()))return this.yieldReturn(r(e.current()));return!1}),(function(){c.dispose(e)}))};var b=function(){var e=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t=function(e){return null===e?"null":void 0===e?"undefined":"function"==typeof e.toString?e.toString():Object.prototype.toString.call(e)},r=function(e,t){this.key=e,this.value=t,this.prev=null,this.next=null},n=function(){this.first=null,this.last=null};n.prototype={addLast:function(e){null!=this.last?(this.last.next=e,e.prev=this.last,this.last=e):this.first=this.last=e},replace:function(e,t){null!=e.prev?(e.prev.next=t,t.prev=e.prev):this.first=t,null!=e.next?(e.next.prev=t,t.next=e.next):this.last=t},remove:function(e){null!=e.prev?e.prev.next=e.next:this.first=e.next,null!=e.next?e.next.prev=e.prev:this.last=e.prev}};var i=function(e){this.countField=0,this.entryList=new n,this.buckets={},this.compareSelector=null==e?o.Identity:e};return i.prototype={add:function(n,i){var s=this.compareSelector(n),o=t(s),a=new r(n,i);if(e(this.buckets,o)){for(var u=this.buckets[o],c=0;c<u.length;c++)if(this.compareSelector(u[c].key)===s)return this.entryList.replace(u[c],a),void(u[c]=a);u.push(a)}else this.buckets[o]=[a];this.countField++,this.entryList.addLast(a)},get:function(r){var n=this.compareSelector(r),i=t(n);if(e(this.buckets,i))for(var s=this.buckets[i],o=0;o<s.length;o++){var a=s[o];if(this.compareSelector(a.key)===n)return a.value}},set:function(n,i){var s=this.compareSelector(n),o=t(s);if(e(this.buckets,o))for(var a=this.buckets[o],u=0;u<a.length;u++)if(this.compareSelector(a[u].key)===s){var c=new r(n,i);return this.entryList.replace(a[u],c),a[u]=c,!0}return!1},contains:function(r){var n=this.compareSelector(r),i=t(n);if(!e(this.buckets,i))return!1;for(var s=this.buckets[i],o=0;o<s.length;o++)if(this.compareSelector(s[o].key)===n)return!0;return!1},clear:function(){this.countField=0,this.buckets={},this.entryList=new n},remove:function(r){var n=this.compareSelector(r),i=t(n);if(e(this.buckets,i))for(var s=this.buckets[i],o=0;o<s.length;o++)if(this.compareSelector(s[o].key)===n)return this.entryList.remove(s[o]),s.splice(o,1),0==s.length&&delete this.buckets[i],void this.countField--},count:function(){return this.countField},toEnumerable:function(){var e=this;return new f((function(){var t;return new h((function(){t=e.entryList.first}),(function(){if(null!=t){var e={key:t.key,value:t.value};return t=t.next,this.yieldReturn(e)}return!1}),o.Blank)}))}},i}(),w=function(e){this.count=function(){return e.count()},this.get=function(t){return f.from(e.get(t))},this.contains=function(t){return e.contains(t)},this.toEnumerable=function(){return e.toEnumerable().select((function(e){return new E(e.key,e.value)}))}},E=function(e,t){this.key=function(){return e},y.call(this,t)};E.prototype=new y,r("PDX0")?void 0===(n=(function(){return f}).apply(t,[]))||(e.exports=n):void 0!==e&&e.exports?e.exports=f:i.Enumerable=f}(this)},AK2h:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("+yXC"),s=r("FYyq"),o=function(){this.buffer=s.makeU8Buffer(1<<18),this.pos=0,this.firstPass=!0;for(var e=0;e<5;e++)this.put("cSaCsA".charCodeAt(e%6))};o.prototype.put=function(e){return this.buffer[this.pos++]=e,this.pos>=1<<18&&(this.pos=0,this.firstPass=!1),e},o.prototype.get=function(e){return this.buffer[262143&e]},o.prototype.context=function(e,t){var r,n=[];for(e=e-t&262143,r=0;r<t;r++)n.push(this.buffer[e++]),e>=1<<18&&(e=0);return String.fromCharCode.apply(String,n)};var a=function(e,t){this.window=new o,this.contexts=Object.create(null);var r=function(){};r.prototype.encode=function(r,n){var i,s=0;for(i=0;i<r;i++)n[i]||s++;e.encodeFreq(1,s,t-n.total)},r.prototype.decode=function(r){var n,i,s,o=t-r.total;for(i=s=e.decodeCulFreq(o),n=0;n<=i;n++)r[n]&&i++;return e.decodeUpdate(1,s,o),i},this.cm1coder=new r;var n=function(){this.sym=[t],this.prob=[0,256],this.refcount=0};n.prototype._rescale=function(){var e,r,n=this.sym.length,i=0,s=!0;for(e=0,r=0;e<n;e++){var o=this.sym[e],a=this.prob[e+1]-this.prob[e];(a>>>=1)>0&&(o===t&&(s=!1),this.sym[r]=o,this.prob[r++]=i,i+=a)}return this.prob[r]=i,n=this.sym.length=r,this.prob.length=n+1,s&&n<t&&(i=this._update(t,n,0,1)),i},n.prototype.update=function(e,t){var r=0;for(r=0;r<this.sym.length;r++)if(this.sym[r]===e)return this._update(e,r,this.prob[r+1]-this.prob[r],t);return this._update(e,r,0,t)},n.prototype._update=function(e,r,n,i){var s,o,a,u=this.sym.length;for(o=r;o<u-1;o++)this.sym[o]=this.sym[o+1],this.prob[o]=this.prob[o+1]-n;if(r<u)this.sym[o]=e,this.prob[o]=this.prob[o+1]-n,this.prob[u]=a=this.prob[u]+i;else if(a=this.prob[u],this.sym[r]=e,this.prob[r]=a,this.prob[++u]=a+=i,this.sym.length>t)for(s=0;s<u;s++)t===this.sym[s]&&(this._update(t,s,this.prob[s+1]-this.prob[s],-1),this.sym.length--,this.prob.length--,a=this.prob[this.prob.length-1]);return a>=65280&&(a=this._rescale()),a},n.prototype.encode=function(r,n){var i,s,o,a,u,c,h=this.sym.length,l=0,f=0,d=0;for(i=h-1;i>=0;i--){if(o=this.prob[i+1]-(a=this.prob[i]),r===this.sym[i]){for(s=i-1;s>=0&&l<n.total;s--)n[this.sym[s]]&&(l+=1,f+=c=this.prob[s+1]-this.prob[s],d+=c);return u=this.prob[h],e.encodeFreq(o,a-=f,u-=d),r!==t||(this._update(r,i,o,128),!1)}n[this.sym[i]]&&(l+=1,d+=o)}for(this.encode(t,n),console.assert(this.sym[this.sym.length-1]===t),i=0;i<this.sym.length-1;i++)n[this.sym[i]]||(n[this.sym[i]]=!0,n.total++)},n.prototype.decode=function(r){var n,i,s=this.sym.length,o=this.prob[s],a=0,u=0,c=0;for(i=s-1;i>=0&&a<r.total;i--)r[this.sym[i]]&&(a+=1,c+=this.prob[i+1]-this.prob[i]);var h=e.decodeCulFreq(o-c)+c;for(u=c,i=s-1;i>=0;i--)if(r[this.sym[i]])u-=n=this.prob[i+1]-this.prob[i],h-=n;else if(this.prob[i]<=h)break;console.assert(i>=0);var l=this.sym[i],f=this.prob[i],d=this.prob[i+1]-f;if(e.decodeUpdate(d,f-u,o-c),l<t)return l;for(this._update(l,i,d,128),console.assert(this.sym[this.sym.length-1]===t),i=0;i<this.sym.length-1;i++)r[this.sym[i]]||(r[this.sym[i]]=!0,r.total++);return-1},this.newContext=function(e){return new n},this.newExclude=function(){var e=Object.create(null);return e.total=0,e},(function(){var e,t;for(e=0;e<5;e++)for(t=0;t<=e;t++){var r=this.window.context(t+(4-e),t);this.contexts[r]||(this.contexts[r]=this.newContext()),this.contexts[r].refcount++}}).call(this)};a.prototype.update=function(e,t,r){var n,i,s;for(i=0;i<=5;i++)s=t.slice(5-i),(n=this.contexts[s])||(n=this.contexts[s]=this.newContext()),i>=r&&n.update(e,128),n.refcount++;t=this.window.context(this.window.pos+5,5);var o=this.window.firstPass;for(i=5;i>=0&&!o;i--)s=t.slice(0,i),n=this.contexts[s],console.assert(n),--n.refcount<=0&&(console.assert(""!==s),delete this.contexts[s]);this.window.put(e)},a.prototype.decode=function(){var e,t,r,n,i=this.window.context(this.window.pos,5),s=this.newExclude();for(t=5;t>=0;t--)if(r=i.slice(5-t),(e=this.contexts[r])&&(n=e.decode(s))>=0)return this.update(n,i,t),n;return n=this.cm1coder.decode(s),this.update(n,i,t),n},a.prototype.encode=function(e){var t,r=this.window.context(this.window.pos,5),n=this.newExclude();for(t=5;t>=0;t--){var i=r.slice(5-t),s=this.contexts[i];if(s&&s.encode(e,n))return void this.update(e,r,t)}this.cm1coder.encode(e,n),this.update(e,r,t)},a.compressFile=s.compressFileHelper(a.MAGIC="ppm2",(function(e,t,r,n,o){var u=new i(t);u.encodeStart(o,1);var c=new a(u,r<0?257:256);s.compressWithModel(e,r,c),u.encodeFinish()}),!0),a.decompressFile=s.decompressFileHelper(a.MAGIC,(function(e,t,r){var n=new i(e);n.decodeStart(!0);var o=new a(n,r<0?257:256);s.decompressWithModel(t,r,o),n.decodeFinish()})),n.exports=a}).call(t,r,t,e))||(e.exports=n)},ANhw:function(e,t){var r,n;r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",e.exports=n={rotl:function(e,t){return e<<t|e>>>32-t},rotr:function(e,t){return e<<32-t|e>>>t},endian:function(e){if(e.constructor==Number)return 16711935&n.rotl(e,8)|4278255360&n.rotl(e,24);for(var t=0;t<e.length;t++)e[t]=n.endian(e[t]);return e},randomBytes:function(e){for(var t=[];e>0;e--)t.push(Math.floor(256*Math.random()));return t},bytesToWords:function(e){for(var t=[],r=0,n=0;r<e.length;r++,n+=8)t[n>>>5]|=e[r]<<24-n%32;return t},wordsToBytes:function(e){for(var t=[],r=0;r<32*e.length;r+=8)t.push(e[r>>>5]>>>24-r%32&255);return t},bytesToHex:function(e){for(var t=[],r=0;r<e.length;r++)t.push((e[r]>>>4).toString(16)),t.push((15&e[r]).toString(16));return t.join("")},hexToBytes:function(e){for(var t=[],r=0;r<e.length;r+=2)t.push(parseInt(e.substr(r,2),16));return t},bytesToBase64:function(e){for(var t=[],n=0;n<e.length;n+=3)for(var i=e[n]<<16|e[n+1]<<8|e[n+2],s=0;s<4;s++)t.push(8*n+6*s<=8*e.length?r.charAt(i>>>6*(3-s)&63):"=");return t.join("")},base64ToBytes:function(e){e=e.replace(/[^A-Z0-9+\/]/gi,"");for(var t=[],n=0,i=0;n<e.length;i=++n%4)0!=i&&t.push((r.indexOf(e.charAt(n-1))&Math.pow(2,-2*i+8)-1)<<2*i|r.indexOf(e.charAt(n))>>>6-2*i);return t}}},As0o:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("+yXC"),s=r("ZGXk"),o=r("FYyq"),a=Object.create(null);a.MAGIC="smpl",a.compressFile=o.compressFileHelper(a.MAGIC,(function(e,t,r,n,a){var u=new i(t);u.encodeStart(a,1);for(var c=o.makeU8Buffer(1<<17),h=[],l=0,f=!1,d=function(){var t=0;for(t=0;t<256;t++)h[t]=0;if(f)l=0;else{for(t=0;t<1<<17;){var r=e.readByte();if(r===s.EOF){f=!0;break}if(c[t++]=r,h[r]++,65535===h[r])break}l=t}};;){var p;if(d(),f&&0===l)break;for(u.encodeBit(!0),p=0;p<256;p++)u.encodeShort(h[p]);for(h[256]=l,p=256;p;p--)h[p-1]=h[p]-h[p-1];for(p=0;p<l;p++){var g=c[p];u.encodeFreq(h[g+1]-h[g],h[g],h[256])}}u.encodeBit(!1),u.encodeFinish()}),!0),a.decompressFile=o.decompressFileHelper(a.MAGIC,(function(e,t,r){var n=new i(e);for(n.decodeStart(!0);n.decodeBit();){var s,o=[];for(s=0;s<256;s++)o[s]=n.decodeShort();var a=0;for(s=0;s<256;s++){var u=o[s];o[s]=a,a+=u}for(o[256]=a,s=0;s<a;s++){var c,h=n.decodeCulFreq(a);for(c=0;c<256&&!(o[c]<=h&&h<o[c+1]);c++);n.decodeUpdate(o[c+1]-o[c],o[c],a),t.writeByte(c)}}n.decodeFinish()})),n.exports=a}).call(t,r,t,e))||(e.exports=n)},Br5v:function(e,t,r){const n=r("3wIk");e.exports=(e,t)=>new n(e,t).major},DXxi:function(e,t){const r="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=r},Dknc:function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>n(e,t,r)>=0},FYyP:function(e,t,r){"use strict";function n(e,t,r,n){var i,s=arguments.length,o=s<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,n);else for(var a=e.length-1;a>=0;a--)(i=e[a])&&(o=(s<3?i(o):s>3?i(t,r,o):i(t,r))||o);return s>3&&o&&Object.defineProperty(t,r,o),o}function i(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)}function s(e,t,r,n){return new(r||(r=Promise))((function(i,s){function o(e){try{u(n.next(e))}catch(t){s(t)}}function a(e){try{u(n.throw(e))}catch(t){s(t)}}function u(e){var t;e.done?i(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,a)}u((n=n.apply(e,t||[])).next())}))}function o(e){return"function"==typeof e}r.r(t),r("mNvP");let a=!1;const u={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else a&&console.log("RxJS: Back to a better error behavior. Thank you. <3");a=e},get useDeprecatedSynchronousErrorHandling(){return a}};function c(e){setTimeout(()=>{throw e},0)}const h={closed:!0,next(e){},error(e){if(u.useDeprecatedSynchronousErrorHandling)throw e;c(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))(),f=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:r,_unsubscribe:n,_subscriptions:i}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,r instanceof e)r.remove(this);else if(null!==r)for(let e=0;e<r.length;++e)r[e].remove(this);if(o(n))try{n.call(this)}catch(a){t=a instanceof f?p(a.errors):[a]}if(l(i)){let e=-1,r=i.length;for(;++e<r;){const r=i[e];if(null!==(s=r)&&"object"==typeof s)try{r.unsubscribe()}catch(a){t=t||[],a instanceof f?t=t.concat(p(a.errors)):t.push(a)}}}var s;if(t)throw new f(t)}add(t){let r=t;if(!t)return e.EMPTY;switch(typeof t){case"function":r=new e(t);case"object":if(r===this||r.closed||"function"!=typeof r.unsubscribe)return r;if(this.closed)return r.unsubscribe(),r;if(!(r instanceof e)){const t=r;r=new e,r._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:n}=r;if(null===n)r._parentOrParents=this;else if(n instanceof e){if(n===this)return r;r._parentOrParents=[n,this]}else{if(-1!==n.indexOf(this))return r;n.push(this)}const i=this._subscriptions;return null===i?this._subscriptions=[r]:i.push(r),r}remove(e){const t=this._subscriptions;if(t){const r=t.indexOf(e);-1!==r&&t.splice(r,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function p(e){return e.reduce((e,t)=>e.concat(t instanceof f?t.errors:t),[])}const g=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class y extends d{constructor(e,t,r){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=h;break;case 1:if(!e){this.destination=h;break}if("object"==typeof e){e instanceof y?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new m(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new m(this,e,t,r)}}[g](){return this}static create(e,t,r){const n=new y(e,t,r);return n.syncErrorThrowable=!1,n}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class m extends y{constructor(e,t,r,n){let i;super(),this._parentSubscriber=e;let s=this;o(t)?i=t:t&&(i=t.next,r=t.error,n=t.complete,t!==h&&(s=Object.create(t),o(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=i,this._error=r,this._complete=n}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;u.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:r}=u;if(this._error)r&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)r?(t.syncErrorValue=e,t.syncErrorThrown=!0):c(e),this.unsubscribe();else{if(this.unsubscribe(),r)throw e;c(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);u.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(r){if(this.unsubscribe(),u.useDeprecatedSynchronousErrorHandling)throw r;c(r)}}__tryOrSetError(e,t,r){if(!u.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,r)}catch(n){return u.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=n,e.syncErrorThrown=!0,!0):(c(n),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const v=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function b(){}let w=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const r=new e;return r.source=this,r.operator=t,r}subscribe(e,t,r){const{operator:n}=this,i=function(e,t,r){if(e){if(e instanceof y)return e;if(e[g])return e[g]()}return e||t||r?new y(e,t,r):new y(h)}(e,t,r);if(i.add(n?n.call(i,this.source):this.source||u.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),u.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}_trySubscribe(e){try{return this._subscribe(e)}catch(t){u.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:r,isStopped:n}=e;if(t||n)return!1;e=r&&r instanceof y?r:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=E(t))((t,r)=>{let n;n=this.subscribe(t=>{try{e(t)}catch(i){r(i),n&&n.unsubscribe()}},r,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[v](){return this}pipe(...e){return 0===e.length?this:((t=e)?1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)}:b)(this);var t}toPromise(e){return new(e=E(e))((e,t)=>{let r;this.subscribe(e=>r=e,e=>t(e),()=>e(r))})}}return e.create=t=>new e(t),e})();function E(e){if(e||(e=u.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const _=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class S extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const r=t.indexOf(this.subscriber);-1!==r&&t.splice(r,1)}}class I extends y{constructor(e){super(e),this.destination=e}}let T=(()=>{class e extends w{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[g](){return new I(this)}lift(e){const t=new B(this,this);return t.operator=e,t}next(e){if(this.closed)throw new _;if(!this.isStopped){const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].next(e)}}error(e){if(this.closed)throw new _;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,r=t.length,n=t.slice();for(let i=0;i<r;i++)n[i].error(e);this.observers.length=0}complete(){if(this.closed)throw new _;this.isStopped=!0;const{observers:e}=this,t=e.length,r=e.slice();for(let n=0;n<t;n++)r[n].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new _;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new _;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new S(this,e))}asObservable(){const e=new w;return e.source=this,e}}return e.create=(e,t)=>new B(e,t),e})();class B extends T{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function A(e,t){return function(r){return r.lift(new O(e,t))}}class O{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new x(e,this.predicate,this.thisArg))}}class x extends y{constructor(e,t,r){super(e),this.predicate=t,this.thisArg=r,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(r){return void this.destination.error(r)}t&&this.destination.next(e)}}function M(){return function(e){return e.lift(new R(e))}}class R{constructor(e){this.connectable=e}call(e,t){const{connectable:r}=this;r._refCount++;const n=new k(e,r),i=t.subscribe(n);return n.closed||(n.connection=r.connect()),i}}class k extends y{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:r}=this,n=e._connection;this.connection=null,!n||r&&n!==r||n.unsubscribe()}}class N extends w{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new D(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return M()(this)}}const L=(()=>{const e=N.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class D extends I{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function C(){return new T}function P(){return e=>{return M()((t=C,function(e){let r;r="function"==typeof t?t:function(){return t};const n=Object.create(e,L);return n.source=e,n.subjectFactory=r,n})(e));var t}}const U=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})(),F=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),$=new w(e=>e.complete());function j(e){return t=>0===e?$:t.lift(new G(e))}class G{constructor(e){if(this.total=e,this.total<0)throw new F}call(e,t){return t.subscribe(new z(e,this.total))}}class z extends y{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,r=++this.count;r<=t&&(this.destination.next(e),r===t&&(this.destination.complete(),this.unsubscribe()))}}function H(e=null){return t=>t.lift(new q(e))}class q{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new V(e,this.defaultValue))}}class V extends y{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function W(e=Z){return t=>t.lift(new X(e))}class X{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new Y(e,this.errorFactory))}}class Y extends y{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function Z(){return new U}function Q(e){return e}const K="object"==typeof window,J="function"==typeof importScripts;var ee=function(e){return e[e.INIT=0]="INIT",e[e.METHOD_CALL=1]="METHOD_CALL",e[e.METHOD_RETURN=2]="METHOD_RETURN",e[e.FIELD_GET=3]="FIELD_GET",e[e.FIELD_SET=4]="FIELD_SET",e[e.FIELD_RETURN=5]="FIELD_RETURN",e[e.SUBSCRIBE=6]="SUBSCRIBE",e[e.NEXT=7]="NEXT",e[e.ERROR=8]="ERROR",e[e.COMPLETE=9]="COMPLETE",e[e.UNSUBSCRIBE=10]="UNSUBSCRIBE",e}({});function te(e){return e.type===ee.INIT}function re(e){return"number"==typeof e.type&&"number"==typeof e.messageId&&Array.isArray(e.target)}function ne(e){return e.type===ee.NEXT}function ie(e){return e.type===ee.COMPLETE}function se(e){return e.type===ee.ERROR}let oe=(()=>{class e{static registerWorkerFactory(t,r){e._factories.set(t,r)}static getWorkerFactory(t){return e._factories.get(t)}static registerTarget(t){const r=Reflect.getMetadata(ae,t.constructor);e._instances.set(r,t)}static getTarget(t){return e._instances.get(t)}static runWorker(e){let t=null;const r=n=>{const i=n.data;if(re(i)){if(t)throw new Error(`Host instance for '${e.name}' already initialized.`);if(!te(i)||-1!==i.data.id)throw new Error(`Host instance for '${e.name}' not yet initialized.`);t=new e(...i.data.args),t.initializeAsHost(i),removeEventListener("message",r)}};addEventListener("message",r)}}return e._factories=new Map,e._instances=new Map,e})();const ae="__webworker__.targetKey";function ue(e){return class extends e{constructor(...e){super(...e),this._nextMessageId=0,this._parent=null,this._remoteSubs=new Map,this._queuedMessages=[],oe.registerTarget(this),this._initialized=new Promise(e=>{this._initHost=e})}get initialized(){return this.parentProxy?this.parentProxy.initialized:this._initialized}get nextMessageId(){return this._nextMessageId++}get incommingMessages(){return this.parentProxy?this.parentProxy.incommingMessages:this._incommingMessages}set parentProxy(e){this._parent=e,this.initListener()}initListener(){var e;this._msgSub&&(this._msgSub.unsubscribe(),this._msgSub=null),this.incommingMessages&&(this._msgSub=this.incommingMessages.subscribe(e=>{this.procressIncomingMessage(e)}),null===(e=this._proxies)||void 0===e||e.forEach(e=>e.initListener()))}get parentProxy(){return this._parent}get targetPath(){return this.parentProxy?[...this.parentProxy.targetPath,this._remoteId]:[(e=this,e="function"==typeof e?e:e.constructor,Reflect.getOwnMetadata(ae,e))];var e}prepareMessage(e){void 0===e.messageId&&(e.messageId=this.nextMessageId)}postMessage(e,t){this.queueMessage(()=>{this.prepareMessage(e),this.postMessageInternal(e,t)}),console.log("postMessage",this._queuedMessages,this)}queueMessage(e){this._queuedMessages?this._queuedMessages.push(e):e()}dispose(){this._proxies.forEach(e=>{e.dispose()}),"function"==typeof super.dispose&&super.dispose()}sendQueue(){if(this._queuedMessages){const e=this._queuedMessages;this._queuedMessages=void 0;for(const t of e)t()}}postMessageInternal(e,t){throw new Error("Method not implemented.")}postPromiseMethodCall(e,t,r){return s(this,void 0,void 0,(function*(){yield this.initialized;const r={messageId:this.nextMessageId,memberId:e,target:this.targetPath,type:ee.METHOD_CALL,data:t},n=this.getNextIncommingMessage(e=>e.type===ee.METHOD_RETURN&&e.messageId===r.messageId);return this.postMessage(r),(yield n).data}))}postObservableMethodCall(e,t,r){return w.create(r=>{let n;const i={messageId:this.nextMessageId,memberId:e,target:this.targetPath,type:ee.SUBSCRIBE,data:t};return(()=>{s(this,void 0,void 0,(function*(){yield this.initialized,n=this.incommingMessages.pipe(A(e=>(ne(e)||ie(e)||se(e))&&e.messageId===i.messageId)).subscribe(e=>{ne(e)?r.next(e.data):ie(e)?r.complete():r.error(e.data)}),this.postMessage(i)}))})(),()=>{var e;null===(e=n)||void 0===e||e.unsubscribe(),this.postMessage({messageId:i.messageId,memberId:i.memberId,target:i.target,type:ee.UNSUBSCRIBE})}}).pipe(P())}postPromiseFieldGet(e){return s(this,void 0,void 0,(function*(){yield this.initialized;const t={messageId:this.nextMessageId,memberId:e,target:this.targetPath,type:ee.FIELD_GET},r=this.getNextIncommingMessage(e=>e.type===ee.FIELD_RETURN&&e.messageId===t.messageId);return this.postMessage(t),(yield r).data}))}postPromiseFieldSet(e){return s(this,void 0,void 0,(function*(){yield this.initialized,this.postMessage({messageId:this.nextMessageId,memberId:e,target:this.targetPath,type:ee.FIELD_SET})}))}postObservableFieldGet(e){return w.create(t=>{let r;const n={messageId:this.nextMessageId,memberId:e,target:this.targetPath,type:ee.SUBSCRIBE};return(()=>{s(this,void 0,void 0,(function*(){yield this.initialized,r=this.incommingMessages.pipe(A(e=>(ne(e)||ie(e)||se(e))&&e.messageId===n.messageId)).subscribe(e=>{ne(e)?t.next(e.data):ie(e)?t.complete():t.error(e.data)}),this.postMessage(n)}))})(),()=>{var e;null===(e=r)||void 0===e||e.unsubscribe(),this.postMessage({messageId:n.messageId,memberId:n.memberId,target:n.target,type:ee.UNSUBSCRIBE})}}).pipe(P())}postObservableFieldSet(e){return null}initializeAsHost(e){this._incommingMessages=new T,this.parentProxy=null,this._initHost()}addProxy(e,t){this.removeProxy(e),t.setProxyParent(e,this),this._proxies||(this._proxies=new Map),this._proxies.set(e,t)}removeProxy(e){if(!this._proxies)return;const t=this._proxies.get(e);t&&(this._proxies.delete(e),t.setProxyParent(e,null))}setProxyParent(e,t){null===t?(this.parentProxy=null,this._remoteId=null):(this._remoteId=e,this.parentProxy=t)}getUnsubscribeKey(e){return e.memberId+"|"+e.messageId}getUnsubscribe(e){return this._remoteSubs.get(this.getUnsubscribeKey(e))}setUnsubscribe(e,t){this._remoteSubs.set(this.getUnsubscribeKey(e),t)}procressIncomingMessage(e){this.isTarget(e.target)&&(e.type===ee.METHOD_CALL?de(this,e.memberId)===Promise&&this.processPromiseMethodCall(e):function(e){return e.type===ee.FIELD_GET}(e)?de(this,e.memberId)===Promise&&this.processPromiseGet(e):function(e){return e.type===ee.FIELD_SET}(e)?de(this,e.memberId)===Promise&&this.processPromiseSet(e):function(e){return e.type===ee.SUBSCRIBE}(e)?_e(de(this,e.memberId),w)&&(e.data?this.processObservableCall(e):this.processObservableGet(e)):function(e){return e.type===ee.UNSUBSCRIBE}(e)&&_e(de(this,e.memberId),w)&&this.processObservableUnsub(e))}isTarget(e){return this.targetPath.join(".")===e.join(".")}processPromiseMethodCall(e){return s(this,void 0,void 0,(function*(){const t=fe(this,e.memberId),r=yield this[t].apply(this,e.data);this.postMessage({messageId:e.messageId,target:e.target,type:ee.METHOD_RETURN,data:r})}))}processPromiseGet(e){return s(this,void 0,void 0,(function*(){const t=fe(this,e.memberId),r=yield this[t];this.postMessage({messageId:e.messageId,target:e.target,type:ee.FIELD_RETURN,data:r})}))}processPromiseSet(e){return s(this,void 0,void 0,(function*(){}))}processObservableCall(e){return s(this,void 0,void 0,(function*(){const t=this[fe(this,e.memberId)].apply(this,e.data).subscribe(t=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.NEXT,data:t})},t=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.ERROR,data:t})},()=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.COMPLETE})});this.setUnsubscribe(e,t)}))}processObservableGet(e){return s(this,void 0,void 0,(function*(){const t=this[fe(this,e.memberId)].subscribe(t=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.NEXT,data:t})},t=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.ERROR,data:t})},()=>{this.postMessage({messageId:e.messageId,memberId:e.memberId,target:e.target,type:ee.COMPLETE})});this.setUnsubscribe(e,t)}))}processObservableUnsub(e){var t;return s(this,void 0,void 0,(function*(){fe(this,e.memberId),null===(t=this.getUnsubscribe(e))||void 0===t||t.unsubscribe(),this.setUnsubscribe(e,void 0)}))}getNextIncommingMessage(e){return s(this,void 0,void 0,(function*(){let t=this.incommingMessages;return e&&(t=t.pipe(A(e))),yield t.pipe(function(e,t){const r=arguments.length>=2;return n=>n.pipe(e?A((t,r)=>e(t,r,n)):Q,j(1),r?H(t):W(()=>new U))}()).toPromise()}))}}}function ce(e){return t=>K?function(e,t){class r extends(ue(e)){constructor(...e){super(...e),this.isHost=!1,this.workerInitialized=!1,this.ctorArgs=e;const t=oe.getWorkerFactory(r);t&&(this.isHost=!0,this.setWorker(t()))}dispose(){var e;super.dispose(),this.isHost&&(null===(e=this.worker)||void 0===e||e.terminate())}sendInitMessage(){const e={messageId:-1,target:this.targetPath,type:ee.INIT,data:{id:-1,args:this.ctorArgs}};this.worker.addEventListener("message",e=>{const t=e.data;if(re(t)){const e=t.target.join(".")===this.targetPath.join(".");if(this.workerInitialized){if(!te(t))if(e)this.incommingMessages.next(t);else{const e=this.targetPath[0],r=t.target[0],n=[...t.target];if(n.shift(),e===r){let e=this;for(;n.length;)e=e[fe(e,n.shift())];e.incommingMessages.next(t)}}}else{if(!te(t)||!e)throw new Error("Not Initialized");this.workerInitialized=!0,this.initializeAsHost(t)}}}),this.postMessage(e)}setWorker(e){this.worker||(this.worker=e,this.isHost&&this.sendInitMessage(),this.sendQueue())}postMessageInternal(e,t){this.worker.postMessage(e,t)}addProxy(e,t){super.addProxy(e,t),t.setWorker(this.worker)}}return pe(r,t),r}(t,e):function(e,t){class r extends(ue(e)){constructor(...e){super(...e),this.sendQueue()}initializeAsHost(e){super.initializeAsHost(e),addEventListener("message",e=>{const t=e.data;if(re(t))if(t.target.join(".")===this.targetPath.join("."))this.incommingMessages.next(t);else{const e=this.targetPath[0],r=t.target[0],n=[...t.target];if(n.shift(),e===r){let e=this;for(;n.length;)e=e[fe(e,n.shift())];e.incommingMessages.next(t)}}}),this.postMessage({target:e.target,type:ee.INIT,messageId:e.messageId,data:{id:e.data.id,args:void 0}})}postMessageInternal(e,t){postMessage(e,t)}}return pe(r,t),r}(t,e)}const he="__webworker__.remoteId";function le(e,t){return Reflect.getMetadata(he+"."+t,e)}function fe(e,t){return le(Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(e))),t)}function de(e,t){const r=Object.getPrototypeOf(Object.getPrototypeOf(Object.getPrototypeOf(e))),n=le(r,t);return Reflect.getMetadata("design:returntype",r,n)||Reflect.getMetadata("design:type",r,n)}function pe(e,t){Reflect.defineMetadata(ae,t,e)}function ge(e,t){const r=Reflect.getOwnMetadata(he,e)||0;return Reflect.defineMetadata(he,r+1,e),Reflect.defineMetadata(he,r,e,t),Reflect.defineMetadata(he+"."+r,t,e),r}var ye=function(e){return e[e.MAIN=0]="MAIN",e[e.WORKER=1]="WORKER",e}({});function me(e){return function(...t){return this.postPromiseMethodCall(e,t)}}function ve(e,t){return{get:function(){return this.postPromiseFieldGet(e)},set:function(e){}}}function be(e,t){let r;return{get:function(){return t?t.get.call(this):r},set:function(n){t?t.set.call(this,n):r=n,this.postPromiseFieldSet(e)}}}function we(e,t){return{get:function(){return this.postObservableFieldGet(e)},set:function(e){}}}function Ee(e,t){let r;return{get:function(){return t?t.get.call(this):r},set:function(e){t?t.set.call(this,e):r=e}}}function _e(e,t){return null!=e&&null!=e&&(e===t||e instanceof t||_e(Reflect.getPrototypeOf(e),t))}const Se="__cache_value__";function Ie(e,t,r){var n;return null===(n=Reflect.getOwnMetadata(Se,e,t))||void 0===n?void 0:n.get(r)}function Te(e,t,r,n){Reflect.hasOwnMetadata(Se,e,t)||Reflect.defineMetadata(Se,new Map,e,t),Reflect.getOwnMetadata(Se,e,t).set(r,n)}function Be(e,t,r){var n;return null===(n=Reflect.getOwnMetadata(Se,e,t))||void 0===n?void 0:n.has(r)}function Ae(){return(e,t,r)=>!r.get&&r.value?{value:function(...e){const n=JSON.stringify(e);if(Be(this,t,n))return Ie(this,t,n);const i=r.value.apply(this,e);return Te(this,t,n,i),i}}:{get:function(){if(Be(this,t,""))return Ie(this,t,"");const e=r.get.call(this);return Te(this,t,"",e),e},set:function(e){r.set&&(function(e,t,r){var n;null===(n=Reflect.getOwnMetadata(Se,e,t))||void 0===n||n.delete("")}(this,t),r.set.call(this,e))}}}function Oe(){return(e,t,r)=>function(e,t,r,n){var i;const s=!(e===ye.MAIN&&J||e===ye.WORKER&&K),o=ge(t,r),a=!n,u=!a&&!!n.value,c=!a&&!u&&!!n.get,h=u?Reflect.getMetadata("design:returntype",t,r):Reflect.getMetadata("design:type",t,r);if(!_e(h,Promise)&&!_e(h,w))throw new Error(`'${t.constructor.name}.${r.toString()}' must return a Promise or Observable but returns type '${(null===(i=h)||void 0===i?void 0:i.name)||"unknown"}'`);if(u){if(!s)return;return _e(h,Promise)?{value:me(o)}:s?function(e){return{value:function(...t){return this.postObservableMethodCall(e,t)}}}(o):{value:function(...e){}}}if(a)_e(h,Promise)?s?Reflect.defineProperty(t,r,ve(o)):Reflect.defineProperty(t,r,be(o)):s?Reflect.defineProperty(t,r,we(o)):Reflect.defineProperty(t,r,Ee());else if(c)return _e(h,Promise)?s?ve(o):be(o,n):s?we(o):Ee(0,n)}(ye.MAIN,e,t,r)}function xe(e,t){return`___${e}_${t}`}function Me(e,t,r,n){e[xe(t.toString(),r)]=n}function Re(e,t,r){return e[xe(t.toString(),r)]}function ke(){return(e,t)=>{const r=ge(e,t);Reflect.defineProperty(e,t,{get:function(){const e=Re(this,t,"value");return Re(this,t,"initializedValue")?this.worker&&"function"==typeof e.setWorker&&e.setWorker(this.worker):(Me(this,t,"initializedValue",e),this.addProxy(r,e)),e},set:function(e){Me(this,t,"initializedValue",null),Me(this,t,"value",e)}})}}function Ne(){return(e,t,r)=>{var n;if(J){if(null===(n=r)||void 0===n?void 0:n.value)return{value:()=>{throw new Error(`Cannot call method '${t.toString()}'. Call only allowed on main thread.`)}};{const n={get:()=>{throw new Error(`Cannot access property '${t.toString()}'. Access only allowed on main thread.`)},set:()=>{throw new Error(`Cannot set property '${t.toString()}'. Access only allowed on main thread.`)}};if(r)return n;Reflect.defineProperty(e,t,n)}}}}var Le=r("AGOE"),De=r.n(Le),Ce=function(e){return e[e.EMPTY=0]="EMPTY",e[e.PLAYER=1]="PLAYER",e[e.OBSERVER=2]="OBSERVER",e[e.AI=3]="AI",e}({});const Pe=["NNet.Game.SLoadingProgressMessage","NNet.Replay.Tracker.SUnitPositionsEvent","NNet.Game.SUserFinishedLoadingSyncEvent","NNet.Game.STriggerSoundLengthSyncEvent","NNet.Game.STriggerMouseMovedEvent","NNet.Game.SCameraUpdateEvent","NNet.Game.STriggerSoundOffsetEvent","NNet.Game.SSelectionDeltaEvent","NNet.Game.SControlGroupUpdateEvent","NNet.Game.SCommandManagerStateEvent","NNet.Game.SCmdUpdateTargetPointEvent","NNet.Game.SCmdUpdateTargetUnitEvent","NNet.Game.STriggerSoundtrackDoneEvent","NNet.Game.STriggerDialogControlEvent","NNet.Game.STriggerTransmissionCompleteEvent","NNet.Game.STriggerTransmissionOffsetEvent","NNet.Game.STriggerCutsceneEndSceneFiredEvent","NNet.Game.STriggerTargetModeUpdateEvent","NNet.Game.SCommandManagerResetEvent","NNet.Game.STriggerKeyPressedEvent","NNet.Game.SUnitClickEvent"];function Ue(e){return function(e){return"_event"in e&&0===e._event.indexOf("NNet.")}(e)&&0===e._event.indexOf("NNet.Replay.Tracker.")}function Fe(e,t,r=!1){if(e){var n=Object(Le.from)(e).singleOrDefault(e=>e.m_key===t);if(n)return r&&"number"==typeof n.m_value?n.m_value/4096:n.m_value}}class $e{constructor(e){this.replayAttributeEvents=e}get(e,t){return this.replayAttributeEvents.scopes[e][t][0].value}get pickOrder(){return this.get(16,4018)}get gameSpeed(){return this.get(16,3e3)}get gamePrivate(){return"Priv"===this.get(16,3009)}get draftMode(){return this.get(16,4010)}get banType(){return this.get(16,4021)}get bannerChooseMethod(){return this.get(16,4022)}getBanPlayerSlot(e){const t=this.get(16,0===e?4022:4027).trim();return"Hmmr"===t?-1:parseInt(t,10)}getBanWasLocked(e,t){let r;return r=0===e?t?4024:4026:t?4029:4031,"yes"===this.get(16,r)}getBan(e,t){let r;return r=0===e?t?4023:4025:t?4028:4030,this.get(16,r)}getWasBanned(e,t){const r=this.getBan(e,t);return!!r&&!!r.trim()}getPlayerRole(e){return this.get(e+1,4007)}}class je{constructor(...e){if(1===e.length&&"string"==typeof e[0])this.parseVersion(e[0]);else if(1!==e.length&&2!==e.length||"object"!=typeof e[0])this._major=e[0],this._minor=e[1],this._patch=e[2],this._build=e[3],this._baseBuild=e[4],this._ptr=e[5]||!1;else{const t=e[0];this._major=t.m_major,this._minor=t.m_minor,this._patch=t.m_revision,this._build=t.m_build,this._baseBuild=t.m_baseBuild,this._ptr=e[1]||!1}}parseVersion(e){"v"===e.charAt(0).toLowerCase()&&(e=e.substr(1));let t=e.split("_");2===t.length&&(this._ptr=!0),t=t[0].split("."),this._major=+t[0],this._minor=+t[1],this._patch=+t[2],this._build=+t[3],this._baseBuild=5===t.length?+t[4]:this._build}get major(){return this._major}get minor(){return this._minor}get patch(){return this._patch}get build(){return this._build}get baseBuild(){return this._baseBuild}get ptr(){return this._ptr}toString(){return`${this._major}.${this._minor}.${this._patch}.${this._build}`+(this._ptr?"_ptr":"")}}var Ge=r("WLfg"),ze=r.n(Ge);class He{constructor(e="keyval-store",t="keyval"){this.storeName=t,this._dbp=new Promise((r,n)=>{const i=indexedDB.open(e,1);i.onerror=()=>n(i.error),i.onsuccess=()=>r(i.result),i.onupgradeneeded=()=>{i.result.createObjectStore(t)}})}_withIDBStore(e,t){return this._dbp.then(r=>new Promise((n,i)=>{const s=r.transaction(this.storeName,e);s.oncomplete=()=>n(),s.onabort=s.onerror=()=>i(s.error),t(s.objectStore(this.storeName))}))}}let qe;function Ve(){return qe||(qe=new He),qe}function We(e,t=Ve()){let r;return t._withIDBStore("readonly",t=>{r=t.get(e)}).then(()=>r.result)}function Xe(e,t,r=Ve()){return r._withIDBStore("readwrite",r=>{r.put(t,e)})}function Ye(e,t=Ve()){return t._withIDBStore("readwrite",t=>{t.delete(e)})}r("3cPs");class Ze extends T{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new _;return this._value}next(e){super.next(this._value=e)}}class Qe{constructor(e){this.db=e,this.records=[]}get query(){return Object(Le.from)(this.records)}}class Ke{static getFile(e){return We("__fileCache__.data."+e)}static getFileEtag(e){return We("__fileCache__.etag."+e)}static getFileTime(e){return We("__fileCache__.modified."+e)}static storeFile(e,t,r,n){return s(this,void 0,void 0,(function*(){yield Xe("__fileCache__.data."+e,n),yield Xe("__fileCache__.etag."+e,t),yield Xe("__fileCache__.modified."+e,r)}))}}class Je{constructor(e,t){this.user=e,this.repo=t,this.apiBaseURL="https://api.github.com/repos",this.fileBaseURL="https://raw.githubusercontent.com"}get apiBaseUrl(){return`${this.apiBaseURL}/${this.user}/${this.repo}`}get fileBaseUrl(){return`${this.fileBaseURL}/${this.user}/${this.repo}`}listTags(){return s(this,void 0,void 0,(function*(){const e=yield this.callApi(`${this.apiBaseUrl}/tags`);return Object(Le.from)(e).select(e=>e.name).toArray()}))}listBranches(){return s(this,void 0,void 0,(function*(){const e=yield this.callApi(`${this.apiBaseUrl}/branches`);return Object(Le.from)(e).select(e=>e.name).toArray()}))}ls(e,t="master"){return this.callApi(`${this.apiBaseUrl}/contents/${e}?ref=${t}`)}read(e,t="master"){return s(this,void 0,void 0,(function*(){const r=yield this.readFile(e,t);if(r.ok)return yield r.text()}))}readJson(e,t="master"){return s(this,void 0,void 0,(function*(){const r=yield this.readFile(e,t);if(r.ok)return yield r.json()}))}readFile(e,t="master"){return s(this,void 0,void 0,(function*(){return yield fetch(`${this.fileBaseUrl}/${t}/${e}`)}))}callApi(e){return s(this,void 0,void 0,(function*(){const t={},r=yield Ke.getFileEtag(e);r&&(t["If-None-Match"]=r,t["If-Modified-Since"]=yield Ke.getFileTime(e));try{const n=yield fetch(e,{headers:t});if(n.ok){const t=yield n.text();return Ke.storeFile(e,n.headers.get("etag"),n.headers.get("last-modified"),t),JSON.parse(t)}if(304===n.status){const t=yield Ke.getFile(e);return JSON.parse(t)}if(console.warn(n.status,n.statusText),r){const t=yield Ke.getFile(e);return JSON.parse(t)}}catch(n){if(n instanceof TypeError&&r){const t=yield Ke.getFile(e);return JSON.parse(t)}throw n}return null}))}}let et=(()=>{class e{constructor(t,r="enus"){this.version=t,this.lang=r,this._versions=e.getBestVersion(t)}static getVersion(t,r="enus"){const n=`${r}|${t?t.toString():"latest"}`;if(!e._cache.has(n)){const i=new e(t,r);e._cache.set(n,i)}return e._cache.get(n)}static get versions(){return(()=>s(this,void 0,void 0,(function*(){const t=yield e.git.ls("heroesdata");return Object(Le.from)(t).select(e=>({version:e.name,value:new je(e.name)})).orderBy(e=>e.value).toArray()})))()}static getBestVersion(t){return(()=>s(this,void 0,void 0,(function*(){const r=yield this.versions;let n;if("latest"===t||void 0===t){const e=r[r.length-1];n=[e,e]}else{const e=Object(Le.from)(r).where(e=>e.value.build>=t.build).toArray(),i=0===e.length?r[r.length-1]:e[0];n=[i,i]}const i=yield e.git.readJson(`heroesdata/${n[0].version}/.hdp.json`);return i.duplicate&&(n[0]=i.duplicate.data?{version:i.duplicate.data,value:new je(i.duplicate.data)}:n[0],n[1]=i.duplicate.gamestring?{version:i.duplicate.gamestring,value:new je(i.duplicate.gamestring)}:n[1]),n})))()}get dataVersion(){return this._dataVersion||(this._dataVersion=(()=>s(this,void 0,void 0,(function*(){return(yield this._versions)[0]})))()),this._dataVersion}get gamestringVersion(){return this._gamestringVersion||(this._gamestringVersion=(()=>s(this,void 0,void 0,(function*(){return(yield this._versions)[1]})))()),this._gamestringVersion}getVersionUrl(e,t){return`heroesdata/${e.version}`+(t||"")}get dataBaseDir(){return(()=>s(this,void 0,void 0,(function*(){return this.getVersionUrl(yield this.dataVersion,"/data"),this.getVersionUrl(yield this.dataVersion,"/data")})))()}get gamestringBaseDir(){return(()=>s(this,void 0,void 0,(function*(){return this.getVersionUrl(yield this.gamestringVersion,"/gamestrings")})))()}read(t){return e.git.readJson(t)}readGameStrings(){return s(this,void 0,void 0,(function*(){const e=yield this.gamestringBaseDir,t=yield this.gamestringVersion;return this.read(`${e}/gamestrings_${t.value.build}_${this.lang}.json`)}))}readData(e){return s(this,void 0,void 0,(function*(){const t=yield this.dataBaseDir,r=yield this.dataVersion;return this.read(`${t}/${e}_${r.value.build}_localized.json`)}))}getHeroes(){return this.readData("herodata")}getMatchAwards(){return this.readData("matchawarddata")}getGameStrings(){try{return console.time("getGameStrings"),this.readGameStrings()}finally{console.timeEnd("getGameStrings")}}}return e.git=new Je("HeroesToolChest","heroes-data"),e._cache=new Map,n([Ae(),i("design:type",Function),i("design:paramtypes",[Object,String]),i("design:returntype",String)],e.prototype,"getVersionUrl",null),n([Ae(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],e.prototype,"getGameStrings",null),e})();const tt=/[\d]+/,rt=/^<.*?>(.*?): ([\d]+)/;class nt{static parseSingleNumber(e){if(!e)return;const t=e.match(tt);return parseFloat(t?t[0]||"":void 0)||void 0}static parseCost(e){if(!e)return;const t=e.match(rt);return parseFloat(t?t[2]||"":void 0)||void 0}static parseCooldown(e){return nt.parseSingleNumber(e)}static parseEnergyCost(e){return nt.parseCost(e)}static parseLifeCost(e){return nt.parseCost(e)}static parseEnergyType(e){if(!e)return;const t=e.match(rt);return t?t[1]||"":void 0}static normalizeString(e){var t;return null===(t=e)||void 0===t?void 0:t.replace(/[\xc0\xc1\xc2\xc3\xc4\xc5]/g,"A").replace(/[\xe0\xe1\xe2\xe3\xe4\xe5]/g,"a").replace(/[\xc8\xc9\xca\xcb\u0112\u0114\u0116\u0118\u011a]/g,"E").replace(/[\xe8\xe9\xea\xeb\u0113\u0115\u0117\u0119\u011b]/g,"e").replace(/[\xcc\xcd\xce\xcf\u0128\u012c\u012e\u0130]/g,"I").replace(/[\xec\xed\xee\xef\u0129\u012b\u012d\u012f]/g,"i").replace(/[\xd2\xd3\xd4\xd5\xd6\u014c\u014e\u0150]/g,"O").replace(/[\xf2\xf3\xf4\xf5\xf6\u014d\u014f\u0151]/g,"o").replace(/[\xd9\xda\xdb\xdc\u0168\u016a\u016c\u016e\u0170]/g,"U").replace(/[\xf9\xfa\xfb\xfc\u0169\u016b\u016d\u016f\u0171]/g,"u")}static normalizeStringNoSpace(e,t=""){return nt.normalizeString(e).replace(/[^a-z0-9 \-]/gi,"").replace(/[^a-z0-9]/gi,t)}static normalizeHeroName(e){return nt.normalizeString(e).replace(/[^a-z0-9]/gi,"")}}var it=function(e){return e.Active="Active",e.B="B",e.E="E",e.Heroic="Heroic",e.Passive="Passive",e.Q="Q",e.Spray="Spray",e.Trait="Trait",e.Voice="Voice",e.W="W",e.Z="Z",e}({});class st{constructor(e,t,r){this.data=e,this.gamestrings=t,this.gamestringsLocalized=r}get tooltipId(){return this.data.buttonId}get icon(){return this.data.icon}get isActive(){return!1!==this.data.isActive}get isPassive(){return void 0===this.data.isPassive?!this.isActive:this.data.isPassive}get id(){return this.data.nameId}get gameStringId(){return`${this.data.nameId}|${this.data.buttonId}|${this.data.abilityType}|${this.data.isPassive?"True":"False"}`}get charges(){return this.data.charges}get name(){return this.gamestringsLocalized.abiltalent.name[this.gameStringId]}get energyCostDescription(){return this.gamestringsLocalized.abiltalent.energy[this.gameStringId]}get energyCost(){return nt.parseEnergyCost(this.gamestrings.abiltalent.energy[this.gameStringId])}get energyCostTypeId(){return nt.parseEnergyType(this.gamestrings.abiltalent.energy[this.gameStringId])}get energyCostType(){return nt.parseEnergyType(this.energyCostDescription)}get lifeCostDescription(){return this.gamestringsLocalized.abiltalent.life[this.gameStringId]}get lifeCost(){return nt.parseEnergyCost(this.gamestrings.abiltalent.life[this.gameStringId])}get lifeCostTypeId(){return nt.parseEnergyType(this.gamestrings.abiltalent.life[this.gameStringId])}get lifeCostType(){return nt.parseEnergyType(this.lifeCostDescription)}get cooldownDescription(){return this.gamestringsLocalized.abiltalent.cooldown[this.gameStringId]}get cooldown(){return nt.parseCooldown(this.cooldownDescription)}get description(){return this.gamestringsLocalized.abiltalent.full[this.gameStringId]}get shortDescription(){return this.gamestringsLocalized.abiltalent.short[this.gameStringId]}get hotkey(){switch(this.data.abilityType){case it.Q:case it.W:case it.E:return this.data.abilityType;case it.Heroic:return"R";case it.Trait:return!1===this.isActive?"":"D";case it.Active:return"#";case it.Z:return!1===this.isActive?"":"Z";case it.B:return"B";default:return""}}get abilityButton(){return this.data.abilityType}}class ot extends st{constructor(e,t,r,n,i){var s,o;super(e,t,r),this.abilityList=n,this.talentList=i;let a=e.subabilityOf?e.subabilityOf.split("|"):[],u=a[0],c=a[1];const h=De.a.from(n).where(t=>t!==e),l=h.where(e=>e.buttonId===c).firstOrDefault();this._parentAbilityId=null===(s=l)||void 0===s?void 0:s.nameId;const f=De.a.from(i),d=f.where(e=>!1).concat(f.where(t=>t.nameId===e.nameId),f.where(e=>e.nameId===u),f.where(t=>t.nameId===e.nameId),f.where(e=>{var t;return e.nameId===(null===(t=l)||void 0===t?void 0:t.nameId)}),f.where(e=>e.buttonId===c),f.where(t=>t.buttonId===e.buttonId),f.where(e=>{var t;return e.buttonId===(null===(t=l)||void 0===t?void 0:t.buttonId)})).distinct(),p=d.concat(f.where(t=>!!t.abilityTalentLinkIds&&-1!==t.abilityTalentLinkIds.indexOf(e.nameId)),f.where(e=>{var t;return!!e.abilityTalentLinkIds&&-1!==e.abilityTalentLinkIds.indexOf(null===(t=l)||void 0===t?void 0:t.nameId)})).distinct();this._abilityTalentLinkIds=p.select(e=>e.nameId).toArray();let g=d.firstOrDefault();this._abilityTalentId=null===(o=g)||void 0===o?void 0:o.nameId,this._subabilityLinkIds=h.where(e=>e.subabilityOf===this.tooltipId).select(e=>e.nameId).toArray()}get abilityType(){return this.data.type}get requiresTalent(){return!!this._abilityTalentId}get requiredTalentId(){return this._abilityTalentId}get isSubAbility(){return!!this._parentAbilityId}get parentAbilityId(){return this._parentAbilityId}}class at extends st{constructor(e,t,r,n,i){super(e,t,r),this.abilityList=n,this.talentList=i}get sort(){return this.data.sort?this.data.sort-1:0}get abilityTalentLinkIds(){return this.data.abilityTalentLinkIds}get isQuest(){return this.data.isQuest}get prerequisiteTalentIds(){return this.data.prerequisiteTalentIds}get isActive(){return!0===this.data.isActive}get tier(){return this.data.tier}}class ut{constructor(e,t,r,n){var i,s,o;this.data=e,this.gamestrings=t,this.gamestringsLocalized=r,this._abilities=[],this._talents=[];let a=[],u=[];if(n){if(this._heroId=n.heroId,e.abilities)for(const t in e.abilities)if(e.abilities.hasOwnProperty(t)){const r=e.abilities[t];for(const e of r)a.push(Object.assign(Object.assign({},e),{type:t}))}if(e.subAbilities)for(const t of e.subAbilities)for(const e in t)if(t.hasOwnProperty(e)){const r=t[e];for(const t in r)if(r.hasOwnProperty(t)){const n=r[t];for(const r of n)a.push(Object.assign(Object.assign({},r),{subabilityOf:e,type:t}))}}if(null===(i=n)||void 0===i?void 0:i.talents)for(const e in n.talents)if(n.talents.hasOwnProperty(e)){const t=+e.substr(5),r=n.talents[e];for(const e of r)u.push(Object.assign(Object.assign({},e),{tier:t})),"Active"===e.abilityType&&!0===e.isActive&&a.push({abilityType:it.Active,buttonId:e.buttonId,icon:e.icon,nameId:e.nameId,charges:e.charges,isActive:!0===e.isActive,isPassive:e.isPassive,toggleCooldown:e.toggleCooldown,subabilityOf:e.abilityTalentLinkIds?e.abilityTalentLinkIds[0]:void 0,type:"activable"})}for(const e of a)this._abilities.push(new ot(e,this.gamestrings,this.gamestringsLocalized,a,u))}if(!n){if(this._heroId=null===(s=e)||void 0===s?void 0:s.heroId,null===(o=e)||void 0===o?void 0:o.talents){const t=e.talents;for(const e in t)if(t.hasOwnProperty(e)){const r=+e.substr(5),n=t[e];for(const e of n)u.push(Object.assign(Object.assign({},e),{tier:r}))}}for(const e of u)this._talents.push(new at(e,t,r,a,u))}}get talents(){return this._talents}getTalents(e){return this.talentQuery.where(t=>t.tier===e).toArray()}get unitId(){return this.data.unitId}get heroId(){return this._heroId}get tags(){return this.data.descriptors}get energy(){return this.data.energy}get linkId(){return this.data.hyperlinkId}get innerRadius(){return this.data.innerRadius}get life(){return this.data.life}get portraits(){return this.data.portraits}get radius(){return this.data.radius}get sight(){return this.data.sight}get speed(){return this.data.speed}get weapons(){return this.data.weapons}get damageTypeId(){return this.gamestrings.unit.damagetype[this.heroId]}get damageType(){return this.gamestringsLocalized.unit.damagetype[this.heroId]}get description(){return this.gamestringsLocalized.unit.description[this.heroId]}get difficultyId(){return this.gamestrings.unit.difficulty[this.heroId]}get difficulty(){return this.gamestringsLocalized.unit.difficulty[this.heroId]}get energyTypeId(){return this.gamestrings.unit.energytype[this.heroId]}get energyType(){return this.gamestringsLocalized.unit.energytype[this.heroId]}get expandedRoleId(){return this.gamestrings.unit.expandedrole[this.heroId]}get expandedRole(){return this.gamestringsLocalized.unit.expandedrole[this.heroId]}get lifeTypeId(){return this.gamestrings.unit.lifetype[this.heroId]}get lifeType(){return this.gamestringsLocalized.unit.lifetype[this.heroId]}get name(){return this.gamestringsLocalized.unit.name[this.heroId]}get roleId(){return this.gamestrings.unit.role[this.heroId]}get role(){return this.gamestringsLocalized.unit.role[this.heroId]}get searchText(){return this.gamestringsLocalized.unit.searchtext[this.heroId]}get shieldTypeId(){return this.gamestrings.unit.shieldtype[this.heroId]}get shieldType(){return this.gamestringsLocalized.unit.shieldtype[this.heroId]}get title(){return this.gamestringsLocalized.unit.title[this.heroId]}get typeId(){return this.gamestrings.unit.type[this.heroId]}get type(){return this.gamestringsLocalized.unit.type[this.heroId]}get abilities(){return this._abilities}get abilitiesQuery(){return De.a.from(this._abilities)}getAbility(e){return this.abilitiesQuery.where(t=>t.id===e).firstOrDefault()}get abilitiesQ(){return De.a.from(this.abilities).where(e=>"Q"===e.hotkey).toArray()}get abilitiesW(){return De.a.from(this.abilities).where(e=>"W"===e.hotkey).toArray()}get abilitiesE(){return De.a.from(this.abilities).where(e=>"E"===e.hotkey).toArray()}get abilitiesZ(){return De.a.from(this.abilities).where(e=>"mount"===e.abilityType).toArray()}get abilitiesB(){return De.a.from(this.abilities).where(e=>"hearth"===e.abilityType).toArray()}get abilitiesR(){return De.a.from(this.abilities).where(e=>"heroic"===e.abilityType).toArray()}get abilitiesD(){return De.a.from(this.abilities).where(e=>"trait"===e.abilityType).toArray()}get abilitiesActivatable(){return De.a.from(this.abilities).where(e=>"activable"===e.abilityType).toArray()}get talentQuery(){return De.a.from(this.talents)}getTalent(e,t){return"string"==typeof e?this.talentQuery.where(t=>t.id===e).firstOrDefault():this.talentQuery.where(r=>r.tier===e&&r.sort===t).firstOrDefault()}talentIdToIndex(e){return this.getTalent(e).sort}}class ct extends ut{constructor(e,t,r){if(super(e,t,r),this._formIds=[],this._forms=[],this._forms.push(new ut(e,t,r,e)),this._formIds.push(e.hyperlinkId),e.heroUnits)for(const n of e.heroUnits)for(const i in n)if(n.hasOwnProperty(i)){const s=n[i];this._forms.push(new ut(s,t,r,e)),this._formIds.push(s.hyperlinkId)}}get id(){return this.data.id}get shortName(){return this.data.shortName}get attributeId(){return this.data.attributeId}get rarity(){return this.data.rarity}get franchise(){return this.data.franchise}get gender(){return this.data.gender}get expandedRoleId(){return this.gamestrings.unit.expandedrole[this.heroId]}get expandedRole(){return this.gamestringsLocalized.unit.expandedrole[this.heroId]}get roleId(){return this.gamestrings.unit.role[this.heroId]}get role(){return this.gamestringsLocalized.unit.role[this.heroId]}get searchText(){return this.gamestringsLocalized.unit.searchtext[this.heroId]}get title(){return this.gamestringsLocalized.unit.title[this.heroId]}get typeId(){return this.gamestrings.unit.type[this.heroId]}get type(){return this.gamestringsLocalized.unit.type[this.heroId]}get forms(){return this._forms}get currentFormId(){return this._currentFormId}set currentFormId(e){this.setCurrentFormId(e)}setCurrentFormId(e){if(this._currentFormId!==e){if(-1===this._formIds.indexOf(e))throw new Error(`Hero '${this.name}' does not have a form with the id '${e}'`);this._currentFormId=e}}get currentForm(){return this.currentFormId?this._forms.find(e=>e.linkId===this.currentFormId):this._forms[0]}get energy(){return this.currentForm.energy}get innerRadius(){return this.currentForm.innerRadius}get life(){return this.currentForm.life}get portraits(){return Object.assign({},this.data.portraits,this.currentForm.portraits)}get radius(){return this.currentForm.radius}get sight(){return this.currentForm.sight}get speed(){return this.currentForm.speed}get weapons(){return this.currentForm.weapons}get damageTypeId(){return this.currentForm.damageTypeId}get damageType(){return this.currentForm.damageType}get description(){return this.currentForm.description}get difficultyId(){return this.currentForm.difficultyId}get energyTypeId(){return this.currentForm.energyTypeId}get energyType(){return this.currentForm.energyType}get lifeTypeId(){return this.currentForm.lifeTypeId}get lifeType(){return this.currentForm.lifeType}get name(){return this.currentForm.name}get heroName(){return this.gamestringsLocalized.unit.name[this.heroId]}get displayName(){return this.name===this.heroName?this.heroName:`${this.heroName} (${this.name})`}get shieldTypeId(){return this.currentForm.shieldTypeId}get shieldType(){return this.currentForm.shieldType}get abilities(){return this.currentForm.abilities}}class ht extends ct{constructor(e,t,r){super(e,t,r),this._levelSubject=new Ze(1),this._talentsSubject=new T,this._selectedTalentIndecies={1:-1,4:-1,7:-1,10:-1,13:-1,16:-1,20:-1},this._formSubject=new Ze(e.hyperlinkId)}get level(){return this._levelSubject.value}set level(e){e=Math.max(0,Math.min(30,e||0)),this.level!==e&&this._levelSubject.next(e)}get levelChange(){return this._levelSubject}setCurrentFormId(e){this.currentFormId!==e&&(super.setCurrentFormId(e),this._formSubject.next(e))}get formChange(){return this._formSubject}get selectedTalentIndecies(){return this._selectedTalentIndecies}get selectedTalentsChange(){return this._talentsSubject}get talentQuery(){return De.a.from(this.talents)}getSelectedTalentIndex(e){return this._selectedTalentIndecies[e]}getSelectedTalent(e){return this.getTalent(e,this.getSelectedTalentIndex(e))}getSelectedTalentId(e){var t;return null===(t=this.getSelectedTalent(e))||void 0===t?void 0:t.id}isTalentSelected(e,t){if(e instanceof at)return this._selectedTalentIndecies[e.tier]===e.sort;if("string"==typeof e){const t=this.getTalent(e);return this._selectedTalentIndecies[t.tier]===t.sort}return this._selectedTalentIndecies[e]===t}get selectedTalents(){return[this.getSelectedTalent(1),this.getSelectedTalent(4),this.getSelectedTalent(7),this.getSelectedTalent(10),this.getSelectedTalent(13),this.getSelectedTalent(16),this.getSelectedTalent(20)]}selectTalent(e,t){if(e instanceof at)this.selectTalentByIndex(e.tier,e.sort);else if("string"==typeof e){const t=this.getTalent(e);this.selectTalentByIndex(t.tier,t.sort)}else null==t&&(t=-1),this.selectTalentByIndex(e,t)}selectTalentByIndex(e,t){const r=this.getSelectedTalentIndex(e);if(r!==t){const n=this.getTalent(e,t),i=this.getTalent(e,r);if(i){const e=this.talentQuery.where(e=>!(!e.prerequisiteTalentIds||-1===e.prerequisiteTalentIds.indexOf(i.id)));for(const t of e){const e=t.tier,r=this.talentIdToIndex(t.id);this._selectedTalentIndecies[e]===r&&(this._selectedTalentIndecies[e]=-1)}}if(this._selectedTalentIndecies[e]=t,n.prerequisiteTalentIds)for(const e of n.prerequisiteTalentIds){const t=this.getTalent(e),r=this.talentIdToIndex(e);this.selectTalentByIndex(t.tier,r)}this._talentsSubject.next()}}getSelectedTalentsForAbility(e){if(e instanceof ot){const t=e.abilityButton;return De.a.from(this.selectedTalents).where(r=>{var n,i,s,o;return(null===(n=r)||void 0===n?void 0:n.abilityButton)===it.Passive&&"trait"===e.abilityType&&!(null===(i=r)||void 0===i?void 0:i.abilityTalentLinkIds)||"activale"!==e.abilityType&&(null===(s=r)||void 0===s?void 0:s.abilityButton)===t||!(null===(o=r)||void 0===o||!o.abilityTalentLinkIds)&&-1!==r.abilityTalentLinkIds.indexOf(e.id)}).where(t=>{var r,n;return(null===(r=t)||void 0===r?void 0:r.id)!==e.id&&(null===(n=t)||void 0===n?void 0:n.tooltipId)!==e.tooltipId}).toArray()}return this.getSelectedTalentsForAbility(this.getAbility(e))}get talentBuildValue(){let e=0,t=0;for(const r of this.talents)this.isTalentSelected(r)&&(e+=1<<t),t++;return e}set talentBuildValue(e){this._selectedTalentIndecies={1:-1,4:-1,7:-1,10:-1,13:-1,16:-1,20:-1};let t=0;for(const r of this.talents){const n=1<<t;(e&n)===n&&this.selectTalent(r),t++}}get talentBuildUrl(){return this.talentBuildValue.toString(36)}set talentBuildUrl(e){this.talentBuildValue=parseInt(e,36)}get talentBuildIngameLink(){const e=[];for(const t in this.selectedTalentIndecies)this.selectedTalentIndecies.hasOwnProperty(t)&&e.push(this.selectedTalentIndecies[t]+1);return`[T${e.join("")},${this.shortName}]`}set talentBuildIngameLink(e){const t=e.match(/\[T([\d]+),([A-Za-z0-9]+)\]/),r=t[2];if(r!==this.shortName)throw new Error(`'${r}' does not match '${this.shortName}'`);const n=t[1];let i=0;for(const s in this.selectedTalentIndecies)if(this.selectedTalentIndecies.hasOwnProperty(s)){const e=+n.charAt(i++)-1;this.selectTalent(+s,e)}}get abilitiesQuery(){return De.a.from(this.abilities)}get activeAbilitiesQuery(){let e=[];return this.abilitiesQuery.where(e=>{if(e.requiresTalent&&!this.isTalentSelected(e.requiredTalentId))return!1;if(e.parentAbilityId){const t=this.getAbility(e.parentAbilityId);if(t.requiresTalent&&!this.isTalentSelected(t.requiredTalentId))return!1}return!0}).orderByDescending(e=>e.requiresTalent).orderBy(e=>e.isSubAbility).orderByDescending(e=>e.isActive).select(t=>{let r=t.abilityType;if("activable"===r)if(t.isSubAbility){const n=e.indexOf(t.parentAbilityId);if(-1===n){r="-1";const n=this.getAbility(t.parentAbilityId);"activable"!==n.abilityType&&(e.push(n.id),r=e.length.toString())}else r=(n+1).toString()}else e.push(t.id),r=e.length.toString();return{k:r,v:t}}).groupBy(e=>"basic"===e.k?e.v.hotkey:e.k,e=>e.v,(e,t)=>({k:e,v:t.toArray()})).groupBy(e=>+e.k>=0?"activable":e.k,e=>e.v,(e,t)=>"activable"===e?{k:e,v:t.toArray()}:{k:e,v:t.toArray()[0]})}get activeAbilities(){return this.activeAbilitiesQuery.toDictionary(e=>e.k,e=>e.v)}get activeAbilityZ(){return De.a.from(this.activeAbilities.get("mount")).firstOrDefault()}get activeAbilityB(){return De.a.from(this.activeAbilities.get("hearth")).firstOrDefault()}get activeAbilityQ(){return De.a.from(this.activeAbilities.get("Q")).orderBy(e=>e.requiresTalent).firstOrDefault()}get activeAbilityW(){return De.a.from(this.activeAbilities.get("W")).orderBy(e=>e.requiresTalent).firstOrDefault()}get activeAbilityE(){return De.a.from(this.activeAbilities.get("E")).orderBy(e=>e.requiresTalent).firstOrDefault()}get activeAbilityR(){return De.a.from(this.activeAbilities.get("heroic")).firstOrDefault()}get activeAbilityD(){return De.a.from(this.activeAbilities.get("trait")).orderByDescending(e=>e.requiresTalent).orderByDescending(e=>e.isActive).firstOrDefault()}get activeAbilityActivatable(){return De.a.from(this.activeAbilities.get("activable")).select(e=>e[0]).orderBy(e=>e.requiresTalent).toArray()}}let lt=(()=>{class e extends Qe{getHeroIds(){return s(this,void 0,void 0,(function*(){return yield this.initialize(),this.query.select(e=>e.id).toArray()}))}createUnit(e,t){const r=e.hyperlinkId,n={linkId:e.hyperlinkId,innerRadius:e.innerRadius,radius:e.radius,sight:e.sight,speed:e.speed,life:e.life,weapons:e.weapons,energy:e.energy,portraits:e.portraits,tags:e.descriptors,abilities:[],energytype:t.unit.energytype[r],name:t.unit.name[r]};for(const i in e.abilities)if(e.abilities.hasOwnProperty(i)){const r=e.abilities[i];for(const e of r){const r=this.getAbilityStringId(e),i={id:e.nameId,type:"ability",tooltipId:e.buttonId,button:e.abilityType,icon:e.icon,charges:e.charges,name:t.abiltalent.name[r],description:t.abiltalent.full[r],shortDescription:t.abiltalent.short[r],cooldownDescription:this.prepareGameString(t.abiltalent.cooldown[r]),cooldown:nt.parseCooldown(t.abiltalent.cooldown[r]),energyCostDescription:this.prepareGameString(t.abiltalent.energy[r]),energyCost:nt.parseEnergyCost(t.abiltalent.energy[r]),energyCostType:nt.parseEnergyType(t.abiltalent.energy[r]),lifeCostDescription:this.prepareGameString(t.abiltalent.life[r]),lifeCost:nt.parseLifeCost(t.abiltalent.life[r])};n.abilities.push(i)}}if(e.subAbilities)for(const i of e.subAbilities)for(const e in i)if(i.hasOwnProperty(e)){const r=i[e];for(const e in r)if(r.hasOwnProperty(e)){const i=r[e];for(const e of i){const r=this.getAbilityStringId(e),i={id:e.nameId,type:"subability",tooltipId:e.buttonId,button:e.abilityType,icon:e.icon,charges:e.charges,name:t.abiltalent.name[r],description:t.abiltalent.full[r],shortDescription:t.abiltalent.short[r],cooldownDescription:this.prepareGameString(t.abiltalent.cooldown[r]),cooldown:nt.parseCooldown(t.abiltalent.cooldown[r]),energyCostDescription:this.prepareGameString(t.abiltalent.energy[r]),energyCost:nt.parseEnergyCost(t.abiltalent.energy[r]),energyCostType:nt.parseEnergyType(t.abiltalent.energy[r]),lifeCostDescription:this.prepareGameString(t.abiltalent.life[r]),lifeCost:nt.parseLifeCost(t.abiltalent.life[r])};n.abilities.push(i)}}}return n}getAbilityStringId(e){return`${e.nameId}|${e.buttonId}|${e.abilityType}|${e.isPassive?"True":"False"}`}prepareGameString(e){var t;return null===(t=e)||void 0===t?void 0:t.replace(/<c val="([0-9a-f]+)">(.*?)<\/c>/g,'<span style="color:#$1">$2</span>').replace(/ path="@UI\/(.*?)" /g,' src="assets/icons/tooltips/$1.png" ')}createTalents(e,t){const r={};for(const n in e){const i=e[n],s=[];for(const e of i){const r=this.getAbilityStringId(e),i={id:e.nameId,type:"talent",tier:+n.match(/[\d]+/)[0],tooltipId:e.buttonId,button:e.abilityType,sort:e.sort,icon:e.icon,abilityTalentLinkIds:e.abilityTalentLinkIds,isQuest:e.isQuest||!1,isActive:e.isActive||!1,isPassive:e.isPassive||"Passive"===e.abilityType||!1,charges:e.charges,prerequisiteTalentIds:e.prerequisiteTalentIds,toggleCooldown:e.toggleCooldown,name:t.abiltalent.name[r],shortDescription:t.abiltalent.short[r],description:t.abiltalent.full[r],cooldownDescription:t.abiltalent.cooldown[r],cooldown:nt.parseCooldown(t.abiltalent.cooldown[r]),energyCostDescription:t.abiltalent.energy[r],energyCost:nt.parseEnergyCost(t.abiltalent.energy[r]),energyCostType:nt.parseEnergyType(t.abiltalent.energy[r]),lifeCostDescription:t.abiltalent.life[r],lifeCost:nt.parseLifeCost(t.abiltalent.life[r])};switch(i.button){case"Passive":i.button=void 0;break;case"Active":i.button="#"}s.push(i)}r[n]=s}return r}getHeroByHeroId(e){return s(this,void 0,void 0,(function*(){yield this.initialize();const t=this.query.first(t=>t.heroId===e),r=(yield this.apiData.getGameStrings()).gamestrings;return new ht(t,this.gameStrings,r)}))}getHero(e){return s(this,void 0,void 0,(function*(){yield this.initialize();const t=this.query.first(t=>t.id===e),r=(yield this.apiData.getGameStrings()).gamestrings;return new ht(t,this.gameStrings,r)}))}getHeroList(){return s(this,void 0,void 0,(function*(){yield this.initialize();const e=(yield this.apiData.getGameStrings()).gamestrings;return this.query.select(t=>{const r=t.heroId;return{id:t.id,franchise:t.franchise,gender:t.gender,releaseDate:t.releaseDate,rarity:t.rarity,ratings:t.ratings,portraits:t.portraits,role:e.unit.role[r],type:e.unit.type[r],title:e.unit.title[r],expandedRole:e.unit.expandedrole[r],name:e.unit.name[r],difficulty:e.unit.difficulty[r],description:e.unit.description[r],searchText:e.unit.searchtext[r],tags:t.descriptors}}).toArray()}))}initialize(){return s(this,void 0,void 0,(function*(){console.time("HeroesCollection.initialize"),this.apiData=et.getVersion(this.db.version,this.db.lang),this.gameStringsLocalized=(yield this.apiData.getGameStrings()).gamestrings,this.gameStrings=(yield et.getVersion(this.db.version,"enus").getGameStrings()).gamestrings;const e=yield this.apiData.getHeroes();this.records=[];for(const t in e)if(e.hasOwnProperty(t)){const r=e[t];r.heroId=t;const n=nt.normalizeHeroName(r.hyperlinkId);r.id=n.toLowerCase(),r.shortName=n,this.records.push(r)}console.timeEnd("HeroesCollection.initialize"),console.log(this.records)}))}get version(){return(()=>s(this,void 0,void 0,(function*(){return yield this.initialize(),(yield this.apiData.dataVersion).value})))()}}return n([Ae(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],e.prototype,"initialize",null),e})(),ft=(()=>{class e extends Qe{initialize(){return s(this,void 0,void 0,(function*(){this.apiData=et.getVersion(this.db.version,this.db.lang);const e=(yield this.apiData.getGameStrings()).gamestrings,t=yield this.apiData.getMatchAwards();this.records=[];for(const r in t)if(t.hasOwnProperty(r)){const n=t[r];this.records.push({id:r,gameLink:n.gameLink,tag:n.tag,mvpScreenIcon:n.mvpScreenIcon,scoreScreenIcon:n.scoreScreenIcon,name:e.award.name[r],description:e.award.description[r]})}}))}get awards(){return(()=>s(this,void 0,void 0,(function*(){return yield this.initialize(),this.records})))()}get awardsQ(){return(()=>s(this,void 0,void 0,(function*(){return yield this.initialize(),De.a.from(this.records)})))()}getAward(e){return s(this,void 0,void 0,(function*(){return(yield this.awardsQ).where(t=>t.id===e).firstOrDefault()}))}getAwardByLink(e){return s(this,void 0,void 0,(function*(){return(yield this.awardsQ).where(t=>t.gameLink===e).firstOrDefault()}))}getAwardByTag(e){return s(this,void 0,void 0,(function*(){return(yield this.awardsQ).where(t=>t.tag===e).firstOrDefault()}))}}return n([Ae(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],e.prototype,"initialize",null),e})(),dt=(()=>{class e{constructor(e,t){this.version=e,this.lang=t,this._heroes=new lt(this),this._awards=new ft(this)}static getVersion(t,r="enus"){const n=`${r}|${t.toString()}`;if(!e._cache.has(n)){const i=new e(t,r);e._cache.set(n,i)}return e._cache.get(n).initialize()}initialize(){return this._initialized?this._initialized:this._initialized=new Promise((e,t)=>s(this,void 0,void 0,(function*(){yield Promise.all([this._heroes.initialize(),this._awards.initialize()]),e(this)})))}get heroes(){return(()=>s(this,void 0,void 0,(function*(){return yield this.initialize(),this._heroes})))()}get matchAwards(){return(()=>s(this,void 0,void 0,(function*(){return yield this.initialize(),this._awards})))()}}return e._cache=new Map,e})();var pt=r("dSED"),gt=r("tjlA"),yt=r("2lpH");class mt extends Error{constructor(e="Corrupted Error"){super(e)}}class vt extends Error{constructor(e="Truncate Error"){super(e)}}class bt{constructor(e,t="big"){this._used=0,this._next=null,this._nextBits=0,this._data=e||new gt.Buffer(0),this._bigEndian="big"===t}toString(){return"buffer("+(this._nextBits&&this._next||0).toString(16)+"/"+this._nextBits+",["+this._used+"]="+(this._used<this._data.length?this._data.readUInt8(this._used).toString(16):"--")+")"}get isDone(){return 0===this._nextBits&&this._used>=this._data.length}get size(){return 8*this._data.length}get usedBits(){return 8*this._used-this._nextBits}byteAlign(){this._nextBits=0}readAlignedBytes(e){this.byteAlign();const t=this._data.slice(this._used,this._used+e);if(this._used+=e,t.length!==e)throw new vt(this.toString());return t}readBits(e){let t=0,r=0;for(;r!==e;){if(0===this._nextBits){if(this.isDone)throw new vt(this.toString());this._next=this._data.readUInt8(this._used),this._used+=1,this._nextBits=8}const n=Math.min(e-r,this._nextBits),i=this._next&(1<<n)-1;t|=this._bigEndian?i<<e-r-n:i<<r,this._next>>=n,this._nextBits-=n,r+=n}return t}readUnalignedBytes(e){const t=new gt.Buffer(e);for(let r=0;r<e;r+=1)t.writeUInt8(this.readBits(8),r);return t}}class wt{constructor(e,t){this._buffer=new bt(e),this._typeinfos=t}toString(){return this._buffer.toString()}instance(e){if(e>=this._typeinfos.length)throw new mt(this.toString());const t=this._typeinfos[e];return this[t[0]].apply(this,t[1])}byteAlign(){this._buffer.byteAlign()}get isDone(){return this._buffer.isDone}get usedBits(){return this._buffer.usedBits}get size(){return this._buffer.size}}var Et=Object.freeze({__proto__:null,BitPackedBuffer:bt,VersionDecoder:class extends wt{constructor(e,t){super(e,t)}_expectSkip(e){if(this._buffer.readBits(8)!==e)throw new mt(this.toString())}_vint(){let e=this._buffer.readBits(8);const t=1&e;let r=e>>1&63,n=6;for(;0!=(128&e);){e=this._buffer.readBits(8);let t=new yt;t=Object(yt.fromString)(r.toString(),!1),r=t.or((127&e)*Math.pow(2,n)).toString(),n+=7}return r=parseInt(r.toString(),10),t?-r:r}_array(e,t){this._expectSkip(0);const r=this._vint(),n=[];for(let i=0;i<r;i++)n[i]=this.instance(t);return n}_bitarray(e){this._expectSkip(1);const t=this._vint();return[t,this._buffer.readAlignedBytes((t+7)/8)]}_blob(e){this._expectSkip(2);const t=this._vint();return this._buffer.readAlignedBytes(t)}_bool(){return this._expectSkip(6),0!==this._buffer.readBits(8)}_choice(e,t){this._expectSkip(3);const r=t[this._vint()];if(!r)return this._skipInstance(),{};const n={};return n[r[0]]=this.instance(r[1]),n}_fourcc(){return this._expectSkip(7),this._buffer.readAlignedBytes(4)}_int(){return this._expectSkip(9),this._vint()}_null(){return null}_optional(e){return this._expectSkip(4),0!==this._buffer.readBits(8)?this.instance(e):null}_real32(){return this._expectSkip(7),this._buffer.readAlignedBytes(4).readFloatBE(0)}_real64(){return this._expectSkip(8),this._buffer.readAlignedBytes(8).readDoubleBE(0)}_struct(e){function t(e){return function(t){return e===t[2]}}this._expectSkip(5);let r={};const n=this._vint();for(let i=0;i<n;i+=1){const n=this._vint(),i=e.find(t(n));if(i)if("__parent"===i[0]){const t=this.instance(i[1]);t&&"object"==typeof t&&!Array.isArray(t)?r=Object.assign(r,t):0===e.length?r=t:r[i[0]]=t}else r[i[0]]=this.instance(i[1]);else this._skipInstance()}return r}_skipInstance(){const e=this._buffer.readBits(8);let t,r,n;if(0===e){t=this._vint();for(let e=0;e<t;e++)this._skipInstance()}else if(1===e)t=this._vint(),this._buffer.readAlignedBytes((t+7)/8);else if(2===e)t=this._vint(),this._buffer.readAlignedBytes(t);else if(3===e)n=this._vint(),this._skipInstance();else if(4===e)r=0!==this._buffer.readBits(8),r&&this._skipInstance();else if(5===e){t=this._vint();for(let e=0;e<t;e+=1)n=this._vint(),this._skipInstance()}else 6===e?this._buffer.readAlignedBytes(1):7===e?this._buffer.readAlignedBytes(4):8===e?this._buffer.readAlignedBytes(8):9===e&&this._vint()}},BitPackedDecoder:class extends wt{constructor(e,t){super(e,t)}_array(e,t){const r=this._int(e),n=[];for(let i=0;i<r;i+=1)n[i]=this.instance(t);return n}_bitarray(e){const t=this._int(e);return[t,this._buffer.readBits(t)]}_blob(e){const t=this._int(e);return this._buffer.readAlignedBytes(t)}_bool(){return 0!==this._int([0,1])}_choice(e,t){const r=t[this._int(e)];if(!r)throw new mt(this.toString());const n={};return n[r[0]]=this.instance(r[1]),n}_fourcc(){return this._buffer.readUnalignedBytes(4)}_int(e){return e[0]+this._buffer.readBits(e[1])}_null(){return null}_optional(e){return this._bool()?this.instance(e):null}_real32(){return this._buffer.readUnalignedBytes(4).readFloatBE(0)}_real64(){return this._buffer.readUnalignedBytes(8).readDoubleBE(0)}_struct(e){let t={};return e.forEach(r=>{if("__parent"===r[0]){const n=this.instance(r[1]);n&&"object"==typeof n&&!Array.isArray(n)?t=Object.assign(t,n):0===e.length?t=n:t[r[0]]=n}else t[r[0]]=this.instance(r[1])}),t}}});const _t={tuple:function(e){return e.match(/(-?\w+)/g)},tuples:function(e){return e.match(/(\(.*?\))/g)},_int:{decode:function(e){const t={},r=_t.tuple(e);return t.bounds=[r[0],r[1]],t},encode:function(e){return`[${e.bounds[0]}, ${e.bounds[1]}]`}},_choice:{decode:function(e){const t={bounds:[],choices:[]},r=_t.tuples(e);Object.assign(t,_t._int.decode(r[0]));for(let n=1;n<r.length;n+=1){const e=_t.tuple(r[n]);t.choices.push({label:e[0],typeIndex:e[1]})}return t},encode:function(e){return`[${e.bounds[0]}, ${e.bounds[1]}], { ${e.choices.map((e,t,r)=>`${t}: ['${e.label}', ${e.typeIndex}]${t===r.length-1?"":", "}`).join("")}}`}},_struct:{decode:function(e){const t={items:[]},r=_t.tuples(e);return r&&r.forEach(e=>{e=_t.tuple(e),t.items.push({label:e[0],typeIndex:e[1],tag:e[2]})}),t},encode:function(e){return`[${e.items.map((e,t,r)=>`['${e.label}', ${e.typeIndex}, ${e.tag}]${t===r.length-1?"":", "}`).join("")}]`}},_blob:{decode:function(e){return _t._int.decode(e)},encode:function(e){return _t._int.encode(e)}},_bool:{decode:function(e){return{}},encode:function(e){return""}},_array:{decode:function(e){return Object.assign({typeIndex:e.match(/\d+$/)[0]},_t._int.decode(e))},encode:function(e){return`[${e.bounds[0]}, ${e.bounds[1]}], ${e.typeIndex}`}},_optional:{decode:function(e){return{typeIndex:Number(e)}},encode:function(e){return`${e.typeIndex}`}},_fourcc:{decode:function(e){return{}},encode:function(e){return""}},_bitarray:{decode:function(e){return _t._int.decode(e)},encode:function(e){return _t._int.encode(e)}},_null:{decode:function(e){return{}},encode:function(e){return""}}},St={realms:[void 0,"live"],regions:[void 0,void 0,"Europe"],heroes:[],mounts:[],maps:[],builds:[]};class It{constructor(e,t){this.version=e,this.pyCode=t}static compile(e){const t=(new Date).getTime(),r={progress:new T},n=Function("exports","decoders","onprogress",e);let i=0,s="";return n(r,Et,e=>{const t=(new Date).getTime();(s!==e.file||e.currrent===e.total||t-i>20)&&(r.progress.next(e),i=t,s=e.file)}),console.log("Protocol Compile Time: ",(new Date).getTime()-t),r}convert(){return It.compile(this.getCode())}getCode(){return this.parse(this.pyCode),this.write()}parse(e){const t=(new Date).getTime(),r=e.split("\n");let n,i=0;for(this.typeinfos=[],this.gameeventsTypes=[],this.messageeventsTypes=[],this.trackereventstypes=[];i<r.length;){if(n=r[i].trim(),"typeinfos = ["===n){i+=1,n=r[i].trim();do{this.typeinfos.push(this.parseTypeinfos(n)),i+=1,n=r[i].trim()}while("]"!==n)}else if("game_event_types = {"===n){i+=1,n=r[i].trim();do{this.gameeventsTypes.push(this.parseEvent(n)),i+=1,n=r[i].trim()}while("}"!==n)}else if("message_event_types = {"===n){i+=1,n=r[i].trim();do{this.messageeventsTypes.push(this.parseEvent(n)),i+=1,n=r[i].trim()}while("}"!==n)}else if("tracker_event_types = {"===n){i+=1,n=r[i].trim();do{this.trackereventstypes.push(this.parseEvent(n)),i+=1,n=r[i].trim()}while("}"!==n)}else n.startsWith("game_eventid_typeid =")?this.gameeventsTypeid=n.match(/\d+/)[0]:n.startsWith("message_eventid_typeid =")?this.messageeventsTypeid=n.match(/\d+/)[0]:n.startsWith("tracker_eventid_typeid =")?this.trackereventsTypeid=n.match(/\d+/)[0]:n.startsWith("replay_header_typeid =")?this.headerTypeid=n.match(/\d+/)[0]:n.startsWith("game_details_typeid =")?this.detailsTypeid=n.match(/\d+/)[0]:n.startsWith("replay_initdata_typeid =")&&(this.initdataTypeid=n.match(/\d+/)[0]);i+=1}console.log("Protocol Parse Time: ",(new Date).getTime()-t)}parseEvent(e){const t=e.match(/^(\d+):\s\((\d+),\s\'(.*)\'/);return{key:t[1],typeIndex:t[2],name:t[3]}}parseTypeinfos(e){const t={str:e},r=/^\('(.*?)',\[(.*)\]\),\s*#(\d+)$/.exec(e);return t.type=r[1],Object.assign(t,_t[t.type].decode(r[2])),t.index=r[3],t}write(){const e=(new Date).getTime(),t=St.builds[this.version];let r="\n    \"use strict\";\n\n    const progress = {\n        file: 'none',\n        current: -1,\n        total: -1\n    }\n    \n    onprogress(progress);\n\n    exports.version = ${version};\n    ${patch}\n\n    const BitPackedDecoder = decoders.BitPackedDecoder;\n    const VersionDecoder = decoders.VersionDecoder;\n\n\n    // Decoding instructions for each protocol type.\n    const typeinfos = [\n    ${typeinfos}\n    ];\n\n    // Map from protocol NNet.Game.*Event eventid to [typeid, name]\n    const game_event_types = {\n    ${gameeventsTypes}\n    };\n\n    // The typeid of the NNet.Game.EEventId enum.\n    const game_eventid_typeid = ${gameeventsTypeid};\n\n    // Map from protocol NNet.Game.*Message eventid to [typeid, name]\n    const message_event_types = {\n    ${messageeventsTypes}\n    };\n\n    // The typeid of the NNet.Game.EMessageId enum.\n    const message_eventid_typeid = ${messageeventsTypeid};\n\n    // Map from protocol NNet.Replay.Tracker.*Event eventid to [typeid, name]\n    const tracker_event_types = {\n    ${trackereventstypes}\n    };\n\n    // The typeid of the NNet.Replay.Tracker.EEventId enum.\n    const tracker_eventid_typeid = ${trackereventsTypeid};\n\n    // The typeid of NNet.SVarUint32 (the type used to encode gameloop deltas).\n    const svaruint32_typeid = 7;\n\n    // The typeid of NNet.Replay.SGameUserId (the type used to encode player ids).\n    const replay_userid_typeid = 8;\n\n    // The typeid of NNet.Replay.SHeader (the type used to store replay game version and length).\n    const replay_header_typeid = ${headerTypeid};\n\n    // The typeid of NNet.Game.SDetails (the type used to store overall replay details).\n    const game_details_typeid = ${detailsTypeid};\n\n    // The typeid of NNet.Replay.SInitData (the type used to store the inital lobby).\n    const replay_initdata_typeid = ${initdataTypeid};\n\n    // not sure if correct port\n    function _varuint32Value(value) {\n    // Returns the numeric value from a SVarUint32 instance.\n    return value[Object.keys(value)[0]];\n    }\n\n    function* _decode_event_stream(decoder, eventidTypeid, eventTypes, decodeUserId) {\n    // Decodes events prefixed with a gameloop and possibly userid\n    var gameloop = 0;\n    while (!decoder.isDone) {\n        \n        var startBits = decoder.usedBits;\n        // decode the gameloop delta before each event\n        var delta = _varuint32Value(decoder.instance(svaruint32_typeid));\n        gameloop += delta;\n\n        // decode the userid before each event\n        var userid = (decodeUserId === true) ? decoder.instance(replay_userid_typeid) : undefined;\n\n        // decode the event id\n        var eventid = decoder.instance(eventidTypeid);\n        var eventType = eventTypes[eventid] || [null, null];\n        var typeid = eventType[0];\n        var typename = eventType[1];\n        if (typeid === null) throw new decoders.CorruptedError('eventid(' + eventid + ') at ' + decoder.toString());\n\n        // decode the event struct instance\n        var event = decoder.instance(typeid);\n        event._event = typename;\n        event._eventid = eventid;\n\n        // insert gameloop and userid\n        event._gameloop = gameloop;\n        if (decodeUserId) event._userid = userid;\n\n        // the next event is byte aligned\n        decoder.byteAlign();\n\n        // insert bits used in stream\n        event._bits = decoder.usedBits - startBits;\n        progress.current = decoder.usedBits;\n        onprogress(progress);\n        yield event;\n    }\n    }\n\n    exports.decodeReplayGameEvents = function* (contents) {\n        // Decodes and yields each game event from the contents byte string.\n        const decoder = new BitPackedDecoder(contents, typeinfos);\n        progress.file = 'GameEvents';\n        progress.current = 0;\n        progress.total = decoder.size;\n        onprogress(progress);\n        for (let event of _decode_event_stream(decoder, game_eventid_typeid, game_event_types, true))\n            yield event;\n        progress.current = decoder.size;\n        onprogress(progress);\n    };\n\n    exports.decodeReplayMessageEvents = function* (contents) {\n        // Decodes and yields each message event from the contents byte string.\n        const decoder = new BitPackedDecoder(contents, typeinfos);\n        progress.file = 'MessageEvents';\n        progress.current = 0;\n        progress.total = decoder.size;\n        onprogress(progress);\n        for (let event of _decode_event_stream(decoder, message_eventid_typeid, message_event_types, true))\n            yield event;\n        progress.current = decoder.size;\n        onprogress(progress);\n    };\n\n    exports.decodeReplayTrackerEvents = function* (contents) {\n        // Decodes and yields each tracker event from the contents byte string.\n        const decoder = new VersionDecoder(contents, typeinfos);\n        progress.file = 'TrackerEvents';\n        progress.current = 0;\n        progress.total = decoder.size;\n        onprogress(progress);\n        for (let event of _decode_event_stream(decoder, tracker_eventid_typeid, tracker_event_types, false))\n            yield event;\n        progress.current = decoder.size;\n        onprogress(progress);\n    };\n\n    exports.decodeReplayHeader = function(contents) {\n        // Decodes and return the replay header from the contents byte string.\n        progress.file = 'Header';\n        progress.current = 0;\n        progress.total = 1;\n        onprogress(progress);\n        const decoder = new VersionDecoder(contents, typeinfos);\n        const ret =  decoder.instance(replay_header_typeid);\n        progress.current = 1;\n        onprogress(progress);\n        return ret;\n    };\n\n    exports.decodeReplayDetails = function(contents) {\n        progress.file = 'Details';\n        progress.current = 0;\n        progress.total = 1;\n        onprogress(progress);\n        // Decodes and returns the game details from the contents byte string.\n        const decoder = new VersionDecoder(contents, typeinfos);\n        const ret = decoder.instance(game_details_typeid);\n        progress.current = 1;\n        onprogress(progress);\n        return ret;\n    };\n\n    exports.decodeReplayInitdata = function(contents) {\n        progress.file = 'Initdata';\n        progress.current = 0;\n        progress.total = 1;\n        onprogress(progress);\n        // Decodes and return the replay init data from the contents byte string.\n        const decoder = new BitPackedDecoder(contents, typeinfos);\n        const ret = decoder.instance(replay_initdata_typeid);\n        progress.current = 1;\n        onprogress(progress);\n        return ret;\n    };\n\n    exports.decodeReplayAttributesEvents = function (contents) {\n    // Decodes and yields each attribute from the contents byte string.\n    const buffer = new decoders.BitPackedBuffer(contents, 'little');\n    progress.file = 'AttributesEvents';\n    progress.current = 0;\n    progress.total = buffer.size;\n    onprogress(progress);\n    const attributes = {};\n\n    if (!buffer.isDone) {\n        attributes.source = buffer.readBits(8);\n        attributes.mapNameSpace = buffer.readBits(32);\n        var count = buffer.readBits(32);\n        attributes.scopes = {};\n\n        while (!buffer.isDone) {\n        var value = {};\n        value.namespace = buffer.readBits(32);\n        var attrid = value.attrid = buffer.readBits(32);\n        var scope = buffer.readBits(8);\n        value.value = buffer.readAlignedBytes(4).reverse();\n        while (value.value[0] === 0) value.value = value.value.slice(1);\n        while (value.value[value.value.length - 1] === 0) value.value = value.value.slice(0, -1);\n        if (!attributes.scopes[scope])\n            attributes.scopes[scope] = {};\n        if (!attributes.scopes[scope][attrid])\n            attributes.scopes[scope][attrid] = [];\n        attributes.scopes[scope][attrid].push(value);\n        progress.current = buffer.usedBits;\n        onprogress(progress);\n        }\n    }\n    progress.current = buffer.size;\n    onprogress(progress);\n    return attributes;\n    };\n\n    exports.unitTag = function(unitTagIndex, unitTagRecycle) {\n    return (unitTagIndex << 18) + unitTagRecycle;\n    };\n\n    exports.unitTagIndex = function(unitTag) {\n    return (unitTag >> 18) & 0x00003FFF;\n    };\n\n    exports.unitTagRecycle = function(unitTag) {\n    return unitTag & 0x0003FFFF;\n    };\n";return r=r.replace("${date}",(new Date).toUTCString()),r=r.replace("${version}",this.version),r=r.replace("${patch}",t?`exports.patch = '${t.live?t.live.patch:t.ptr.patch}';\n`:""),r=r.replace("${typeinfos}",this.typeinfos.map((e,t,r)=>{let n="  ";return n+=`['${e.type}', [`,n+=_t[e.type].encode(e),n+=`]]${t===r.length-1?"":","}`,n+=`  //${e.index}`,n}).join("\n")),r=r.replace("${gameeventsTypes}",this.gameeventsTypes.map((e,t,r)=>{let n="  ";return n+=`${e.key}: [${e.typeIndex}, '${e.name}']`,n+=t===r.length-1?"":",",n}).join("\n")),r=r.replace("${messageeventsTypes}",this.messageeventsTypes.map((e,t,r)=>{let n="  ";return n+=`${e.key}: [${e.typeIndex}, '${e.name}']`,n+=t===r.length-1?"":",",n}).join("\n")),r=r.replace("${trackereventstypes}",this.trackereventstypes.map((e,t,r)=>{let n="    ";return n+=`${e.key}: [${e.typeIndex}, '${e.name}']`,n+=t===r.length-1?"":",",n}).join("\n")),r=r.replace("${gameeventsTypeid}",this.gameeventsTypeid),r=r.replace("${messageeventsTypeid}",this.messageeventsTypeid),r=r.replace("${trackereventsTypeid}",this.trackereventsTypeid),r=r.replace("${headerTypeid}",this.headerTypeid),r=r.replace("${detailsTypeid}",this.detailsTypeid),r=r.replace("${initdataTypeid}",this.initdataTypeid),console.log("Protocol Write Time: ",(new Date).getTime()-e),r}}let Tt=(()=>{class e{static getProtocol(t=29406){return s(this,void 0,void 0,(function*(){if(e._protocolsByVersion.has(t))return e._protocolsByVersion.get(t);const r=yield e.loadProtocol(t),n=It.compile(r);return e._protocolsByVersion.set(t,n),n}))}static loadProtocol(t){return s(this,void 0,void 0,(function*(){const r=`https://raw.githubusercontent.com/Blizzard/heroprotocol/master/protocol${t}.py`,n=yield fetch(r,{method:"GET"});if(n.ok)return e.convertProtocolFromPython(t,yield n.text());throw new Error(n.statusText)}))}static convertProtocolFromPython(e,t){return new It(e,t).getCode()}}return e._protocolsByVersion=new Map,e})();class Bt{constructor(e,t){this._playerData=e,this._hero=t}get id(){return this._playerData.id}get slotId(){return this._playerData.slotId}get type(){return this._playerData.type}get userId(){return this._playerData.userId}get name(){return this._playerData.name}get teamId(){return this._playerData.teamId}get battlenetInfo(){return this._playerData.battlenetInfo}get hasSilencePenalty(){return this._playerData.hasSilencePenalty}get hasVoiceSilencePenalty(){return this._playerData.hasSilencePenalty}get isBlizzardStaff(){return this._playerData.isBlizzardStaff}get hasActiveBoost(){return this._playerData.hasActiveBoost}get loadout(){return this._playerData.loadout}get isWinner(){return this._playerData.isWinner}get hero(){return this._hero}}class At{constructor(e,t="enus"){this.matchData=e,this.lang=t}initialize(){return s(this,void 0,void 0,(function*(){if(!this._players){const e=yield(yield dt.getVersion(new je(this.matchData.gameVersion),this.lang)).heroes,t=De.a.from(this.matchData.players).select(t=>t.hero?e.getHeroByHeroId(t.hero):void 0).toArray(),r=yield Promise.all(t),n=[];for(let i=0;i<this.matchData.players.length;i++){const e=new Bt(this.matchData.players[i],r[i]);n.push(e)}this._players=n}return this}))}get id(){return this.matchData.id}get mapId(){return this.matchData.mapId}get type(){return this.matchData.type}get gameVersion(){return this.matchData.gameVersion}get date(){return new Date(this.matchData.date)}get localTimeZone(){return this.matchData.localTimeZone}get duration(){return this.matchData.duration}get winningTeam(){return this.matchData.winningTeam}get players(){return this._players}}var Ot=function(e){return e[e.UNKNOWN=0]="UNKNOWN",e[e.FLAG_SOLO_QUEUE=1]="FLAG_SOLO_QUEUE",e[e.FLAG_COOP=2]="FLAG_COOP",e[e.FLAG_PVP=4]="FLAG_PVP",e[e.FLAG_DRAFT=8]="FLAG_DRAFT",e[e.FLAG_RANKED=16]="FLAG_RANKED",e[e.MODE_PRACTICE=32]="MODE_PRACTICE",e[e.MODE_AI=64]="MODE_AI",e[e.MODE_BRAWL=128]="MODE_BRAWL",e[e.MODE_QM=256]="MODE_QM",e[e.MODE_UR=512]="MODE_UR",e[e.MODE_HL=1024]="MODE_HL",e[e.MODE_TL=2048]="MODE_TL",e[e.MODE_CUSTOM=4096]="MODE_CUSTOM",e[e.PRACTICE=33]="PRACTICE",e[e.SOLO_AI=65]="SOLO_AI",e[e.COOP_AI=66]="COOP_AI",e[e.CUSTOM=4100]="CUSTOM",e[e.CUSTOM_DRAFT=4108]="CUSTOM_DRAFT",e[e.BRAWL=132]="BRAWL",e[e.QUICK_MATCH=260]="QUICK_MATCH",e[e.UNRANKED_DRAFT=524]="UNRANKED_DRAFT",e[e.HERO_LEAGUE=1053]="HERO_LEAGUE",e[e.TEAM_LEAGUE=2076]="TEAM_LEAGUE",e}({});let xt=(()=>{let e=class{constructor(e){this.replay=e}get replayData(){return this.replay.replayData}get match(){return(()=>s(this,void 0,void 0,(function*(){return yield new At(yield this.matchInfo).initialize()})))()}get matchInfo(){return(()=>s(this,void 0,void 0,(function*(){const e=yield this.replayData,t=yield e.header,r=yield e.details,n=yield e.initData,i=new je(t.m_version);this.db=yield dt.getVersion(i);let s=t.m_elapsedGameLoops.toString(16);s+="|"+n.m_syncLobbyState.m_gameDescription.m_randomValue,s+="|"+n.m_syncLobbyState.m_gameDescription.m_gameOptions.m_ammId,s+="|"+De.a.from(n.m_syncLobbyState.m_lobbyState.m_slots).toJoinedString("#",e=>e.m_hero+"~"+e.m_teamId+"~"+e.m_toonHandle);const o={};return o.id=ze()(s),o.gameVersion=i.toString(),o.date=new Date(this.getDate(r.m_timeUTC)).toUTCString(),o.localTimeZone=this.getTimeZone(r.m_timeLocalOffset),o.mapId=r.m_title,o.type=this.getGameType(n.m_syncLobbyState.m_gameDescription),o.duration=t.m_elapsedGameLoops/16,o.players=yield this.playerInfo,o.region=o.players[0].battlenetInfo.region,o.winningTeam=o.players[0].isWinner?0===o.players[0].teamId?0:1:0===o.players[0].teamId?1:0,o})))()}get playerInfo(){return(()=>s(this,void 0,void 0,(function*(){const e=yield this.replayData,t=yield e.details,r=yield e.initData,n=De.a.from(r.m_syncLobbyState.m_lobbyState.m_slots),i=(De.a.from(r.m_syncLobbyState.m_userInitialData).select((e,t)=>Object.assign(Object.assign({},e),{index:t})),De.a.from(t.m_playerList));return new $e(yield e.attributeEvents),n.groupJoin(i,e=>e.m_workingSetSlotId,e=>e.m_workingSetSlotId,(e,t)=>({lobbySlot:e,playerDetail:t.firstOrDefault()})).select((e,t)=>{var r,n,i,s,o,a,u,c,h;let l;null===(r=e.playerDetail)||void 0===r||r.m_hero.toLowerCase().replace(/[^a-z0-9]/g,""),l=e.lobbySlot.m_toonHandle&&1==e.lobbySlot.m_observe?Ce.OBSERVER:e.lobbySlot.m_toonHandle?Ce.PLAYER:e.lobbySlot.m_hero?Ce.AI:Ce.EMPTY;let f=e.lobbySlot.m_teamId;return 14===e.lobbySlot.m_workingSetSlotId?f=0:15===e.lobbySlot.m_workingSetSlotId?f=1:l!==Ce.EMPTY&&l!==Ce.OBSERVER||(f=-1),{id:e.lobbySlot.m_workingSetSlotId,type:l,slotId:t,userId:e.lobbySlot.m_userId,m_control:e.lobbySlot.m_control,name:(null===(n=e.playerDetail)||void 0===n?void 0:n.m_name)||null,teamId:f,m_observe:e.lobbySlot.m_observe,battlenetInfo:{handle:e.lobbySlot.m_toonHandle,id:null===(i=e.playerDetail)||void 0===i?void 0:i.m_toon.m_id,programId:null===(s=e.playerDetail)||void 0===s?void 0:s.m_toon.m_programId,realm:null===(o=e.playerDetail)||void 0===o?void 0:o.m_toon.m_realm,region:null===(a=e.playerDetail)||void 0===a?void 0:a.m_toon.m_region},hasSilencePenalty:e.lobbySlot.m_hasSilencePenalty,hasVoiceSilencePenalty:e.lobbySlot.m_hasVoiceSilencePenalty,isBlizzardStaff:e.lobbySlot.m_isBlizzardStaff,hasActiveBoost:e.lobbySlot.m_hasActiveBoost,heroId:e.lobbySlot.m_hero.toLowerCase(),heroName:null===(u=e.playerDetail)||void 0===u?void 0:u.m_hero,loadout:{announcerPack:e.lobbySlot.m_announcerPack,banner:e.lobbySlot.m_banner,mount:e.lobbySlot.m_mount,skin:e.lobbySlot.m_skin,spray:e.lobbySlot.m_spray,voiceLine:e.lobbySlot.m_voiceLine},isWinner:1===(null===(c=e.playerDetail)||void 0===c?void 0:c.m_result),hero:(null===(h=e.lobbySlot)||void 0===h?void 0:h.m_hero)||void 0}}).toArray()})))()}getTimeZone(e){return e/1e7/60/60}getDate(e){return e/1e4-116444736e5}getWinningTeam(e){return e/1e4-116444736e5}getGameType(e){switch(e.m_gameOptions.m_ammId){case 50021:case 50021:return Ot.MODE_AI;case 50001:return Ot.QUICK_MATCH;case 50031:return Ot.BRAWL;case 50051:return Ot.UNRANKED_DRAFT;case 50061:return Ot.HERO_LEAGUE;case 50071:return Ot.TEAM_LEAGUE;default:return e.m_gameOptions.m_competitive||e.m_gameOptions.m_cooperative?Ot.UNKNOWN:e.m_gameOptions.m_heroDuplicatesAllowed?Ot.CUSTOM:Ot.CUSTOM_DRAFT}}};return n([Ne(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"match",null),n([Oe(),Ae(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"matchInfo",null),n([Oe(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"playerInfo",null),e=n([ce("HotsReplay/MatchInfo")],e),e})();function Mt(e){if(!e)return e;if(e instanceof gt.Buffer)return e.toString();if(Array.isArray(e))return e.map(e=>Mt(e));if("object"==typeof e)for(const t in e)e[t]=Mt(e[t]);return e}var Rt=function(e){return e.DETAILS="replay.details",e.INITDATA="replay.initdata",e.GAME_EVENTS="replay.game.events",e.MESSAGE_EVENTS="replay.message.events",e.TRACKER_EVENTS="replay.tracker.events",e.ATTRIBUTES_EVENTS="replay.attributes.events",e}({});const kt={[Rt.DETAILS]:"decodeReplayDetails",[Rt.INITDATA]:"decodeReplayInitdata",[Rt.GAME_EVENTS]:"decodeReplayGameEvents",[Rt.MESSAGE_EVENTS]:"decodeReplayMessageEvents",[Rt.TRACKER_EVENTS]:"decodeReplayTrackerEvents",[Rt.ATTRIBUTES_EVENTS]:"decodeReplayAttributesEvents"};class Nt{constructor(e){this._progress=new T,e instanceof ArrayBuffer?(this._data=e,this.file={name:""}):this.file=e}get version(){return this._version}get data(){return this._data}get progress(){return this._progress}get header(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._header})))()}get details(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._details})))()}get initData(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._initData})))()}get attributeEvents(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._attributeEvents})))()}get gameEvents(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._gameEvents})))()}get messageEvents(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._messageEvents})))()}get trackerEvents(){return(()=>s(this,void 0,void 0,(function*(){return yield this.load(),this._trackerEvents})))()}load(){return this._loaded||(this._loaded=new Promise((e,t)=>s(this,void 0,void 0,(function*(){const t={currentStep:{name:"Loading",description:"Loading replay file "+this.file.name,loaded:0,total:-1},overall:{name:"Loading",description:"Loading replay file "+this.file.name,loaded:0,total:9}};this._progress.next(t);const r=(new Date).getTime();yield this.loadFromFile(),t.currentStep.name="Protocol",t.currentStep.description="Loading replay protocol",t.overall.loaded++,this._progress.next(t);const n=yield this.loadProtocol();t.currentStep.name="Parse",t.currentStep.description="Parsing replay",t.overall.loaded++,this._progress.next(t);const i=n.progress.subscribe(e=>{t.currentStep.name=e.file,t.currentStep.loaded=e.current,t.currentStep.total=e.total,this._progress.next(t)}),s=yield this.parseHeader();this._version=new je(s.m_version),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseInitData(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseDetails(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseAttributeEvents(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseTrackerEvents(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseMessageEvents(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),yield this.parseGameEvents(),t.currentStep.loaded=t.currentStep.total,t.overall.loaded++,this._progress.next(t),console.log("Replay init took ",(new Date).getTime()-r,"ms"),i.unsubscribe(),e()})))),this._loaded}loadProtocol(){return s(this,void 0,void 0,(function*(){if(!this._protocol){this._data=yield this.loadFromFile(),this._mpq=new pt.MPQArchive(this._data);const e=Mt((yield Tt.getProtocol()).decodeReplayHeader(this._mpq.header.userDataHeader.content));this._protocol=yield Tt.getProtocol(e.m_version.m_baseBuild)}return this._protocol}))}parseHeader(){return s(this,void 0,void 0,(function*(){if(!this._header){const e=yield this.loadProtocol();this._header=Mt(e.decodeReplayHeader(this._mpq.header.userDataHeader.content))}return console.log("parseHeader",this._header),this._header}))}parseDetails(){return s(this,void 0,void 0,(function*(){return this._details||(this._details=yield this.parseMpqData(Rt.DETAILS)),console.log("parseDetails",this._details),this._details}))}parseInitData(){return s(this,void 0,void 0,(function*(){return this._initData||(this._initData=yield this.parseMpqData(Rt.INITDATA)),console.log("parseInitData",this._initData),this._initData}))}parseAttributeEvents(){return s(this,void 0,void 0,(function*(){return this._attributeEvents||(this._attributeEvents=yield this.parseMpqData(Rt.ATTRIBUTES_EVENTS)),console.log("parseAttributeEvents",this._attributeEvents),this._attributeEvents}))}parseGameEvents(){return s(this,void 0,void 0,(function*(){return this._gameEvents||(this._gameEvents=yield this.parseMpqEvents(Rt.GAME_EVENTS)),console.log("parseGameEvents",this._gameEvents),this._gameEvents}))}parseMessageEvents(){return s(this,void 0,void 0,(function*(){return this._messageEvents||(this._messageEvents=yield this.parseMpqEvents(Rt.MESSAGE_EVENTS)),console.log("parseMessageEvents",this._messageEvents),this._messageEvents}))}parseTrackerEvents(){return s(this,void 0,void 0,(function*(){return this._trackerEvents||(this._trackerEvents=yield this.parseMpqEvents(Rt.TRACKER_EVENTS)),console.log("parseTrackerEvents",this._trackerEvents),this._trackerEvents}))}parseMpqData(e){return s(this,void 0,void 0,(function*(){return Mt((yield this.loadProtocol())[kt[e]](this._mpq.readFile(e)))}))}parseMpqEvents(e){return s(this,void 0,void 0,(function*(){const t=(yield this.loadProtocol())[kt[e]](this._mpq.readFile(e)),r=[];for(const e of t)-1===Pe.indexOf(e._event)&&r.push(Mt(e));return r}))}loadFromFile(){return this._data?Promise.resolve(this._data):new Promise((e,t)=>{const r={currentStep:{name:"Loading",description:this.file.name,loaded:-1,total:1},overall:{name:"Loading Replay",description:"Loading Replay",loaded:-1,total:5}};if(this._progress.next(r),this.file){var n=new FileReader;n.onloadstart=e=>{r.currentStep.loaded=e.loaded,r.currentStep.total=e.total,r.overall.loaded=0,this._progress.next(r)},n.onload=e=>{r.currentStep.loaded=e.total,r.currentStep.total=e.total,r.overall.loaded=1,this._progress.next(r)},n.onloadend=t=>{e(n.result)},n.onprogress=e=>{r.currentStep.loaded=e.loaded,r.currentStep.total=e.total,this._progress.next(r)},n.onabort=e=>{r.currentStep.loaded=-1,r.currentStep.total=-1,r.overall.loaded=1,this._progress.next(r),t()},n.onerror=e=>{r.currentStep.loaded=-1,r.currentStep.total=-1,r.overall.loaded=1,this._progress.next(r),t(e.returnValue)},n.readAsArrayBuffer(this.file)}})}}const Lt={EndOfMatchAwardMVPBoolean:!0,EndOfMatchAwardClutchHealerBoolean:"ClutchHealsPerformed",ClutchHealsPerformed:"EndOfMatchAwardClutchHealerBoolean",EndOfMatchAwardHatTrickBoolean:!0,EndOfMatchAwardHighestKillStreakBoolean:"HighestKillStreak",HighestKillStreak:"EndOfMatchAwardHighestKillStreakBoolean",EndOfMatchAwardMostTeamfightHeroDamageDoneBoolean:"TeamfightHeroDamage",TeamfightHeroDamage:"EndOfMatchAwardMostTeamfightHeroDamageDoneBoolean",EndOfMatchAwardMostTeamfightHealingDoneBoolean:"TeamfightHealing",TeamfightHealing:"EndOfMatchAwardMostTeamfightHealingDoneBoolean",EndOfMatchAwardMostVengeancesPerformedBoolean:"VengeancesPerformed",VengeancesPerformed:"EndOfMatchAwardMostVengeancesPerformedBoolean",EndOfMatchAwardMostDaredevilEscapesBoolean:"DaredevilEscapes",DaredevilEscapes:"EndOfMatchAwardMostDaredevilEscapesBoolean",EndOfMatchAwardMostEscapesBoolean:"Escapes",Escapes:"EndOfMatchAwardMostEscapesBoolean",EndOfMatchAwardMostXPContributionBoolean:"ExperienceContribution",ExperienceContribution:"EndOfMatchAwardMostXPContributionBoolean",EndOfMatchAwardMostHeroDamageDoneBoolean:"HeroDamage",HeroDamage:"EndOfMatchAwardMostHeroDamageDoneBoolean",EndOfMatchAwardMostKillsBoolean:"SoloKill",SoloKill:"EndOfMatchAwardMostKillsBoolean",EndOfMatchAwardMostProtectionBoolean:"ProtectionGivenToAllies",ProtectionGivenToAllies:"EndOfMatchAwardMostProtectionBoolean",EndOfMatchAward0DeathsBoolean:!0,EndOfMatchAwardMostSiegeDamageDoneBoolean:"SiegeDamage",SiegeDamage:"EndOfMatchAwardMostSiegeDamageDoneBoolean",EndOfMatchAwardMostDamageTakenBoolean:"DamageTaken",DamageTaken:"EndOfMatchAwardMostDamageTakenBoolean",EndOfMatchAward0OutnumberedDeathsBoolean:!0,EndOfMatchAwardMostHealingBoolean:"Healing",Healing:"EndOfMatchAwardMostHealingBoolean",EndOfMatchAwardMostStunsBoolean:"TimeStunningEnemyHeroes",TimeStunningEnemyHeroes:"EndOfMatchAwardMostStunsBoolean",EndOfMatchAwardMostRootsBoolean:"TimeRootingEnemyHeroes",TimeRootingEnemyHeroes:"EndOfMatchAwardMostRootsBoolean",EndOfMatchAwardMostSilencesBoolean:"TimeSilencingEnemyHeroes",TimeSilencingEnemyHeroes:"EndOfMatchAwardMostSilencesBoolean",EndOfMatchAwardMostMercCampsCapturedBoolean:"MercCampCaptures",MercCampCaptures:"EndOfMatchAwardMostMercCampsCapturedBoolean",EndOfMatchAwardMapSpecificBoolean:!0,EndOfMatchAwardMostDragonShrinesCapturedBoolean:"DragonShrinesCaptured",DragonShrinesCaptured:"EndOfMatchAwardMostDragonShrinesCapturedBoolean",EndOfMatchAwardMostCoinsPaidBoolean:"BlackheartDoubloonsTurnedIn",BlackheartDoubloonsTurnedIn:"EndOfMatchAwardMostCoinsPaidBoolean",EndOfMatchAwardMostCurseDamageDoneBoolean:"CurseDamageDone",CurseDamageDone:"EndOfMatchAwardMostCurseDamageDoneBoolean",EndOfMatchAwardMostImmortalDamageBoolean:!0,EndOfMatchAwardMostDamageDoneToZergBoolean:!0,EndOfMatchAwardMostDamageToPlantsBoolean:!0,EndOfMatchAwardMostDamageToMinionsBoolean:"DamageDoneToShrineMinions",DamageDoneToShrineMinions:"EndOfMatchAwardMostDamageToMinionsBoolean",EndOfMatchAwardMostTimeInTempleBoolean:!0,EndOfMatchAwardMostGemsTurnedInBoolean:!0,EndOfMatchAwardMostSkullsCollectedBoolean:!0,EndOfMatchAwardMostAltarDamageDone:!0,EndOfMatchAwardMostNukeDamageDoneBoolean:!0,EndOfMatchAwardMostTeamfightDamageTakenBoolean:"TeamfightDamageTaken",TeamfightDamageTaken:"EndOfMatchAwardMostTeamfightDamageTakenBoolean",EndOfMatchAwardGivenToNonwinner:!0,EndOfMatchAwardMostTimePushingBoolean:!0,EndOfMatchAwardMostTimeOnPointBoolean:"TimeOnPoint",TimeOnPoint:"EndOfMatchAwardMostTimeOnPointBoolean",EndOfMatchAwardMostInterruptedCageUnlocksBoolean:"CageUnlocksInterrupted",CageUnlocksInterrupted:"EndOfMatchAwardMostInterruptedCageUnlocksBoolean",EndOfMatchAwardMostSeedsCollectedBoolean:"GardenSeedsCollectedByPlayer",GardenSeedsCollectedByPlayer:"EndOfMatchAwardMostSeedsCollectedBoolean"},Dt={Deaths:(e,t)=>{if(void 0!==e)return-1*e},TimeSpentDead:(e,t)=>{if(void 0!==e)return-1*e},DamageTaken:(e,t)=>{if(void 0!==e)return"Tank"===t||"Bruiser"===t?e:-1*e},TeamfightDamageTaken:(e,t)=>{if(void 0!==e)return"Tank"===t||"Bruiser"===t?e:-1*e}};let Ct=(()=>{let e=class{constructor(e,t){this.replay=e,this.match=t}get replayData(){return this.replay.replayData}get scoreResults(){return this.getScoreResults()}get scoreScreenResults(){return this.getScoreStats(["Takedowns","Deaths","SoloKill","Assists","ExperienceContribution","Healing","SelfHealing","SiegeDamage","HeroDamage","DamageTaken","TeamLevel","TimeSpentDead","OnFireTimeOnFire"],!0)}get db(){return(()=>s(this,void 0,void 0,(function*(){return this._db||(this._db=yield dt.getVersion((yield this.replayData).version)),this._db})))()}getScoreStats(e,t){return s(this,void 0,void 0,(function*(){return this.getScoreResults(r=>-1!==e.indexOf(r.m_name)||t&&!!Lt[r.m_name])}))}getScoreResults(e){return s(this,void 0,void 0,(function*(){const t=De.a.from(yield this.match.playerInfo),r=yield this.replayData,n=yield(yield this.db).heroes;yield n.initialize();const i=n.gameStrings,s=De.a.from(yield r.trackerEvents).where(e=>{return Ue(t=e)&&"NNet.Replay.Tracker.SScoreResultEvent"===t._event;var t}).last();let o=De.a.from(s.m_instanceList);e&&(o=o.where(e));const a=o.selectMany(e=>De.a.from(e.m_values).select((r,n)=>{var s;const o=t.where(e=>e.slotId===n).firstOrDefault();return{player:o.type!==Ce.AI&&o.type!==Ce.PLAYER?-1:o.id,role:i.unit.expandedrole[o.hero],teamId:o.teamId,name:e.m_name,value:null===(s=r[0])||void 0===s?void 0:s.m_value}})),u=(e,t)=>{const r=t.where(e=>void 0!==e);return{k:e,v:{sum:r.sum(e=>e),min:r.min(e=>e),max:r.max(e=>e),avg:r.average(e=>e)}}},c=a.groupBy(e=>e.name,e=>e.value,u).toObject(e=>e.k,e=>e.v),h=a.groupBy(e=>e.name,e=>Dt[e.name]?Dt[e.name](e.value,e.role):e.value,u).toObject(e=>e.k,e=>e.v),l=a.where(e=>0===e.teamId).groupBy(e=>e.name,e=>e.value,u).toObject(e=>e.k,e=>e.v),f=a.where(e=>0===e.teamId).groupBy(e=>e.name,e=>Dt[e.name]?Dt[e.name](e.value,e.role):e.value,u).toObject(e=>e.k,e=>e.v);return{game:c,team1:l,team2:a.where(e=>1===e.teamId).groupBy(e=>e.name,e=>e.value,u).toObject(e=>e.k,e=>e.v),gameSort:h,team1Sort:f,team2Sort:a.where(e=>1===e.teamId).groupBy(e=>e.name,e=>Dt[e.name]?Dt[e.name](e.value,e.role):e.value,u).toObject(e=>e.k,e=>e.v),players:a.groupBy(e=>e.player,e=>e,(e,t)=>({playerId:e,teamId:t.first().teamId,values:t.toObject(e=>e.name,e=>e.value),sort:t.toObject(e=>e.name,e=>Dt[e.name]?Dt[e.name](e.value,t.first().role):e.value)})).where(e=>-1!==e.playerId).orderBy(e=>e.teamId).toArray()}}))}get talentBuilds(){return this.getTalentBuilds()}getTalentBuilds(){return s(this,void 0,void 0,(function*(){const e=De.a.from(yield this.match.playerInfo),t=yield this.replayData;return De.a.from(yield t.trackerEvents).where(e=>{return Ue(t=e)&&"NNet.Replay.Tracker.SStatGameEvent"===t._event&&"TalentChosen"===e.m_eventName;var t}).groupBy(e=>Fe(e.m_intData,"PlayerID")-1,e=>e,(t,r)=>({index:t,player:e.where(e=>e.id===t).firstOrDefault(),talents:r.select(e=>({id:Fe(e.m_stringData,"PurchaseName"),time:e._gameloop/16})).toArray()})).select(e=>({player:e.player,talents:e.talents})).toArray()}))}};return n([Oe(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"scoreResults",null),n([Oe(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"scoreScreenResults",null),n([Oe(),i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"talentBuilds",null),e=n([ce("HotsReplay/GameStats")],e),e})();function Pt(){const e={promise:void 0,resolve:void 0,reject:void 0},t=new Promise((t,r)=>{e.resolve=t,e.reject=r});return t.reject=e.reject,t.resolve=e.resolve,t}oe.runWorker((()=>{let e=class{constructor(e){this.fileOrId=e,this._progress=new T,this._replayData=Pt(),this._matchInfo=Pt(),this._init=!1,this.matchInfo=new xt(this),this.gameStats=new Ct(this,this.matchInfo)}get progress(){return this._progress}initialize(){return s(this,void 0,void 0,(function*(){if(console.log("init"),!this._init){this._init=!0;const e=new Nt("string"==typeof this.fileOrId?yield this.getStoredReplayFile(this.fileOrId):this.fileOrId);e.progress.subscribe(e=>{this._progress.next(e)}),yield e.load(),this._replayData.resolve(e);const t=yield this.matchInfo.matchInfo;yield this.initStore(t.id,e)}return yield this.matchInfo.matchInfo}))}initStore(e,t){return s(this,void 0,void 0,(function*(){let r=yield We(`__hots_replays__.${e}`);r||(r={id:e,created:new Date},Xe(`__hots_replays__.${e}.file`,t.data)),r.lastAccess=new Date,Xe(`__hots_replays__.${e}`,r),yield this.trimStoredFiles()}))}deleteStore(e){return s(this,void 0,void 0,(function*(){yield Ye(`__hots_replays__.${e}`),yield Ye(`__hots_replays__.${e}.file`)}))}trimStoredFiles(){var e;return s(this,void 0,void 0,(function*(){const t=yield this.getStoredFileInfos();for(;(null===(e=t)||void 0===e?void 0:e.length)>25;)yield this.deleteStore(t.shift().id)}))}getStoredFileInfos(){return s(this,void 0,void 0,(function*(){return De.a.from(yield Promise.all(De.a.from(yield function(e=Ve()){const t=[];return e._withIDBStore("readonly",e=>{(e.openKeyCursor||e.openCursor).call(e).onsuccess=function(){this.result&&(t.push(this.result.key),this.result.continue())}}).then(()=>t)}()).select(e=>e.toString()).where(e=>e.startsWith("__hots_replays__.")&&!e.endsWith(".file")).select(e=>We(e)).toArray())).orderBy(e=>e.lastAccess).toArray()}))}static hasReplayStored(e){return We(`__hots_replays__.${e}`)}getStoredReplayFile(e){return We(`__hots_replays__.${e}.file`)}initializeMain(){return s(this,void 0,void 0,(function*(){return yield new At(yield this.initialize()).initialize()}))}get replayData(){return this._replayData}};return n([ke(),i("design:type",xt)],e.prototype,"matchInfo",void 0),n([ke(),i("design:type",Ct)],e.prototype,"gameStats",void 0),n([Oe(),i("design:type",w),i("design:paramtypes",[])],e.prototype,"progress",null),n([Oe(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],e.prototype,"initialize",null),n([Ne(),i("design:type",Function),i("design:paramtypes",[]),i("design:returntype",Promise)],e.prototype,"initializeMain",null),n([(e,t,r)=>{var n;if(K){if(null===(n=r)||void 0===n?void 0:n.value)return{value:()=>{throw new Error(`Cannot call method '${t.toString()}'. Call only allowed on worker.`)}};{const n={get:()=>{throw new Error(`Cannot access property '${t.toString()}'. Access only allowed on worker.`)},set:()=>{throw new Error(`Cannot set property '${t.toString()}'. Access only allowed on worker.`)}};if(r)return n;Reflect.defineProperty(e,t,n)}}},i("design:type",Promise),i("design:paramtypes",[])],e.prototype,"replayData",null),e=n([ce("HotsReplay")],e),e})())},FYyq:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ghB2"),s=r("ZGXk"),o=Object.create(null),a=s.EOF;o.coerceInputStream=function(e,t){if("readByte"in e){if(t&&!("read"in e)){var r=e;(e=new s).readByte=function(){var e=r.readByte();return e===a&&(this._eof=!0),e},"size"in r&&(e.size=r.size),"seek"in r&&(e.seek=function(e){r.seek(e),this._eof=!1}),"tell"in r&&(e.tell=r.tell.bind(r))}}else{var n=e;(e=new s).size=n.length,e.pos=0,e.readByte=function(){return this.pos>=this.size?a:n[this.pos++]},e.read=function(e,t,r){for(var i=0;i<r&&this.pos<n.length;)e[t++]=n[this.pos++],i++;return i},e.seek=function(e){this.pos=e},e.tell=function(){return this.pos},e.eof=function(){return this.pos>=n.length}}return e};var u=function(e,t){this.buffer=e,this.resizeOk=t,this.pos=0};(u.prototype=Object.create(s.prototype)).writeByte=function(e){if(this.resizeOk&&this.pos>=this.buffer.length){var t=o.makeU8Buffer(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},u.prototype.getBuffer=function(){if(this.pos!==this.buffer.length){if(!this.resizeOk)throw new TypeError("outputsize does not match decoded input");var e=o.makeU8Buffer(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},o.coerceOutputStream=function(e,t){var r={stream:e,retval:e};if(e){if("object"==typeof e&&"writeByte"in e)return r;"number"==typeof t?(console.assert(t>=0),r.stream=new u(o.makeU8Buffer(t),!1)):r.stream=new u(e,!1)}else r.stream=new u(o.makeU8Buffer(16384),!0);return Object.defineProperty(r,"retval",{get:r.stream.getBuffer.bind(r.stream)}),r},o.compressFileHelper=function(e,t,r){return function(n,i,s){n=o.coerceInputStream(n);var a,u,c=o.coerceOutputStream(i,i);for(i=c.stream,a=0;a<e.length;a++)i.writeByte(e.charCodeAt(a));if(u="size"in n&&n.size>=0?n.size:-1,r){var h=o.coerceOutputStream([]);for(o.writeUnsignedNumber(h.stream,u+1),h=h.retval,a=0;a<h.length-1;a++)i.writeByte(h[a]);r=h[h.length-1]}else o.writeUnsignedNumber(i,u+1);return t(n,i,u,s,r),c.retval}},o.decompressFileHelper=function(e,t){return function(r,n){var i;for(r=o.coerceInputStream(r),i=0;i<e.length;i++)if(e.charCodeAt(i)!==r.readByte())throw new Error("Bad magic");var s=o.readUnsignedNumber(r)-1,a=o.coerceOutputStream(n,s);return t(r,n=a.stream,s),a.retval}},o.compressWithModel=function(e,t,r){for(var n=0;n!==t;){var i=e.readByte();if(i===a){r.encode(256);break}r.encode(i),n++}},o.decompressWithModel=function(e,t,r){for(var n=0;n!==t;){var i=r.decode();if(256===i)break;e.writeByte(i),n++}},o.writeUnsignedNumber=function(e,t){console.assert(t>=0);var r,n=[];do{n.push(127&t),t=Math.floor(t/128)}while(0!==t);for(n[0]|=128,r=n.length-1;r>=0;r--)e.writeByte(n[r]);return e},o.readUnsignedNumber=function(e){for(var t,r=0;;){if(128&(t=e.readByte())){r+=127&t;break}r=128*(r+t)}return r};var c=function(e){for(var t=0,r=e.length;t<r;t++)e[t]=0;return e},h=function(e){return c(new Array(e))},l=function(e){return e};"undefined"!=typeof process&&Array.prototype.some.call(new Uint32Array(128),(function(e){return 0!==e}))&&(l=c),o.makeU8Buffer="undefined"!=typeof Uint8Array?function(e){return l(new Uint8Array(e))}:"undefined"!=typeof Buffer?function(e){var t=new Buffer(e);return t.fill(0),t}:h,o.makeU16Buffer="undefined"!=typeof Uint16Array?function(e){return l(new Uint16Array(e))}:h,o.makeU32Buffer="undefined"!=typeof Uint32Array?function(e){return l(new Uint32Array(e))}:h,o.makeS32Buffer="undefined"!=typeof Int32Array?function(e){return l(new Int32Array(e))}:h,o.arraycopy=function(e,t){console.assert(e.length>=t.length);for(var r=0,n=t.length;r<n;r++)e[r]=t[r];return e};var f=[0,1,2,2,3,3,3,3,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8];console.assert(256===f.length);var d=o.fls=function(e){return console.assert(e>=0),e>4294967295?32+d(Math.floor(e/4294967296)):0!=(4294901760&e)?0!=(4278190080&e)?24+f[e>>>24&255]:16+f[e>>>16]:0!=(65280&e)?8+f[e>>>8]:f[e]};o.log2c=function(e){return 0===e?-1:d(e-1)},n.exports=i(o)}).call(t,r,t,e))||(e.exports=n)},H7XF:function(e,t,r){"use strict";t.byteLength=function(e){var t=c(e),r=t[1];return 3*(t[0]+r)/4-r},t.toByteArray=function(e){var t,r,n=c(e),o=n[0],a=n[1],u=new s(function(e,t,r){return 3*(t+r)/4-r}(0,o,a)),h=0,l=a>0?o-4:o;for(r=0;r<l;r+=4)t=i[e.charCodeAt(r)]<<18|i[e.charCodeAt(r+1)]<<12|i[e.charCodeAt(r+2)]<<6|i[e.charCodeAt(r+3)],u[h++]=t>>16&255,u[h++]=t>>8&255,u[h++]=255&t;return 2===a&&(t=i[e.charCodeAt(r)]<<2|i[e.charCodeAt(r+1)]>>4,u[h++]=255&t),1===a&&(t=i[e.charCodeAt(r)]<<10|i[e.charCodeAt(r+1)]<<4|i[e.charCodeAt(r+2)]>>2,u[h++]=t>>8&255,u[h++]=255&t),u},t.fromByteArray=function(e){for(var t,r=e.length,i=r%3,s=[],o=0,a=r-i;o<a;o+=16383)s.push(h(e,o,o+16383>a?a:o+16383));return 1===i?s.push(n[(t=e[r-1])>>2]+n[t<<4&63]+"=="):2===i&&s.push(n[(t=(e[r-2]<<8)+e[r-1])>>10]+n[t>>4&63]+n[t<<2&63]+"="),s.join("")};for(var n=[],i=[],s="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,u=o.length;a<u;++a)n[a]=o[a],i[o.charCodeAt(a)]=a;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function h(e,t,r){for(var i,s=[],o=t;o<r;o+=3)s.push(n[(i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]))>>18&63]+n[i>>12&63]+n[i>>6&63]+n[63&i]);return s.join("")}i["-".charCodeAt(0)]=62,i["_".charCodeAt(0)]=63},HaiE:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("aGRR"),s=r("KOtJ"),o=r("3+LO"),a=r("SfGW"),u=r("+yXC"),c=r("ZGXk"),h=r("FYyq"),l=Object.create(null);l.MAGIC="lzjR",l.compressFile=h.compressFileHelper(l.MAGIC,(function(e,t,r,n,l){var f,d,p,g,y,m,v,b=1024,w=1;"number"==typeof n&&(b*=2,n=Math.max(1,Math.min(9,n))-1,w=1<<Math.floor(n/2),1&n&&(w=Math.round(1.5*w)),n>=2&&n<=4&&w++);var E=new u(t);E.encodeStart(l,1),m=h.makeU16Buffer(b*w);for(var _=h.makeU8Buffer(1024),S=0,I=function(e){return _[S++]=e,S>=_.length&&(S=0),e},T=[],B=function(){return T.length?T.pop():e.readByte()},A=function(e){T.push(e)},O=[],x=a.factory(E),M=s.factory(E,65280,256),R=new i(M,256,1+(r<0?257:256)),k=function(e){return e<=32?M(e):x(e)},N=new o(64,0,M,k),L=new o(1024,1,M,k),D=32,C=0;;){var P=S,U=B();if(U===c.EOF)break;var F=B();if(F===c.EOF){R.encode(I(U),D);break}var $=B();if($!==c.EOF){for(g=(U<<16)+(F<<8)+$,g^=g>>9,g+=g>>5,y=((g^=U)&b-1)*w,O.length=0,v=0;v<w;v++){var j=_[1+(f=_.length+S-(p=S-m[y+v]&1023))&1023],G=_[f+2&1023];1==p?(j=U,G=F):2==p&&(G=U),U===_[1023&f]&&F===j&&$===G&&O.push(p)}for(v=w-1;v>0;v--)m[y+v]=m[y+v-1];if(m[y]=S,0===O.length)R.encode(I(U),D),A($),A(F),D=U;else{R.encode(256,D),I(U),I(F),I($),D=$;var z=B(),H=O[0],q=_.length+S;for(d=3;d<66&&z!==c.EOF;d++,q++){for(v=0;v<O.length;)z!==_[q-O[v]&1023]?(H=O[v],O.splice(v,1)):v++;if(0===O.length)break;I(z),D=z,z=B()}0!==O.length&&(H=O[0]),A(z),N.encode(d-3),(p=P-H&1023)===C?L.encode(-1):(L.encode(p),C=p)}}else R.encode(I(U),D),A(F),D=U}r<0&&R.encode(257,D),E.encodeFinish()}),!0),l.decompressFile=h.decompressFileHelper(l.MAGIC,(function(e,t,r){var n,c,l,f=h.makeU8Buffer(1024),d=0,p=new u(e);p.decodeStart(!0);for(var g=a.factory(p),y=s.factory(p,65280,256),m=new i(y,256,1+(r<0?257:256)),v=function(e){return e<=32?y(e):g(e)},b=new o(64,0,y,v),w=new o(1024,1,y,v),E=32,_=0;0!==r&&257!==(l=m.decode(E));)if(256===l)for(c=b.decode()+3,(n=w.decode())<0?n=_:_=n,r>=0&&(r-=c);--c>=0;)l=E=f[d++]=f[n++],t.writeByte(l),d>=f.length&&(d=0),n>=f.length&&(n=0);else t.writeByte(l),f[d++]=E=l,d>=f.length&&(d=0),r>=0&&r--;p.decodeFinish()})),n.exports=l}).call(t,r,t,e))||(e.exports=n)},IsDc:function(e,t,r){const{MAX_SAFE_COMPONENT_LENGTH:n}=r("/kWe"),i=r("DXxi"),s=(t=e.exports={}).re=[],o=t.src=[],a=t.t={};let u=0;const c=(e,t,r)=>{const n=u++;i(n,t),a[e]=n,o[n]=t,s[n]=new RegExp(t,r?"g":void 0)};c("NUMERICIDENTIFIER","0|[1-9]\\d*"),c("NUMERICIDENTIFIERLOOSE","[0-9]+"),c("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),c("MAINVERSION",`(${o[a.NUMERICIDENTIFIER]})\\.`+`(${o[a.NUMERICIDENTIFIER]})\\.`+`(${o[a.NUMERICIDENTIFIER]})`),c("MAINVERSIONLOOSE",`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${o[a.NUMERICIDENTIFIERLOOSE]})\\.`+`(${o[a.NUMERICIDENTIFIERLOOSE]})`),c("PRERELEASEIDENTIFIER",`(?:${o[a.NUMERICIDENTIFIER]}|${o[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASEIDENTIFIERLOOSE",`(?:${o[a.NUMERICIDENTIFIERLOOSE]}|${o[a.NONNUMERICIDENTIFIER]})`),c("PRERELEASE",`(?:-(${o[a.PRERELEASEIDENTIFIER]}(?:\\.${o[a.PRERELEASEIDENTIFIER]})*))`),c("PRERELEASELOOSE",`(?:-?(${o[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${o[a.PRERELEASEIDENTIFIERLOOSE]})*))`),c("BUILDIDENTIFIER","[0-9A-Za-z-]+"),c("BUILD",`(?:\\+(${o[a.BUILDIDENTIFIER]}(?:\\.${o[a.BUILDIDENTIFIER]})*))`),c("FULLPLAIN",`v?${o[a.MAINVERSION]}${o[a.PRERELEASE]}?${o[a.BUILD]}?`),c("FULL",`^${o[a.FULLPLAIN]}$`),c("LOOSEPLAIN",`[v=\\s]*${o[a.MAINVERSIONLOOSE]}${o[a.PRERELEASELOOSE]}?${o[a.BUILD]}?`),c("LOOSE",`^${o[a.LOOSEPLAIN]}$`),c("GTLT","((?:<|>)?=?)"),c("XRANGEIDENTIFIERLOOSE",`${o[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),c("XRANGEIDENTIFIER",`${o[a.NUMERICIDENTIFIER]}|x|X|\\*`),c("XRANGEPLAIN",`[v=\\s]*(${o[a.XRANGEIDENTIFIER]})`+`(?:\\.(${o[a.XRANGEIDENTIFIER]})`+`(?:\\.(${o[a.XRANGEIDENTIFIER]})`+`(?:${o[a.PRERELEASE]})?${o[a.BUILD]}?`+")?)?"),c("XRANGEPLAINLOOSE",`[v=\\s]*(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${o[a.XRANGEIDENTIFIERLOOSE]})`+`(?:${o[a.PRERELEASELOOSE]})?${o[a.BUILD]}?`+")?)?"),c("XRANGE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAIN]}$`),c("XRANGELOOSE",`^${o[a.GTLT]}\\s*${o[a.XRANGEPLAINLOOSE]}$`),c("COERCE",`(^|[^\\d])(\\d{1,${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`+"(?:$|[^\\d])"),c("COERCERTL",o[a.COERCE],!0),c("LONETILDE","(?:~>?)"),c("TILDETRIM",`(\\s*)${o[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",c("TILDE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAIN]}$`),c("TILDELOOSE",`^${o[a.LONETILDE]}${o[a.XRANGEPLAINLOOSE]}$`),c("LONECARET","(?:\\^)"),c("CARETTRIM",`(\\s*)${o[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",c("CARET",`^${o[a.LONECARET]}${o[a.XRANGEPLAIN]}$`),c("CARETLOOSE",`^${o[a.LONECARET]}${o[a.XRANGEPLAINLOOSE]}$`),c("COMPARATORLOOSE",`^${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]})$|^$`),c("COMPARATOR",`^${o[a.GTLT]}\\s*(${o[a.FULLPLAIN]})$|^$`),c("COMPARATORTRIM",`(\\s*)${o[a.GTLT]}\\s*(${o[a.LOOSEPLAIN]}|${o[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",c("HYPHENRANGE",`^\\s*(${o[a.XRANGEPLAIN]})`+"\\s+-\\s+"+`(${o[a.XRANGEPLAIN]})`+"\\s*$"),c("HYPHENRANGELOOSE",`^\\s*(${o[a.XRANGEPLAINLOOSE]})`+"\\s+-\\s+"+`(${o[a.XRANGEPLAINLOOSE]})`+"\\s*$"),c("STAR","(<|>)?=?\\s*\\*")},JCZO:function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>n(e,t,r)<0},KHQI:function(e,t){const r=/^[0-9]+$/,n=(e,t)=>{const n=r.test(e),i=r.test(t);return n&&i&&(e=+e,t=+t),e===t?0:n&&!i?-1:i&&!n?1:e<t?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},KOtJ:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("+yXC"),s=(r("ZGXk"),r("FYyq")),o=function(e,t,r,n){var i;for(this.coder=e,this.numSyms=t+1,this.tree=s.makeU32Buffer(2*this.numSyms),this.increment=+n||256,this.max_prob=+r||65280,console.assert(this.max_prob+(this.increment-1)<=65535),console.assert(t<=65535),i=0;i<t;i++)this.tree[this.numSyms+i]=1;this.tree[this.numSyms+i]=0|this.increment<<16,this._sumTree()};o.factory=function(e,t,r){return function(n){return new o(e,n,t,r)}},o.prototype.clone=function(){var e,t=new o(this.coder,this.size,this.max_prob,this.increment);for(e=1;e<this.tree.length;e++)t.tree[e]=this.tree[e];return t},o.prototype.encode=function(e){var t=this.numSyms+e,r=this.tree[t],n=4294901760,i=16,s=this.increment<<16;0==(4294901760&r)?(this.encode(this.numSyms-1),n=65535,s-=1,i=0):e===this.numSyms-1&&(65535&this.tree[1])>>>0==1&&(s=-this.tree[t]);for(var o=0;t>1;){var a=t>>>1;1&t&&(o+=this.tree[2*a]),this.tree[t]+=s,t=a}var u=this.tree[1];this.tree[1]+=s,this.coder.encodeFreq(r=(r&n)>>>i,o=(o&n)>>>i,u=(u&n)>>>i),(4294901760&this.tree[1])>>>16>=this.max_prob&&this._rescale()},o.prototype._decode=function(e){var t=4294901760,r=16,n=this.increment<<16;e&&(t=65535,n-=1,r=0);for(var i=(this.tree[1]&t)>>>r,s=this.coder.decodeCulFreq(i),o=1,a=0;o<this.numSyms;){this.tree[o]+=n;var u=(this.tree[2*o]&t)>>>r;o*=2,s-a>=u&&(a+=u,o++)}var c=o-this.numSyms,h=(this.tree[o]&t)>>>r;if(this.tree[o]+=n,this.coder.decodeUpdate(h,a,i),c===this.numSyms-1&&(65535&this.tree[1])>>>0==1)for(n=-this.tree[o];o>=1;)this.tree[o]+=n,o>>>=1;return(4294901760&this.tree[1])>>>16>=this.max_prob&&this._rescale(),c},o.prototype.decode=function(){var e=this._decode(!1);return e===this.numSyms-1&&(e=this._decode(!0)),e},o.prototype._rescale=function(){var e,t,r=!0;for(e=0;e<this.numSyms-1;e++)0==(65535&(t=this.tree[this.numSyms+e]))?(0==(t=(4294901758&t)>>>1)&&(t=1,r=!1),this.tree[this.numSyms+e]=t):r=!1;t=(4294901758&(t=this.tree[this.numSyms+e]))>>>1,r?t=0:0===t&&(t=65536),this.tree[this.numSyms+e]=t,this._sumTree()},o.prototype._sumTree=function(){var e;for(e=this.numSyms-1;e>0;e--)this.tree[e]=this.tree[2*e]+this.tree[2*e+1]},o.compressFile=s.compressFileHelper(o.MAGIC="fenw",(function(e,t,r,n,a){var u=new i(t);u.encodeStart(a,1);var c=new o(u,r<0?257:256);s.compressWithModel(e,r,c),u.encodeFinish()}),!0),o.decompressFile=s.decompressFileHelper(o.MAGIC,(function(e,t,r){var n=new i(e);n.decodeStart(!0);var a=new o(n,r<0?257:256);s.decompressWithModel(t,r,a),n.decodeFinish()})),n.exports=o}).call(t,r,t,e))||(e.exports=n)},LJ9E:function(e,t,r){const n=r("3wIk");e.exports=(e,t)=>new n(e,t).patch},MpxT:function(e,t,r){const n=r("ex/Z");e.exports=(e,t,r)=>{try{t=new n(t,r)}catch(i){return!1}return t.test(e)}},NC4S:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ghB2"),s=r("FYyq"),o=console.assert.bind(console),a=function(e,t,r,n){var i;for(i=0;i<n;i++)t[i]=0;for(i=0;i<r;i++)t[e[i]]++},u=function(e,t,r,n){var i,s=0;if(n)for(i=0;i<r;i++)t[i]=s+=e[i];else for(i=0;i<r;i++)t[i]=(s+=e[i])-e[i]},c=function(e,t,r,n,i,h){var l,f,d,p,g,y,m,v,b,w,E,_,S,I=0,T=0;for(i<=256?(l=s.makeS32Buffer(i),i<=r?(f=t.subarray(n+r-i),T=1):(f=s.makeS32Buffer(i),T=3)):i<=r?(l=t.subarray(n+r-i),i<=r-i?(f=t.subarray(n+r-2*i),T=0):i<=1024?(f=s.makeS32Buffer(i),T=2):(f=l,T=8)):(l=f=s.makeS32Buffer(i),T=12),a(e,l,n,i),u(l,f,i,!0),p=0;p<n;p++)t[p]=0;y=-1,p=n-1,g=n,m=0,_=e[n-1];do{S=_}while(--p>=0&&(_=e[p])>=S);for(;p>=0;){do{S=_}while(--p>=0&&(_=e[p])<=S);if(p>=0){y>=0&&(t[y]=g),y=--f[S],g=p,++m;do{S=_}while(--p>=0&&(_=e[p])>=S)}}if(m>1?(function(e,t,r,n,i,s){var c,h,l,f,d;for(r===n&&a(e,r,i,s),u(r,n,s,!1),c=n[d=e[l=i-1]],l--,t[c++]=e[l]<d?~l:l,h=0;h<i;h++)(l=t[h])>0?(o(e[l]>=e[l+1]),(f=e[l])!==d&&(n[d]=c,c=n[d=f]),o(h<c),l--,t[c++]=e[l]<d?~l:l,t[h]=0):l<0&&(t[h]=~l);for(r===n&&a(e,r,i,s),u(r,n,s,1),h=i-1,c=n[d=0];h>=0;h--)(l=t[h])>0&&(o(e[l]<=e[l+1]),(f=e[l])!==d&&(n[d]=c,c=n[d=f]),o(c<=h),l--,t[--c]=e[l]>d?~(l+1):l,t[h]=0)}(e,t,l,f,n,i),w=function(e,t,r,n){var i,s,a,u,c,h,l,f,d,p;for(o(r>0),i=0;(a=t[i])<0;i++)t[i]=~a,o(i+1<r);if(i<n)for(s=i,i++;o(i<r),!((a=t[i])<0&&(t[s++]=~a,t[i]=0,s===n));i++);f=e[i=s=r-1];do{d=f}while(--i>=0&&(f=e[i])>=d);for(;i>=0;){do{d=f}while(--i>=0&&(f=e[i])<=d);if(i>=0){t[n+(i+1>>>1)]=s-i,s=i+1;do{d=f}while(--i>=0&&(f=e[i])>=d)}}for(i=0,l=0,u=r,h=0;i<n;i++){if(p=!0,(c=t[n+((a=t[i])>>>1)])===h&&u+c<r){for(s=0;s<c&&e[a+s]===e[u+s];)s++;s===c&&(p=!1)}p&&(l++,u=a,h=c),t[n+(a>>>1)]=l}return l}(e,t,n,m)):1===m?(t[y]=g+1,w=1):w=0,w<m){for(0!=(4&T)&&(l=null,f=null),0!=(2&T)&&(f=null),E=n+r-2*m,0==(13&T)&&(i+w<=E?E-=i:T|=8),o(n>>>1<=E+m),p=m+(n>>>1)-1,g=2*m+E-1;m<=p;p--)0!==t[p]&&(t[g--]=t[p]-1);d=t.subarray(m+E),c(d,t,E,m,w,!1),d=null,p=n-1,g=2*m-1,_=e[n-1];do{S=_}while(--p>=0&&(_=e[p])>=S);for(;p>=0;){do{S=_}while(--p>=0&&(_=e[p])<=S);if(p>=0){t[g--]=p+1;do{S=_}while(--p>=0&&(_=e[p])>=S)}}for(p=0;p<m;p++)t[p]=t[m+t[p]];0!=(4&T)&&(l=f=s.makeS32Buffer(i)),0!=(2&T)&&(f=s.makeS32Buffer(i))}if(0!=(8&T)&&a(e,l,n,i),m>1){u(l,f,i,!0),p=m-1,g=n,S=e[v=t[m-1]];do{for(b=f[_=S];b<g;)t[--g]=0;do{if(t[--g]=v,--p<0)break;v=t[p]}while((S=e[v])===_)}while(p>=0);for(;g>0;)t[--g]=0}return h?I=function(e,t,r,n,i,s){var c,h,l,f,d,p=-1;for(r===n&&a(e,r,i,s),u(r,n,s,!1),c=n[d=e[l=i-1]],t[c++]=l>0&&e[l-1]<d?~l:l,h=0;h<i;h++)(l=t[h])>0?(l--,o(e[l]>=e[l+1]),t[h]=~(f=e[l]),f!==d&&(n[d]=c,c=n[d=f]),o(h<c),t[c++]=l>0&&e[l-1]<d?~l:l):0!==l&&(t[h]=~l);for(r===n&&a(e,r,i,s),u(r,n,s,!0),h=i-1,c=n[d=0];h>=0;h--)(l=t[h])>0?(l--,o(e[l]<=e[l+1]),t[h]=f=e[l],f!==d&&(n[d]=c,c=n[d=f]),o(c<=h),t[--c]=l>0&&e[l-1]>d?~e[l-1]:l):0!==l?t[h]=~l:p=h;return p}(e,t,l,f,n,i):function(e,t,r,n,i,s){var c,h,l,f,d;for(r===n&&a(e,r,i,s),u(r,n,s,!1),c=n[d=e[l=i-1]],t[c++]=l>0&&e[l-1]<d?~l:l,h=0;h<i;h++)t[h]=~(l=t[h]),l>0&&(l--,o(e[l]>=e[l+1]),(f=e[l])!==d&&(n[d]=c,c=n[d=f]),o(h<c),t[c++]=l>0&&e[l-1]<d?~l:l);for(r===n&&a(e,r,i,s),u(r,n,s,!0),h=i-1,c=n[d=0];h>=0;h--)(l=t[h])>0?(l--,o(e[l]<=e[l+1]),(f=e[l])!==d&&(n[d]=c,c=n[d=f]),o(c<=h),t[--c]=0===l||e[l-1]>d?~l:l):t[h]=~l}(e,t,l,f,n,i),l=null,f=null,I},h=Object.create(null);h.suffixsort=function(e,t,r,n){if(o(e&&t&&e.length>=r&&t.length>=r),r<=1)return 1===r&&(t[0]=0),0;if(!n)if(1===e.BYTES_PER_ELEMENT)n=256;else{if(2!==e.BYTES_PER_ELEMENT)throw new Error("Need to specify alphabetSize");n=65536}return o(n>0),e.BYTES_PER_ELEMENT&&o(n<=1<<8*e.BYTES_PER_ELEMENT),c(e,t,0,r,n,!1)},h.bwtransform=function(e,t,r,n,i){var s,a;if(o(e&&t&&r),o(e.length>=n&&t.length>=n&&r.length>=n),n<=1)return 1===n&&(t[0]=e[0]),n;if(!i)if(1===e.BYTES_PER_ELEMENT)i=256;else{if(2!==e.BYTES_PER_ELEMENT)throw new Error("Need to specify alphabetSize");i=65536}for(o(i>0),e.BYTES_PER_ELEMENT&&o(i<=1<<8*e.BYTES_PER_ELEMENT),a=c(e,r,0,n,i,!0),t[0]=e[n-1],s=0;s<a;s++)t[s+1]=r[s];for(s+=1;s<n;s++)t[s]=r[s];return a+1},h.unbwtransform=function(e,t,r,n,i){var o,a,u=s.makeU32Buffer(256);for(o=0;o<256;o++)u[o]=0;for(o=0;o<n;o++)r[o]=u[e[o]]++;for(o=0,a=0;o<256;o++)u[o]=(a+=u[o])-u[o];for(o=n-1,a=0;o>=0;o--)a=r[a]+u[t[o]=e[a]],a+=a<i?1:0;u=null},h.bwtransform2=function(e,t,r,n){var i,a,u,h=0;if(o(e&&t),o(e.length>=r&&t.length>=r),r<=1)return 1===r&&(t[0]=e[0]),0;if(!n)if(1===e.BYTES_PER_ELEMENT)n=256;else{if(2!==e.BYTES_PER_ELEMENT)throw new Error("Need to specify alphabetSize");n=65536}if(o(n>0),e.BYTES_PER_ELEMENT&&o(n<=1<<8*e.BYTES_PER_ELEMENT),(u=e.length>=2*r?e:n<=256?s.makeU8Buffer(2*r):n<=65536?s.makeU16Buffer(2*r):s.makeU32Buffer(2*r))!==e)for(i=0;i<r;i++)u[i]=e[i];for(i=0;i<r;i++)u[r+i]=u[i];var l=s.makeS32Buffer(2*r);for(c(u,l,0,2*r,n,!1),i=0,a=0;i<2*r;i++){var f=l[i];f<r&&(0===f&&(h=a),--f<0&&(f=r-1),t[a++]=e[f])}return o(a===r),h},n.exports=i(h)}).call(t,r,t,e))||(e.exports=n)},O9TA:function(e,t,r){const n=r("Ybu3");e.exports=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null}},PDX0:function(e,t){(function(t){e.exports=t}).call(this,{})},SfGW:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("doDk"),s=r("FYyq"),o=function(e,t){this.bitstream=e,this.bits=s.fls(t-1)};o.factory=function(e){return function(t){return new o(e,t)}},o.prototype.encode=function(e){var t;for(t=this.bits-1;t>=0;t--)this.bitstream.writeBit(e>>>t&1)},o.prototype.decode=function(){var e,t=0;for(e=this.bits-1;e>=0;e--)t<<=1,this.bitstream.readBit()&&t++;return t},o.compressFile=s.compressFileHelper(o.MAGIC="nomo",(function(e,t,r,n){var a=new i(t),u=new o(a,r<0?257:256);s.compressWithModel(e,r,u),a.flush()})),o.decompressFile=s.decompressFileHelper(o.MAGIC,(function(e,t,r){var n=new i(e),a=new o(n,r<0?257:256);s.decompressWithModel(t,r,a)})),n.exports=o}).call(t,r,t,e))||(e.exports=n)},"Trn/":function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MPQHashTableEntry=class{constructor(e){this.hashA=e.readUInt32BE(0),this.hashB=e.readUInt32BE(4),this.locale=e.readUInt16BE(8),this.platform=e.readUInt16BE(10),this.blockTableIndex=e.readUInt32BE(12)}},t.MPQBlockTableEntry=class{constructor(e){this.offset=e.readUInt32BE(0),this.archivedSize=e.readUInt32BE(4),this.size=e.readUInt32BE(8),this.flags=e.readUInt32BE(12)}}},VMJL:function(e,t,r){const n=r("xfvg"),i=r("dtu/"),s=r("7sNm"),o=r("Dknc"),a=r("JCZO"),u=r("bdwG");e.exports=(e,t,r,c)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e===r;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof r&&(r=r.version),e!==r;case"":case"=":case"==":return n(e,r,c);case"!=":return i(e,r,c);case">":return s(e,r,c);case">=":return o(e,r,c);case"<":return a(e,r,c);case"<=":return u(e,r,c);default:throw new TypeError(`Invalid operator: ${t}`)}}},VmpX:function(e,t,r){const n=r("0eLh");e.exports=(e,t,r)=>n(e,t,">",r)},WLfg:function(e,t,r){var n,i,s,o;n=r("ANhw"),i=r("mmNF").utf8,s=r("mmNF").bin,(o=function(e,t){var r=n.wordsToBytes(function(e){e.constructor==String?e=i.stringToBytes(e):"undefined"!=typeof Buffer&&"function"==typeof Buffer.isBuffer&&Buffer.isBuffer(e)?e=Array.prototype.slice.call(e,0):Array.isArray(e)||(e=e.toString());var t=n.bytesToWords(e),r=8*e.length,s=[],o=1732584193,a=-271733879,u=-1732584194,c=271733878,h=-1009589776;t[r>>5]|=128<<24-r%32,t[15+(r+64>>>9<<4)]=r;for(var l=0;l<t.length;l+=16){for(var f=o,d=a,p=u,g=c,y=h,m=0;m<80;m++){if(m<16)s[m]=t[l+m];else{var v=s[m-3]^s[m-8]^s[m-14]^s[m-16];s[m]=v<<1|v>>>31}var b=(o<<5|o>>>27)+h+(s[m]>>>0)+(m<20?1518500249+(a&u|~a&c):m<40?1859775393+(a^u^c):m<60?(a&u|a&c|u&c)-1894007588:(a^u^c)-899497514);h=c,c=u,u=a<<30|a>>>2,a=o,o=b}o+=f,a+=d,u+=p,c+=g,h+=y}return[o,a,u,c,h]}(e));return t&&t.asBytes?r:t&&t.asString?s.bytesToString(r):n.bytesToHex(r)})._blocksize=16,o._digestsize=20,e.exports=o},X3w2:function(e,t){e.exports=n;var r=null;try{r=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch(B){}function n(e,t,r){this.low=0|e,this.high=0|t,this.unsigned=!!r}function i(e){return!0===(e&&e.__isLong__)}Object.defineProperty(n.prototype,"__isLong__",{value:!0}),n.isLong=i;var s={},o={};function a(e,t){var r,n,i;return t?(i=0<=(e>>>=0)&&e<256)&&(n=o[e])?n:(r=c(e,(0|e)<0?-1:0,!0),i&&(o[e]=r),r):(i=-128<=(e|=0)&&e<128)&&(n=s[e])?n:(r=c(e,e<0?-1:0,!1),i&&(s[e]=r),r)}function u(e,t){if(isNaN(e))return t?v:m;if(t){if(e<0)return v;if(e>=p)return S}else{if(e<=-g)return I;if(e+1>=g)return _}return e<0?u(-e,t).neg():c(e%d|0,e/d|0,t)}function c(e,t,r){return new n(e,t,r)}n.fromInt=a,n.fromNumber=u,n.fromBits=c;var h=Math.pow;function l(e,t,r){if(0===e.length)throw Error("empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return m;if("number"==typeof t?(r=t,t=!1):t=!!t,(r=r||10)<2||36<r)throw RangeError("radix");var n;if((n=e.indexOf("-"))>0)throw Error("interior hyphen");if(0===n)return l(e.substring(1),t,r).neg();for(var i=u(h(r,8)),s=m,o=0;o<e.length;o+=8){var a=Math.min(8,e.length-o),c=parseInt(e.substring(o,o+a),r);if(a<8){var f=u(h(r,a));s=s.mul(f).add(u(c))}else s=(s=s.mul(i)).add(u(c))}return s.unsigned=t,s}function f(e,t){return"number"==typeof e?u(e,t):"string"==typeof e?l(e,t):c(e.low,e.high,"boolean"==typeof t?t:e.unsigned)}n.fromString=l,n.fromValue=f;var d=4294967296,p=d*d,g=p/2,y=a(1<<24),m=a(0);n.ZERO=m;var v=a(0,!0);n.UZERO=v;var b=a(1);n.ONE=b;var w=a(1,!0);n.UONE=w;var E=a(-1);n.NEG_ONE=E;var _=c(-1,2147483647,!1);n.MAX_VALUE=_;var S=c(-1,-1,!0);n.MAX_UNSIGNED_VALUE=S;var I=c(0,-2147483648,!1);n.MIN_VALUE=I;var T=n.prototype;T.toInt=function(){return this.unsigned?this.low>>>0:this.low},T.toNumber=function(){return this.unsigned?(this.high>>>0)*d+(this.low>>>0):this.high*d+(this.low>>>0)},T.toString=function(e){if((e=e||10)<2||36<e)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative()){if(this.eq(I)){var t=u(e),r=this.div(t),n=r.mul(t).sub(this);return r.toString(e)+n.toInt().toString(e)}return"-"+this.neg().toString(e)}for(var i=u(h(e,6),this.unsigned),s=this,o="";;){var a=s.div(i),c=(s.sub(a.mul(i)).toInt()>>>0).toString(e);if((s=a).isZero())return c+o;for(;c.length<6;)c="0"+c;o=""+c+o}},T.getHighBits=function(){return this.high},T.getHighBitsUnsigned=function(){return this.high>>>0},T.getLowBits=function(){return this.low},T.getLowBitsUnsigned=function(){return this.low>>>0},T.getNumBitsAbs=function(){if(this.isNegative())return this.eq(I)?64:this.neg().getNumBitsAbs();for(var e=0!=this.high?this.high:this.low,t=31;t>0&&0==(e&1<<t);t--);return 0!=this.high?t+33:t+1},T.isZero=function(){return 0===this.high&&0===this.low},T.eqz=T.isZero,T.isNegative=function(){return!this.unsigned&&this.high<0},T.isPositive=function(){return this.unsigned||this.high>=0},T.isOdd=function(){return 1==(1&this.low)},T.isEven=function(){return 0==(1&this.low)},T.equals=function(e){return i(e)||(e=f(e)),(this.unsigned===e.unsigned||this.high>>>31!=1||e.high>>>31!=1)&&this.high===e.high&&this.low===e.low},T.eq=T.equals,T.notEquals=function(e){return!this.eq(e)},T.neq=T.notEquals,T.ne=T.notEquals,T.lessThan=function(e){return this.comp(e)<0},T.lt=T.lessThan,T.lessThanOrEqual=function(e){return this.comp(e)<=0},T.lte=T.lessThanOrEqual,T.le=T.lessThanOrEqual,T.greaterThan=function(e){return this.comp(e)>0},T.gt=T.greaterThan,T.greaterThanOrEqual=function(e){return this.comp(e)>=0},T.gte=T.greaterThanOrEqual,T.ge=T.greaterThanOrEqual,T.compare=function(e){if(i(e)||(e=f(e)),this.eq(e))return 0;var t=this.isNegative(),r=e.isNegative();return t&&!r?-1:!t&&r?1:this.unsigned?e.high>>>0>this.high>>>0||e.high===this.high&&e.low>>>0>this.low>>>0?-1:1:this.sub(e).isNegative()?-1:1},T.comp=T.compare,T.negate=function(){return!this.unsigned&&this.eq(I)?I:this.not().add(b)},T.neg=T.negate,T.add=function(e){i(e)||(e=f(e));var t=0,r=0,n=0,s=0;return n+=(s+=(65535&this.low)+(65535&e.low))>>>16,r+=(n+=(this.low>>>16)+(e.low>>>16))>>>16,t+=(r+=(65535&this.high)+(65535&e.high))>>>16,t+=(this.high>>>16)+(e.high>>>16),c((n&=65535)<<16|(s&=65535),(t&=65535)<<16|(r&=65535),this.unsigned)},T.subtract=function(e){return i(e)||(e=f(e)),this.add(e.neg())},T.sub=T.subtract,T.multiply=function(e){if(this.isZero())return m;if(i(e)||(e=f(e)),r)return c(r.mul(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned);if(e.isZero())return m;if(this.eq(I))return e.isOdd()?I:m;if(e.eq(I))return this.isOdd()?I:m;if(this.isNegative())return e.isNegative()?this.neg().mul(e.neg()):this.neg().mul(e).neg();if(e.isNegative())return this.mul(e.neg()).neg();if(this.lt(y)&&e.lt(y))return u(this.toNumber()*e.toNumber(),this.unsigned);var t=65535&this.high,n=this.low>>>16,s=65535&this.low,o=65535&e.high,a=e.low>>>16,h=65535&e.low,l=0,d=0,p=0,g=0;return p+=(g+=s*h)>>>16,d+=(p+=n*h)>>>16,p&=65535,d+=(p+=s*a)>>>16,l+=(d+=t*h)>>>16,d&=65535,l+=(d+=n*a)>>>16,d&=65535,l+=(d+=s*o)>>>16,l+=(this.high>>>16)*h+t*a+n*o+s*(e.high>>>16),c((p&=65535)<<16|(g&=65535),(l&=65535)<<16|(d&=65535),this.unsigned)},T.mul=T.multiply,T.divide=function(e){if(i(e)||(e=f(e)),e.isZero())throw Error("division by zero");var t,n,s;if(r)return this.unsigned||-2147483648!==this.high||-1!==e.low||-1!==e.high?c((this.unsigned?r.div_u:r.div_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this;if(this.isZero())return this.unsigned?v:m;if(this.unsigned){if(e.unsigned||(e=e.toUnsigned()),e.gt(this))return v;if(e.gt(this.shru(1)))return w;s=v}else{if(this.eq(I))return e.eq(b)||e.eq(E)?I:e.eq(I)?b:(t=this.shr(1).div(e).shl(1)).eq(m)?e.isNegative()?b:E:(n=this.sub(e.mul(t)),s=t.add(n.div(e)));if(e.eq(I))return this.unsigned?v:m;if(this.isNegative())return e.isNegative()?this.neg().div(e.neg()):this.neg().div(e).neg();if(e.isNegative())return this.div(e.neg()).neg();s=m}for(n=this;n.gte(e);){t=Math.max(1,Math.floor(n.toNumber()/e.toNumber()));for(var o=Math.ceil(Math.log(t)/Math.LN2),a=o<=48?1:h(2,o-48),l=u(t),d=l.mul(e);d.isNegative()||d.gt(n);)d=(l=u(t-=a,this.unsigned)).mul(e);l.isZero()&&(l=b),s=s.add(l),n=n.sub(d)}return s},T.div=T.divide,T.modulo=function(e){return i(e)||(e=f(e)),r?c((this.unsigned?r.rem_u:r.rem_s)(this.low,this.high,e.low,e.high),r.get_high(),this.unsigned):this.sub(this.div(e).mul(e))},T.mod=T.modulo,T.rem=T.modulo,T.not=function(){return c(~this.low,~this.high,this.unsigned)},T.and=function(e){return i(e)||(e=f(e)),c(this.low&e.low,this.high&e.high,this.unsigned)},T.or=function(e){return i(e)||(e=f(e)),c(this.low|e.low,this.high|e.high,this.unsigned)},T.xor=function(e){return i(e)||(e=f(e)),c(this.low^e.low,this.high^e.high,this.unsigned)},T.shiftLeft=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low<<e,this.high<<e|this.low>>>32-e,this.unsigned):c(0,this.low<<e-32,this.unsigned)},T.shl=T.shiftLeft,T.shiftRight=function(e){return i(e)&&(e=e.toInt()),0==(e&=63)?this:e<32?c(this.low>>>e|this.high<<32-e,this.high>>e,this.unsigned):c(this.high>>e-32,this.high>=0?0:-1,this.unsigned)},T.shr=T.shiftRight,T.shiftRightUnsigned=function(e){if(i(e)&&(e=e.toInt()),0==(e&=63))return this;var t=this.high;return e<32?c(this.low>>>e|t<<32-e,t>>>e,this.unsigned):c(32===e?t:t>>>e-32,0,this.unsigned)},T.shru=T.shiftRightUnsigned,T.shr_u=T.shiftRightUnsigned,T.toSigned=function(){return this.unsigned?c(this.low,this.high,!1):this},T.toUnsigned=function(){return this.unsigned?this:c(this.low,this.high,!0)},T.toBytes=function(e){return e?this.toBytesLE():this.toBytesBE()},T.toBytesLE=function(){var e=this.high,t=this.low;return[255&t,t>>>8&255,t>>>16&255,t>>>24,255&e,e>>>8&255,e>>>16&255,e>>>24]},T.toBytesBE=function(){var e=this.high,t=this.low;return[e>>>24,e>>>16&255,e>>>8&255,255&e,t>>>24,t>>>16&255,t>>>8&255,255&t]},n.fromBytes=function(e,t,r){return r?n.fromBytesLE(e,t):n.fromBytesBE(e,t)},n.fromBytesLE=function(e,t){return new n(e[0]|e[1]<<8|e[2]<<16|e[3]<<24,e[4]|e[5]<<8|e[6]<<16|e[7]<<24,t)},n.fromBytesBE=function(e,t){return new n(e[4]<<24|e[5]<<16|e[6]<<8|e[7],e[0]<<24|e[1]<<16|e[2]<<8|e[3],t)}},YJ14:function(e,t,r){const n=r("3wIk");e.exports=(e,t)=>new n(e,t).minor},Ybu3:function(e,t,r){const{MAX_LENGTH:n}=r("/kWe"),{re:i,t:s}=r("IsDc"),o=r("3wIk");e.exports=(e,t)=>{if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof o)return e;if("string"!=typeof e)return null;if(e.length>n)return null;if(!(t.loose?i[s.LOOSE]:i[s.FULL]).test(e))return null;try{return new o(e,t)}catch(r){return null}}},Yn5A:function(e,t,r){const n=r("Ybu3"),i=r("xfvg");e.exports=(e,t)=>{if(i(e,t))return null;{const r=n(e),i=n(t),s=r.prerelease.length||i.prerelease.length,o=s?"pre":"",a=s?"prerelease":"";for(const e in r)if(("major"===e||"minor"===e||"patch"===e)&&r[e]!==i[e])return o+e;return a}}},ZGXk:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ghB2"),s=function(){};s.prototype.readByte=function(){var e=[0];return 0===this.read(e,0,1)?(this._eof=!0,-1):e[0]},s.prototype.read=function(e,t,r){for(var n,i=0;i<r;){if(-1===(n=this.readByte())){this._eof=!0;break}e[t+i++]=n}return i},s.prototype.eof=function(){return!!this._eof},s.prototype.seek=function(e){throw new Error("Stream is not seekable.")},s.prototype.tell=function(){throw new Error("Stream is not seekable.")},s.prototype.writeByte=function(e){this.write([e],0,1)},s.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t+n]);return r},s.prototype.flush=function(){},s.EOF=-1,n.exports=i(s)}).call(t,r,t,e))||(e.exports=n)},Zmi3:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("+yXC"),s=(r("ZGXk"),r("FYyq")),o=function(e,t,r){var n;console.assert(t<300);var i=this.numSyms=t;for(this.coder=e,this.prob=s.makeU16Buffer(t+2),this.escape=s.makeU16Buffer(t+1),this.update=s.makeU16Buffer(t+1),this.prob[i+1]=256,n=0;n<=this.numSyms;n++)this.escape[n]=n;if(this.updateCount=0,this.updateThresh=256-Math.floor(128),r){for(this.probToSym=s.makeU16Buffer(256),this.escProbToSym=s.makeU16Buffer(this.numSyms),n=0;n<256;n++)this.probToSym[n]=i;for(n=0;n<this.numSyms;n++)this.escProbToSym[n]=n}};o.factory=function(e,t){return function(r){return new o(e,r,t)}},o.prototype._update=function(e,t){if(e===this.numSyms){if(this.update[e]>=40)return;if(this.updateCount>=this.updateThresh-1)return}if(this.update[e]++,this.updateCount++,!(this.updateCount<this.updateThresh)){var r,n,i,s,o,a;for(this.escape[0]=this.prob[0]=r=n=i=0,s=0;s<this.numSyms+1;s++){var u=(this.prob[s+1]-this.prob[s]>>>1)+this.update[s];u?(this.prob[s]=r,r+=u,1&u&&i++,this.escape[s]=n):(this.prob[s]=r,this.escape[s]=n,n++)}for(this.prob[s]=r,console.assert(256===r),this.updateThresh=256-Math.floor((r-i)/2),s=0;s<this.numSyms+1;s++)this.update[s]=0;if(this.update[this.numSyms]=1,this.updateCount=1,t)for(s=0,o=0,a=0;s<this.numSyms+1;s++){for(var c=this.prob[s+1];o<c;o++)this.probToSym[o]=s;for(var h=this.escape[s+1];a<h;a++)this.escProbToSym[a]=s}}},o.prototype.encode=function(e){var t=this.prob[e],r=this.prob[e+1]-t;return console.assert(256===this.prob[this.numSyms+1]),r?(this.coder.encodeShift(r,t,8),this._update(e)):(console.assert(e!==this.numSyms),this.encode(this.numSyms),this.coder.encodeFreq(r=this.escape[e+1]-(t=this.escape[e]),t,this.escape[this.numSyms]),this._update(e))},o.prototype.decode=function(){var e=this.coder.decodeCulShift(8),t=this.probToSym[e],r=this.prob[t],n=this.prob[t+1]-r;if(this.coder.decodeUpdate(n,r,256),this._update(t,!0),t!==this.numSyms)return t;var i=this.escape[this.numSyms];return e=this.coder.decodeCulFreq(i),this.coder.decodeUpdate(n=this.escape[(t=this.escProbToSym[e])+1]-(r=this.escape[t]),r,i),this._update(t,!0),t},o.compressFile=s.compressFileHelper(o.MAGIC="dfsm",(function(e,t,r,n,a){var u=new i(t);u.encodeStart(a,1);var c=new o(u,r<0?257:256);s.compressWithModel(e,r,c),u.encodeFinish()}),!0),o.decompressFile=s.decompressFileHelper(o.MAGIC,(function(e,t,r){var n=new i(e);n.decodeStart(!0);var a=new o(n,r<0?257:256,!0);s.decompressWithModel(t,r,a),n.decodeFinish()})),n.exports=o}).call(t,r,t,e))||(e.exports=n)},aGRR:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("doDk"),s=r("4JoP"),o=r("FYyq"),a=function(e,t,r){var n;for(this.literalModel=[],n=0;n<t;n++)this.literalModel[n]=e(r)};a.prototype.encode=function(e,t){this.literalModel[t].encode(e)},a.prototype.decode=function(e){return this.literalModel[e].decode()},a.compressFile=o.compressFileHelper(a.MAGIC="ctx1",(function(e,t,r,n){var u=new i(t),c=256;r<0&&c++;var h=s.factory(u,8191),l=new a(h,256,c),f=32;o.compressWithModel(e,r,{encode:function(e){l.encode(e,f),f=e}}),u.flush()})),a.decompressFile=o.decompressFileHelper(a.MAGIC,(function(e,t,r){var n=new i(e),u=256;r<0&&u++;var c=s.factory(n,8191),h=new a(c,256,u),l=32;o.decompressWithModel(t,r,{decode:function(){var e=h.decode(l);return l=e,e}})})),n.exports=a}).call(t,r,t,e))||(e.exports=n)},anIe:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("uu4J"),s=r("+yXC"),o=r("ZGXk"),a=r("FYyq"),u=Object.create(null);u.MAGIC="dmc!";var c=function(e,t,r){this.out=[],this.model=r?r.clone():new i(e,t,65280,256),this.count=a.makeU16Buffer(t),this.sum=0};c.prototype.clone=function(e,t){var r,n=new c(e,t,null);for(r=0;r<t;r++)n.out[r]=this.out[r];return n};var h=function(e,t,r,n){var i,s;for(this.coder=e,this.size=t,this.MIN_CNT1=r||8,this.MIN_CNT2=n||128,this.nodes=[],i=0;i<t;i++)this.nodes[i]=new c(e,t);for(i=0;i<t;i++)for(s=0;s<t;s++)this.nodes[i].out[s]=this.nodes[s];this.current=this.nodes[0]};h.prototype.maybeSplit=function(e,t,r){var n,i=e.count[t],s=r.sum;if(i<=this.MIN_CNT1||s-i<=this.MIN_CNT2)return r;var o=r.clone(this.coder,this.size);for(this.nodes.push(o),e.out[t]=o,o.sum=r.sum=0,n=0;n<this.size;n++)o.count[n]=r.count[n]*i/s,o.sum+=o.count[n],r.count[n]-=o.count[n],r.sum+=r.count[n];return o},h.prototype.encode=function(e){var t=this.current;t.model.encode(e);var r=t.out[e];65535!==t.count[e]&&(t.count[e]++,t.sum++),this.current=this.maybeSplit(t,e,r)},h.prototype.decode=function(){var e=this.current,t=e.model.decode(),r=e.out[t];return 65535!==e.count[t]&&(e.count[t]++,e.sum++),this.current=this.maybeSplit(e,t,r),t},u.compressFile=a.compressFileHelper(u.MAGIC,(function(e,t,r,n){var i=+(n=n||{}).m||8,u=+n.n||128;a.writeUnsignedNumber(t,i),a.writeUnsignedNumber(t,u);var c=new s(t);c.encodeStart(202,0);for(var l=new h(c,r<0?257:256,i,u),f=0;f!==r;){var d=e.readByte();if(d===o.EOF){l.encode(256);break}l.encode(d),f++}c.encodeFinish()})),u.decompressFile=a.decompressFileHelper(u.MAGIC,(function(e,t,r){var n=a.readUnsignedNumber(e),i=a.readUnsignedNumber(e),o=new s(e);o.decodeStart();for(var u=new h(o,r<0?257:256,n,i),c=0;c!==r;){var l=u.decode();if(256===l)break;t.writeByte(l),c++}o.decodeFinish()})),n.exports=u}).call(t,r,t,e))||(e.exports=n)},aniT:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MPQUserDataHeader=class{constructor(e){this.magic=e.toString("utf8",0,4),this.userDataSize=e.readUInt32LE(4),this.mpqHeaderOffset=e.readUInt32LE(8),this.userDataHeaderSize=e.readUInt32LE(12)}};class n{constructor(e){e&&(this.magic=e.toString("utf8",0,4),this.headerSize=e.readUInt32LE(4),this.archiveSize=e.readUInt32LE(8),this.formatVersion=e.readUInt16LE(12),this.sectorSizeShift=e.readUInt16LE(14),this.hashTableOffset=e.readUInt32LE(16),this.blockTableOffset=e.readUInt32LE(20),this.hashTableEntries=e.readUInt32LE(24),this.blockTableEntries=e.readUInt32LE(28))}}t.MPQFileHeader=n,t.MPQFileHeaderExt=class extends n{constructor(e){super(null),this.extendedBlockTableOffset=e.readIntLE(0,8),this.hashTableOffsetHigh=e.readInt8(8),this.blockTableOffsetHigh=e.readInt8(10)}}},bdwG:function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>n(e,t,r)<=0},d43V:function(e,t,r){const n=r("3wIk"),i=r("ex/Z");e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(u){return null}return e.forEach(e=>{a.test(e)&&(s&&-1!==o.compare(e)||(s=e,o=new n(s,r)))}),s}},dSED:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("kLNY")),n(r("wUFj"))},doDk:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("ZGXk"),s=function(e){(function(){var t=256;this.readBit=function(){if(0==(255&t)){var r=e.readByte();if(r===i.EOF)return this._eof=!0,r;t=r<<1|1}var n=256&t?1:0;return t<<=1,n},this.seekBit=function(e){var t=e>>>3,r=e-8*t;this.seek(t),this._eof=!1,this.readBits(r)},this.tellBit=function(){for(var r=8*e.tell(),n=t;0!=(255&n);)r--,n<<=1;return r},this.readByte=function(){return 0==(255&t)?e.readByte():this.readBits(8)},this.seek=function(r){e.seek(r),t=256}}).call(this),(function(){var t=1;this.writeBit=function(r){t<<=1,r&&(t|=1),256&t&&(e.writeByte(255&t),t=1)},this.writeByte=function(r){1===t?e.writeByte(r):e.writeBits(8,r)},this.flush=function(){for(;1!==t;)this.writeBit(0);e.flush&&e.flush()}}).call(this)};s.EOF=i.EOF,(s.prototype=Object.create(i.prototype)).readBits=function(e){var t,r=0;if(e>31)return(r=65536*this.readBits(e-16))+this.readBits(16);for(t=0;t<e;t++)r<<=1,this.readBit()>0&&r++;return r},s.prototype.writeBits=function(e,t){if(e>32){var r=65535&t;return this.writeBits(e-16,(t-r)/65536),void this.writeBits(16,r)}var n;for(n=e-1;n>=0;n--)this.writeBit(t>>>n&1)},n.exports=s}).call(t,r,t,e))||(e.exports=n)},"dtu/":function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>0!==n(e,t,r)},eQf7:function(e,t,r){const n=r("3wIk");e.exports=(e,t,r,i)=>{"string"==typeof r&&(i=r,r=void 0);try{return new n(e,r).inc(t,i).version}catch(s){return null}}},eXNJ:function(e,t,r){const n=r("3wIk"),i=r("Ybu3"),{re:s,t:o}=r("IsDc");e.exports=(e,t)=>{if(e instanceof n)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let r=null;if((t=t||{}).rtl){let t;for(;(t=s[o.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length);)r&&t.index+t[0].length===r.index+r[0].length||(r=t),s[o.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;s[o.COERCERTL].lastIndex=-1}else r=e.match(s[o.COERCE]);return null===r?null:i(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)}},"ex/Z":function(e,t,r){class n{constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof n)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new n(e.raw,t);if(e instanceof i)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map(e=>this.parseRange(e.trim())).filter(e=>e.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);this.format()}format(){return this.range=this.set.map(e=>e.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(e){const t=this.options.loose;e=(e=e.trim()).replace(t?a[u.HYPHENRANGELOOSE]:a[u.HYPHENRANGE],_),s("hyphen replace",e),e=e.replace(a[u.COMPARATORTRIM],c),s("comparator trim",e,a[u.COMPARATORTRIM]),e=(e=(e=e.replace(a[u.TILDETRIM],h)).replace(a[u.CARETTRIM],l)).split(/\s+/).join(" ");const r=t?a[u.COMPARATORLOOSE]:a[u.COMPARATOR];return e.split(" ").map(e=>d(e,this.options)).join(" ").split(/\s+/).filter(this.options.loose?e=>!!e.match(r):()=>!0).map(e=>new i(e,this.options))}intersects(e,t){if(!(e instanceof n))throw new TypeError("a Range is required");return this.set.some(r=>f(r,t)&&e.set.some(e=>f(e,t)&&r.every(r=>e.every(e=>r.intersects(e,t)))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new o(e,this.options)}catch(t){return!1}for(let r=0;r<this.set.length;r++)if(S(this.set[r],e,this.options))return!0;return!1}}e.exports=n;const i=r("vwDW"),s=r("DXxi"),o=r("3wIk"),{re:a,t:u,comparatorTrimReplace:c,tildeTrimReplace:h,caretTrimReplace:l}=r("IsDc"),f=(e,t)=>{let r=!0;const n=e.slice();let i=n.pop();for(;r&&n.length;)r=n.every(e=>i.intersects(e,t)),i=n.pop();return r},d=(e,t)=>(s("comp",e,t),e=m(e,t),s("caret",e),e=g(e,t),s("tildes",e),e=b(e,t),s("xrange",e),e=E(e,t),s("stars",e),e),p=e=>!e||"x"===e.toLowerCase()||"*"===e,g=(e,t)=>e.trim().split(/\s+/).map(e=>y(e,t)).join(" "),y=(e,t)=>e.replace(t.loose?a[u.TILDELOOSE]:a[u.TILDE],(t,r,n,i,o)=>{let a;return s("tilde",e,t,r,n,i,o),p(r)?a="":p(n)?a=`>=${r}.0.0 <${+r+1}.0.0`:p(i)?a=`>=${r}.${n}.0 <${r}.${+n+1}.0`:o?(s("replaceTilde pr",o),a=`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0`):a=`>=${r}.${n}.${i} <${r}.${+n+1}.0`,s("tilde return",a),a}),m=(e,t)=>e.trim().split(/\s+/).map(e=>v(e,t)).join(" "),v=(e,t)=>(s("caret",e,t),e.replace(t.loose?a[u.CARETLOOSE]:a[u.CARET],(t,r,n,i,o)=>{let a;return s("caret",e,t,r,n,i,o),p(r)?a="":p(n)?a=`>=${r}.0.0 <${+r+1}.0.0`:p(i)?a="0"===r?`>=${r}.${n}.0 <${r}.${+n+1}.0`:`>=${r}.${n}.0 <${+r+1}.0.0`:o?(s("replaceCaret pr",o),a="0"===r?"0"===n?`>=${r}.${n}.${i}-${o} <${r}.${n}.${+i+1}`:`>=${r}.${n}.${i}-${o} <${r}.${+n+1}.0`:`>=${r}.${n}.${i}-${o} <${+r+1}.0.0`):(s("no pr"),a="0"===r?"0"===n?`>=${r}.${n}.${i} <${r}.${n}.${+i+1}`:`>=${r}.${n}.${i} <${r}.${+n+1}.0`:`>=${r}.${n}.${i} <${+r+1}.0.0`),s("caret return",a),a})),b=(e,t)=>(s("replaceXRanges",e,t),e.split(/\s+/).map(e=>w(e,t)).join(" ")),w=(e,t)=>(e=e.trim()).replace(t.loose?a[u.XRANGELOOSE]:a[u.XRANGE],(r,n,i,o,a,u)=>{s("xRange",e,r,n,i,o,a,u);const c=p(i),h=c||p(o),l=h||p(a);return"="===n&&l&&(n=""),u=t.includePrerelease?"-0":"",c?r=">"===n||"<"===n?"<0.0.0-0":"*":n&&l?(h&&(o=0),a=0,">"===n?(n=">=",h?(i=+i+1,o=0,a=0):(o=+o+1,a=0)):"<="===n&&(n="<",h?i=+i+1:o=+o+1),r=`${n+i}.${o}.${a}${u}`):h?r=`>=${i}.0.0${u} <${+i+1}.0.0${u}`:l&&(r=`>=${i}.${o}.0${u} <${i}.${+o+1}.0${u}`),s("xRange return",r),r}),E=(e,t)=>(s("replaceStars",e,t),e.trim().replace(a[u.STAR],"")),_=(e,t,r,n,i,s,o,a,u,c,h,l,f)=>`${t=p(r)?"":p(n)?`>=${r}.0.0`:p(i)?`>=${r}.${n}.0`:`>=${t}`} ${a=p(u)?"":p(c)?`<${+u+1}.0.0`:p(h)?`<${u}.${+c+1}.0`:l?`<=${u}.${c}.${h}-${l}`:`<=${a}`}`.trim(),S=(e,t,r)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++)if(s(e[r].semver),e[r].semver!==i.ANY&&e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch)return!0}return!1}return!0}},fbai:function(e,t,r){var n;void 0===(n=(function(e,t,n){r("ghB2");var i=r("NC4S"),s=r("Zmi3"),o=r("KOtJ"),a=r("3+LO"),u=r("SfGW"),c=r("+yXC"),h=(r("ZGXk"),r("FYyq")),l=Object.create(null);l.MAGIC="bwtc",l.compressFile=h.compressFileHelper(l.MAGIC,(function(e,t,r,n,l){var f=new c(t);f.encodeStart(l,1);var d=9;"number"==typeof n&&n>=1&&n<=9&&(d=n),f.encodeByte(d);var p,g,y,m,v,b,w=d<=5,E=h.makeU8Buffer(d*=1e5),_=function(){var t;for(t=0;t<d;){var r=e.readByte();if(r<0)break;E[t++]=r}return t},S=h.makeU8Buffer(d),I=h.makeS32Buffer(d),T=h.makeU8Buffer(256),B=u.factory(f),A=new a(d,0,B,B);do{if(0===(p=_()))break;p===E.length?(f.encodeFreq(1,0,3),g=E):(f.encodeFreq(1,1,3),A.encode(p),g=E.subarray(0,p)),m=i.bwtransform(g,S,I,p,256),A.encode(m);var O=h.makeU16Buffer(512);for(v=0;v<p;v++)O[256+(y=S[v])]=1;for(v=255;v>0;v--)O[v]=O[2*v]+O[2*v+1];for(O[0]=1,v=1;v<512;v++){var x=v>>>1,M=1<<9-h.fls(v);if(0===O[x]||O[x]===2*M);else if(v>=256)f.encodeBit(O[v]);else{var R=O[v];f.encodeFreq(1,R=0===R?0:R===M?2:1,3)}}var k=0;for(v=0;v<256;v++)O[256+v]&&(T[k++]=v);for(O=null,v=0;v<p;v++){for(y=S[v],b=0;b<k&&T[b]!==y;b++);for(console.assert(b<k),S[v]=b;b>0;b--)T[b]=T[b-1];T[0]=y}var N=new o(f,k+1,65280,256);w&&(N=new s(f,k+1));var L=0,D=function(){for(;0!==L;)1&L?(N.encode(0),L-=1):(N.encode(1),L-=2),L>>>=1};for(v=0;v<p;v++)0===(y=S[v])?L++:(D(),N.encode(y+1),L=0);D()}while(p===E.length);f.encodeFreq(1,2,3),f.encodeFinish()}),!0),l.decompressFile=h.decompressFileHelper(l.MAGIC,(function(e,t,r){var n=new c(e);n.decodeStart(!0);var l=n.decodeByte();console.assert(l>=1&&l<=9);for(var f,d,p,g,y,m=l<=5,v=h.makeU8Buffer(l*=1e5),b=h.makeU8Buffer(l),w=h.makeS32Buffer(l),E=h.makeU8Buffer(256),_=u.factory(n),S=new a(l,0,_,_);;){var I=n.decodeCulFreq(3);if(n.decodeUpdate(1,I,3),0===I)d=l,f=v;else if(1===I)d=S.decode(),f=v.subarray(0,d);else if(2===I)break;var T=S.decode(),B=h.makeU16Buffer(512);for(B[0]=1,p=1;p<512;p++){var A=p>>>1,O=1<<9-h.fls(p);if(0===B[A]||B[A]===2*O)B[p]=B[A]>>>1;else if(p>=256)B[p]=n.decodeBit();else{var x=n.decodeCulFreq(3);n.decodeUpdate(1,x,3),B[p]=2===x?O:x}}var M=0;for(p=0;p<256;p++)B[256+p]&&(E[M++]=p);B=null;var R=new o(n,M+1,65280,256);m&&(R=new s(n,M+1,!0));var k=1;for(p=0;p<d;)if(0===(y=R.decode())){for(g=0;g<k;g++)f[p++]=0;k*=2}else if(1===y){for(g=0;g<k;g++)f[p++]=0,f[p++]=0;k*=2}else k=1,f[p++]=y-1;for(p=0;p<d;p++){for(f[p]=y=E[g=f[p]];g>0;g--)E[g]=E[g-1];E[0]=y}i.unbwtransform(v,b,w,d,T),t.write(b,0,d)}n.decodeFinish()})),n.exports=l}).call(t,r,t,e))||(e.exports=n)},ghB2:function(e,t,r){var n;void 0===(n=(function(e,t,r){"use strict";r.exports=Object.freeze?Object.freeze:function(e){return e}}).call(t,r,t,e))||(e.exports=n)},gqzR:function(e,t,r){const n=r("Ybu3");e.exports=(e,t)=>{const r=n(e,t);return r?r.version:null}},iEBQ:function(e,t,r){const n=r("3wIk");e.exports=(e,t,r)=>{const i=new n(e,r),s=new n(t,r);return i.compare(s)||i.compareBuild(s)}},j0pM:function(e,t,r){const n=r("ex/Z");e.exports=(e,t)=>new n(e,t).set.map(e=>e.map(e=>e.value).join(" ").trim().split(" "))},jlAx:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("FYyq"),s=i.arraycopy(i.makeU32Buffer(256),[0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]);n.exports=function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^s[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^s[255&(e>>>24^t)]}}}).call(t,r,t,e))||(e.exports=n)},kLNY:function(e,t,r){"use strict";function n(e){for(var r in e)t.hasOwnProperty(r)||(t[r]=e[r])}Object.defineProperty(t,"__esModule",{value:!0}),n(r("aniT")),n(r("Trn/"))},"kVK+":function(e,t){t.read=function(e,t,r,n,i){var s,o,a=8*i-n-1,u=(1<<a)-1,c=u>>1,h=-7,l=r?i-1:0,f=r?-1:1,d=e[t+l];for(l+=f,s=d&(1<<-h)-1,d>>=-h,h+=a;h>0;s=256*s+e[t+l],l+=f,h-=8);for(o=s&(1<<-h)-1,s>>=-h,h+=n;h>0;o=256*o+e[t+l],l+=f,h-=8);if(0===s)s=1-c;else{if(s===u)return o?NaN:1/0*(d?-1:1);o+=Math.pow(2,n),s-=c}return(d?-1:1)*o*Math.pow(2,s-n)},t.write=function(e,t,r,n,i,s){var o,a,u,c=8*s-i-1,h=(1<<c)-1,l=h>>1,f=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:s-1,p=n?1:-1,g=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(a=isNaN(t)?1:0,o=h):(o=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-o))<1&&(o--,u*=2),(t+=o+l>=1?f/u:f*Math.pow(2,1-l))*u>=2&&(o++,u/=2),o+l>=h?(a=0,o=h):o+l>=1?(a=(t*u-1)*Math.pow(2,i),o+=l):(a=t*Math.pow(2,l-1)*Math.pow(2,i),o=0));i>=8;e[r+d]=255&a,d+=p,a/=256,i-=8);for(o=o<<i|a,c+=i;c>0;e[r+d]=255&o,d+=p,o/=256,c-=8);e[r+d-p]|=128*g}},kb5C:function(e,t,r){var n;void 0===(n=(function(e,t,n){"use strict";var i=r("ghB2"),s=r("doDk"),o=r("ZGXk"),a=r("NC4S"),u=r("aGRR"),c=r("Zmi3"),h=r("KOtJ"),l=r("uu4J"),f=r("SfGW"),d=r("4JoP"),p=r("+yXC"),g=r("fbai"),y=r("lu5/"),m=r("anIe"),v=r("2EoX"),b=r("HaiE"),w=r("4jkG"),E=r("AK2h"),_=r("As0o");n.exports=i({version:"0.0.1",BitStream:s,Stream:o,BWT:a,Context1Model:u,DefSumModel:c,FenwickModel:h,MTFModel:l,NoModel:f,Huffman:d,RangeCoder:p,BWTC:g,Bzip2:y,Dmc:m,Lzjb:v,LzjbR:b,Lzp3:w,PPM:E,Simple:_})}).call(t,r,t,e))||(e.exports=n)},lYj8:function(e,t,r){const n=r("iEBQ");e.exports=(e,t)=>e.sort((e,r)=>n(e,r,t))},lkeM:function(e,t,r){const n=r("3wIk"),i=r("ex/Z"),s=r("7sNm");e.exports=(e,t)=>{e=new i(e,t);let r=new n("0.0.0");if(e.test(r))return r;if(r=new n("0.0.0-0"),e.test(r))return r;r=null;for(let i=0;i<e.set.length;++i)e.set[i].forEach(e=>{const t=new n(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":r&&!s(r,t)||(r=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}});return r&&e.test(r)?r:null}},"lu5/":function(e,t,r){var n;void 0===(n=(function(e,t,n){r("ghB2");var i=r("doDk"),s=r("NC4S"),o=r("jlAx"),a=r("3p25"),u=r("ZGXk"),c=r("FYyq"),h=u.EOF,l=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},f={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},d={};d[f.LAST_BLOCK]="Bad file checksum",d[f.NOT_BZIP_DATA]="Not bzip data",d[f.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",d[f.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",d[f.DATA_ERROR]="Data error",d[f.OUT_OF_MEMORY]="Out of memory",d[f.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var p=function(e,t){var r=d[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},g=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};g.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new o,!0):(this.writeCount=-1,!1)},g.prototype._start_bunzip=function(e,t){var r=c.makeU8Buffer(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||p(f.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&p(f.NOT_BZIP_DATA,"level out of range"),this.reader=new i(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},g.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.readBits(48);if(25779555029136===i)return!1;54156738319193!==i&&p(f.NOT_BZIP_DATA),this.targetBlockCRC=n.readBits(32),this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.readBits(1)&&p(f.OBSOLETE_INPUT);var s=n.readBits(24);s>this.dbufSize&&p(f.DATA_ERROR,"initial position out of bounds");var o=n.readBits(16),a=c.makeU8Buffer(256),u=0;for(e=0;e<16;e++)if(o&1<<15-e){var h=16*e;for(r=n.readBits(16),t=0;t<16;t++)r&1<<15-t&&(a[u++]=h+t)}var d=n.readBits(3);(d<2||d>6)&&p(f.DATA_ERROR);var g=n.readBits(15);0===g&&p(f.DATA_ERROR);var y=c.makeU8Buffer(256);for(e=0;e<d;e++)y[e]=e;var m=c.makeU8Buffer(g);for(e=0;e<g;e++){for(t=0;n.readBits(1);t++)t>=d&&p(f.DATA_ERROR);m[e]=l(y,t)}var v,b=u+2,w=[];for(t=0;t<d;t++){var E,_,S=c.makeU8Buffer(b),I=c.makeU16Buffer(21);for(o=n.readBits(5),e=0;e<b;e++){for(;(o<1||o>20)&&p(f.DATA_ERROR),n.readBits(1);)n.readBits(1)?o--:o++;S[e]=o}for(E=_=S[0],e=1;e<b;e++)S[e]>_?_=S[e]:S[e]<E&&(E=S[e]);w.push(v={}),v.permute=c.makeU16Buffer(258),v.limit=c.makeU32Buffer(22),v.base=c.makeU32Buffer(21),v.minLen=E,v.maxLen=_;var T=0;for(e=E;e<=_;e++)for(I[e]=v.limit[e]=0,o=0;o<b;o++)S[o]===e&&(v.permute[T++]=o);for(e=0;e<b;e++)I[S[e]]++;for(T=o=0,e=E;e<_;e++)v.limit[e]=(T+=I[e])-1,v.base[e+1]=(T<<=1)-(o+=I[e]);v.limit[_+1]=Number.MAX_VALUE,v.limit[_]=T+I[_]-1,v.base[E]=0}var B=c.makeU32Buffer(256);for(e=0;e<256;e++)y[e]=e;var A,O=0,x=0,M=0,R=this.dbuf=c.makeU32Buffer(this.dbufSize);for(b=0;;){for(b--||(b=49,M>=g&&p(f.DATA_ERROR),v=w[m[M++]]),t=n.readBits(e=v.minLen);e>v.maxLen&&p(f.DATA_ERROR),!(t<=v.limit[e]);e++)t=t<<1|n.readBits(1);((t-=v.base[e])<0||t>=258)&&p(f.DATA_ERROR);var k=v.permute[t];if(0!==k&&1!==k){if(O)for(O=0,x+o>this.dbufSize&&p(f.DATA_ERROR),B[A=a[y[0]]]+=o;o--;)R[x++]=A;if(k>u)break;x>=this.dbufSize&&p(f.DATA_ERROR),B[A=a[A=l(y,e=k-1)]]++,R[x++]=A}else O||(O=1,o=0),o+=0===k?O:2*O,O<<=1}for((s<0||s>=x)&&p(f.DATA_ERROR),t=0,e=0;e<256;e++)r=t+B[e],B[e]=t,t=r;for(e=0;e<x;e++)R[B[A=255&R[e]]]|=e<<8,B[A]++;var N=0,L=0,D=0;return x&&(L=255&(N=R[s]),N>>=8,D=-1),this.writePos=N,this.writeCurrent=L,this.writeCount=x,this.writeRun=D,!0},g.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;for(var s=this.dbuf,o=this.writePos,a=this.writeCurrent,u=this.writeCount,c=this.writeRun;u;){for(u--,n=a,a=255&(o=s[o]),o>>=8,3==c++?(r=a,i=n,a=-1):(r=1,i=a),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;a!=n&&(c=0)}return this.writeCount=u,this.blockCRC.getCRC()!==this.targetBlockCRC&&p(f.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput},g.Err=f,g.decode=function(e,t,r){for(var n=c.coerceInputStream(e),i=c.coerceOutputStream(t,t),s=i.stream,o=new g(n,s);!("eof"in n&&n.eof());)if(o._init_block())o._read_bunzip();else{var a=o.reader.readBits(32);if(a!==o.streamCRC&&p(f.DATA_ERROR,"Bad stream CRC (got "+o.streamCRC.toString(16)+" expected "+a.toString(16)+")"),!(r&&"eof"in n)||n.eof())break;o._start_bunzip(n,s)}return i.retval},g.decodeBlock=function(e,t,r){var n=c.coerceInputStream(e),i=c.coerceOutputStream(r,r),s=new g(n,i.stream);return s.reader.seekBit(t),s._get_next_block()&&(s.blockCRC=new o,s.writeCopies=0,s._read_bunzip()),i.retval},g.table=function(e,t,r){var n=new u;n.delegate=c.coerceInputStream(e),n.pos=0,n.readByte=function(){return this.pos++,this.delegate.readByte()},n.tell=function(){return this.pos},n.delegate.eof&&(n.eof=n.delegate.eof.bind(n.delegate));var i=new u;i.pos=0,i.writeByte=function(){this.pos++};for(var s=new g(n,i),o=s.dbufSize;!("eof"in n&&n.eof());){var a=s.reader.tellBit();if(s._init_block()){var h=i.pos;s._read_bunzip(),t(a,i.pos-h)}else{if(s.reader.readBits(32),!(r&&"eof"in n)||n.eof())break;s._start_bunzip(n,i),console.assert(s.dbufSize===o,"shouldn't change block size within multistream file")}}};var y=function(e,t){var r,n=[];for(r=0;r<t;r++)n[r]=e[r]<<9|r;n.sort((function(e,t){return e-t}));var i=n.map((function(e){return e>>>9}));for(a.allocateHuffmanCodeLengths(i,20),this.codeLengths=c.makeU8Buffer(t),r=0;r<t;r++)this.codeLengths[511&n[r]]=i[r]};y.prototype.computeCanonical=function(){var e,t=this.codeLengths.length,r=[];for(e=0;e<t;e++)r[e]=this.codeLengths[e]<<9|e;r.sort((function(e,t){return e-t})),this.code=c.makeU32Buffer(t);var n=0,i=0;for(e=0;e<t;e++){var s=r[e]>>>9,o=511&r[e];console.assert(i<=s),n<<=s-i,this.code[o]=n++,i=s}},y.prototype.cost=function(e,t,r){var n,i=0;for(n=0;n<r;n++)i+=this.codeLengths[e[t+n]];return i},y.prototype.emit=function(e){var t,r=this.codeLengths[0];for(e.writeBits(5,r),t=0;t<this.codeLengths.length;t++){var n,i,s=this.codeLengths[t];for(console.assert(s>0&&s<=20),r<s?(n=2,i=s-r):(n=3,i=r-s);i-- >0;)e.writeBits(2,n);e.writeBit(0),r=s}},y.prototype.encode=function(e,t){e.writeBits(this.codeLengths[t],this.code[t])};var m=function(e,t,r,n){for(var i=0,s=-1,o=0;i<r&&!(4===o&&(t[i++]=0,i>=r));){var a=e.readByte();if(a===h)break;if(n.updateCRC(a),a!==s)s=a,o=1;else if(++o>4){if(o<256){t[i-1]++;continue}o=1}t[i++]=a}return i},v=function(e,t,r){var n,i,s;for(n=0,s=0;n<r.length;n+=50){var o=Math.min(50,r.length-n),a=0,u=t[0].cost(r,n,o);for(i=1;i<t.length;i++){var c=t[i].cost(r,n,o);c<u&&(a=i,u=c)}e[s++]=a}},b=function(e,t,r){var n,i,o,a,u=c.makeU8Buffer(t),h=s.bwtransform2(e,u,t,256);r.writeBit(0),r.writeBits(24,h);var f=[],d=[];for(i=0;i<t;i++)f[n=e[i]]=!0,d[n>>>4]=!0;for(i=0;i<16;i++)r.writeBit(!!d[i]);for(i=0;i<16;i++)if(d[i])for(o=0;o<16;o++)r.writeBit(!!f[i<<4|o]);var p=0;for(i=0;i<256;i++)f[i]&&p++;var g=c.makeU16Buffer(t+1),m=p+1,b=[];for(i=0;i<=m;i++)b[i]=0;var w=c.makeU8Buffer(p);for(i=0,o=0;i<256;i++)f[i]&&(w[o++]=i);f=null,d=null;var E=0,_=0,S=function(e){g[E++]=e,b[e]++},I=function(){for(;0!==_;)1&_?(S(0),_-=1):(S(1),_-=2),_>>>=1};for(i=0;i<u.length;i++){for(n=u[i],o=0;o<p&&w[o]!==n;o++);console.assert(o!==p),l(w,o),0===o?_++:(I(),S(o+1),_=0)}I(),S(m),g=g.subarray(0,E);var T,B=[];for(T=E>=2400?6:E>=1200?5:E>=600?4:E>=200?3:2,B.push(new y(b,m+1)),i=0;i<=m;i++)b[i]=1;B.push(new y(b,m+1)),b=null;var A=c.makeU8Buffer(Math.ceil(E/50));for(function(e,t,r,n,i){for(var s,o,a,u=[];e.length<t;){for(v(n,e,r),s=0;s<e.length;s++)u[s]=0;for(s=0;s<n.length;s++)u[n[s]]++;var c=u.indexOf(Math.max.apply(Math,u)),h=[];for(s=0,o=0;s<n.length;s++)if(n[s]===c){var l=50*s,f=Math.min(l+50,r.length);h.push({index:s,cost:e[c].cost(r,l,f-l)})}for(h.sort((function(e,t){return e.cost-t.cost})),s=h.length>>>1;s<h.length;s++)n[h[s].index]=e.length;e.push(null);var d,p=[];for(s=0;s<e.length;s++)for(d=p[s]=[],o=0;o<i;o++)d[o]=0;for(s=0,o=0;s<r.length;)for(d=p[n[o++]],a=0;a<50&&s<r.length;a++)d[r[s++]]++;for(s=0;s<e.length;s++)e[s]=new y(p[s],i)}}(B,T,g,A,m+1),v(A,B,g),console.assert(B.length>=2&&B.length<=6),r.writeBits(3,B.length),r.writeBits(15,A.length),i=0;i<B.length;i++)w[i]=i;for(i=0;i<A.length;i++){var O=A[i];for(o=0;o<B.length&&w[o]!==O;o++);for(console.assert(o<B.length),l(w,o);o>0;o--)r.writeBit(1);r.writeBit(0)}for(i=0;i<B.length;i++)B[i].emit(r),B[i].computeCanonical();for(i=0,a=0;i<E;){var x=B[A[a++]];for(o=0;o<50&&i<E;o++)x.encode(r,g[i++])}},w=Object.create(null);w.compressFile=function(e,t,r){e=c.coerceInputStream(e);var n=c.coerceOutputStream(t,t);t=new i(n.stream);var s=9;if("number"==typeof r&&(s=r),s<1||s>9)throw new Error("Invalid block size multiplier");var a=1e5*s;a-=19,t.writeByte("B".charCodeAt(0)),t.writeByte("Z".charCodeAt(0)),t.writeByte("h".charCodeAt(0)),t.writeByte("0".charCodeAt(0)+s);var u,h=c.makeU8Buffer(a),l=0;do{var f=new o;(u=m(e,h,a,f))>0&&(l=((l<<1|l>>>31)^f.getCRC())>>>0,t.writeBits(48,54156738319193),t.writeBits(32,f.getCRC()),b(h,u,t))}while(u===a);return t.writeBits(48,25779555029136),t.writeBits(32,l),t.flush(),n.retval},w.decompressFile=g.decode,w.decompressBlock=g.decodeBlock,w.table=g.table,n.exports=w}).call(t,r,t,e))||(e.exports=n)},mNvP:function(e,t){var r;!function(e){!function(t){var r="object"==typeof global?global:"object"==typeof self?self:"object"==typeof this?this:Function("return this;")(),n=i(e);function i(e,t){return function(r,n){"function"!=typeof e[r]&&Object.defineProperty(e,r,{configurable:!0,writable:!0,value:n}),t&&t(r,n)}}void 0===r.Reflect?r.Reflect=e:n=i(r.Reflect,n),function(e){var t=Object.prototype.hasOwnProperty,r="function"==typeof Symbol,n=r&&void 0!==Symbol.toPrimitive?Symbol.toPrimitive:"@@toPrimitive",i=r&&void 0!==Symbol.iterator?Symbol.iterator:"@@iterator",s="function"==typeof Object.create,o={__proto__:[]}instanceof Array,a=!s&&!o,u={create:s?function(){return R(Object.create(null))}:o?function(){return R({__proto__:null})}:function(){return R({})},has:a?function(e,r){return t.call(e,r)}:function(e,t){return t in e},get:a?function(e,r){return t.call(e,r)?e[r]:void 0}:function(e,t){return e[t]}},c=Object.getPrototypeOf(Function),h="object"==typeof process&&process.env&&"true"===process.env.REFLECT_METADATA_USE_MAP_POLYFILL,l=h||"function"!=typeof Map||"function"!=typeof Map.prototype.entries?function(){var e={},t=[],r=function(){function e(e,t,r){this._index=0,this._keys=e,this._values=t,this._selector=r}return e.prototype["@@iterator"]=function(){return this},e.prototype[i]=function(){return this},e.prototype.next=function(){var e=this._index;if(e>=0&&e<this._keys.length){var r=this._selector(this._keys[e],this._values[e]);return e+1>=this._keys.length?(this._index=-1,this._keys=t,this._values=t):this._index++,{value:r,done:!1}}return{value:void 0,done:!0}},e.prototype.throw=function(e){throw this._index>=0&&(this._index=-1,this._keys=t,this._values=t),e},e.prototype.return=function(e){return this._index>=0&&(this._index=-1,this._keys=t,this._values=t),{value:e,done:!0}},e}();return function(){function t(){this._keys=[],this._values=[],this._cacheKey=e,this._cacheIndex=-2}return Object.defineProperty(t.prototype,"size",{get:function(){return this._keys.length},enumerable:!0,configurable:!0}),t.prototype.has=function(e){return this._find(e,!1)>=0},t.prototype.get=function(e){var t=this._find(e,!1);return t>=0?this._values[t]:void 0},t.prototype.set=function(e,t){var r=this._find(e,!0);return this._values[r]=t,this},t.prototype.delete=function(t){var r=this._find(t,!1);if(r>=0){for(var n=this._keys.length,i=r+1;i<n;i++)this._keys[i-1]=this._keys[i],this._values[i-1]=this._values[i];return this._keys.length--,this._values.length--,t===this._cacheKey&&(this._cacheKey=e,this._cacheIndex=-2),!0}return!1},t.prototype.clear=function(){this._keys.length=0,this._values.length=0,this._cacheKey=e,this._cacheIndex=-2},t.prototype.keys=function(){return new r(this._keys,this._values,n)},t.prototype.values=function(){return new r(this._keys,this._values,s)},t.prototype.entries=function(){return new r(this._keys,this._values,o)},t.prototype["@@iterator"]=function(){return this.entries()},t.prototype[i]=function(){return this.entries()},t.prototype._find=function(e,t){return this._cacheKey!==e&&(this._cacheIndex=this._keys.indexOf(this._cacheKey=e)),this._cacheIndex<0&&t&&(this._cacheIndex=this._keys.length,this._keys.push(e),this._values.push(void 0)),this._cacheIndex},t}();function n(e,t){return e}function s(e,t){return t}function o(e,t){return[e,t]}}():Map,f=h||"function"!=typeof Set||"function"!=typeof Set.prototype.entries?function(){function e(){this._map=new l}return Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.has=function(e){return this._map.has(e)},e.prototype.add=function(e){return this._map.set(e,e),this},e.prototype.delete=function(e){return this._map.delete(e)},e.prototype.clear=function(){this._map.clear()},e.prototype.keys=function(){return this._map.keys()},e.prototype.values=function(){return this._map.values()},e.prototype.entries=function(){return this._map.entries()},e.prototype["@@iterator"]=function(){return this.keys()},e.prototype[i]=function(){return this.keys()},e}():Set,d=new(h||"function"!=typeof WeakMap?function(){var e=u.create(),r=n();return function(){function e(){this._key=n()}return e.prototype.has=function(e){var t=i(e,!1);return void 0!==t&&u.has(t,this._key)},e.prototype.get=function(e){var t=i(e,!1);return void 0!==t?u.get(t,this._key):void 0},e.prototype.set=function(e,t){return i(e,!0)[this._key]=t,this},e.prototype.delete=function(e){var t=i(e,!1);return void 0!==t&&delete t[this._key]},e.prototype.clear=function(){this._key=n()},e}();function n(){var t;do{t="@@WeakMap@@"+o()}while(u.has(e,t));return e[t]=!0,t}function i(e,n){if(!t.call(e,r)){if(!n)return;Object.defineProperty(e,r,{value:u.create()})}return e[r]}function s(e,t){for(var r=0;r<t;++r)e[r]=255*Math.random()|0;return e}function o(){var e="function"==typeof Uint8Array?"undefined"!=typeof crypto?crypto.getRandomValues(new Uint8Array(16)):"undefined"!=typeof msCrypto?msCrypto.getRandomValues(new Uint8Array(16)):s(new Uint8Array(16),16):s(new Array(16),16);e[6]=79&e[6]|64,e[8]=191&e[8]|128;for(var t="",r=0;r<16;++r){var n=e[r];4!==r&&6!==r&&8!==r||(t+="-"),n<16&&(t+="0"),t+=n.toString(16).toLowerCase()}return t}}():WeakMap);function p(e,t,r){var n=d.get(e);if(w(n)){if(!r)return;n=new l,d.set(e,n)}var i=n.get(t);if(w(i)){if(!r)return;i=new l,n.set(t,i)}return i}function g(e,t,r){var n=p(t,r,!1);return!w(n)&&!!n.has(e)}function y(e,t,r){var n=p(t,r,!1);if(!w(n))return n.get(e)}function m(e,t,r,n){p(r,n,!0).set(e,t)}function v(e,t){var r=[],n=p(e,t,!1);if(w(n))return r;for(var s=function(e){var t=A(e,i);if(!T(t))throw new TypeError;var r=t.call(e);if(!_(r))throw new TypeError;return r}(n.keys()),o=0;;){var a=O(s);if(!a)return r.length=o,r;var u=a.value;try{r[o]=u}catch(c){try{x(s)}finally{throw c}}o++}}function b(e){if(null===e)return 1;switch(typeof e){case"undefined":return 0;case"boolean":return 2;case"string":return 3;case"symbol":return 4;case"number":return 5;case"object":return null===e?1:6;default:return 6}}function w(e){return void 0===e}function E(e){return null===e}function _(e){return"object"==typeof e?null!==e:"function"==typeof e}function S(e){var t=function(e,t){switch(b(e)){case 0:case 1:case 2:case 3:case 4:case 5:return e}var r=A(e,n);if(void 0!==r){var i=r.call(e,"string");if(_(i))throw new TypeError;return i}return function(e,t){var r,n,i=e.toString;if(T(i)&&!_(n=i.call(e)))return n;if(T(r=e.valueOf)&&!_(n=r.call(e)))return n;throw new TypeError}(e)}(e);return"symbol"==typeof t?t:function(e){return""+e}(t)}function I(e){return Array.isArray?Array.isArray(e):e instanceof Object?e instanceof Array:"[object Array]"===Object.prototype.toString.call(e)}function T(e){return"function"==typeof e}function B(e){return"function"==typeof e}function A(e,t){var r=e[t];if(null!=r){if(!T(r))throw new TypeError;return r}}function O(e){var t=e.next();return!t.done&&t}function x(e){var t=e.return;t&&t.call(e)}function M(e){var t=Object.getPrototypeOf(e);if("function"!=typeof e||e===c)return t;if(t!==c)return t;var r=e.prototype,n=r&&Object.getPrototypeOf(r);if(null==n||n===Object.prototype)return t;var i=n.constructor;return"function"!=typeof i||i===e?t:i}function R(e){return e.__=void 0,delete e.__,e}e("decorate",(function(e,t,r,n){if(w(r)){if(!I(e))throw new TypeError;if(!B(t))throw new TypeError;return function(e,t){for(var r=e.length-1;r>=0;--r){var n=(0,e[r])(t);if(!w(n)&&!E(n)){if(!B(n))throw new TypeError;t=n}}return t}(e,t)}if(!I(e))throw new TypeError;if(!_(t))throw new TypeError;if(!_(n)&&!w(n)&&!E(n))throw new TypeError;return E(n)&&(n=void 0),function(e,t,r,n){for(var i=e.length-1;i>=0;--i){var s=(0,e[i])(t,r,n);if(!w(s)&&!E(s)){if(!_(s))throw new TypeError;n=s}}return n}(e,t,r=S(r),n)})),e("metadata",(function(e,t){return function(r,n){if(!_(r))throw new TypeError;if(!w(n)&&!function(e){switch(b(e)){case 3:case 4:return!0;default:return!1}}(n))throw new TypeError;m(e,t,r,n)}})),e("defineMetadata",(function(e,t,r,n){if(!_(r))throw new TypeError;return w(n)||(n=S(n)),m(e,t,r,n)})),e("hasMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return w(r)||(r=S(r)),function e(t,r,n){if(g(t,r,n))return!0;var i=M(r);return!E(i)&&e(t,i,n)}(e,t,r)})),e("hasOwnMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return w(r)||(r=S(r)),g(e,t,r)})),e("getMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return w(r)||(r=S(r)),function e(t,r,n){if(g(t,r,n))return y(t,r,n);var i=M(r);return E(i)?void 0:e(t,i,n)}(e,t,r)})),e("getOwnMetadata",(function(e,t,r){if(!_(t))throw new TypeError;return w(r)||(r=S(r)),y(e,t,r)})),e("getMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return w(t)||(t=S(t)),function e(t,r){var n=v(t,r),i=M(t);if(null===i)return n;var s=e(i,r);if(s.length<=0)return n;if(n.length<=0)return s;for(var o=new f,a=[],u=0,c=n;u<c.length;u++)o.has(d=c[u])||(o.add(d),a.push(d));for(var h=0,l=s;h<l.length;h++){var d;o.has(d=l[h])||(o.add(d),a.push(d))}return a}(e,t)})),e("getOwnMetadataKeys",(function(e,t){if(!_(e))throw new TypeError;return w(t)||(t=S(t)),v(e,t)})),e("deleteMetadata",(function(e,t,r){if(!_(t))throw new TypeError;w(r)||(r=S(r));var n=p(t,r,!1);if(w(n))return!1;if(!n.delete(e))return!1;if(n.size>0)return!0;var i=d.get(t);return i.delete(r),i.size>0||d.delete(t),!0}))}(n)}()}(r||(r={}))},mmNF:function(e,t){var r={utf8:{stringToBytes:function(e){return r.bin.stringToBytes(unescape(encodeURIComponent(e)))},bytesToString:function(e){return decodeURIComponent(escape(r.bin.bytesToString(e)))}},bin:{stringToBytes:function(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t},bytesToString:function(e){for(var t=[],r=0;r<e.length;r++)t.push(String.fromCharCode(e[r]));return t.join("")}}};e.exports=r},oBeb:function(e,t,r){const n=r("Ybu3");e.exports=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null}},oh0K:function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>n(t,e,r)},tjlA:function(e,t,r){"use strict";var n=r("H7XF"),i=r("kVK+"),s="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function o(e){if(e>2147483647)throw new RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,a.prototype),t}function a(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!a.isEncoding(t))throw new TypeError("Unknown encoding: "+t);var r=0|p(e,t),n=o(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return l(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if($(e,ArrayBuffer)||e&&$(e.buffer,ArrayBuffer))return f(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&($(e,SharedArrayBuffer)||e&&$(e.buffer,SharedArrayBuffer)))return f(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');var n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return a.from(n,t,r);var i=function(e){if(a.isBuffer(e)){var t=0|d(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||j(e.length)?o(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return a.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return c(e),o(e<0?0:0|d(e))}function l(e){for(var t=e.length<0?0:0|d(e.length),r=o(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}function f(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');var n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,a.prototype),n}function d(e){if(e>=2147483647)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+2147483647..toString(16)+" bytes");return 0|e}function p(e,t){if(a.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||$(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return P(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return U(e).length;default:if(i)return n?-1:P(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){var n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return x(this,t,r);case"utf8":case"utf-8":return B(this,t,r);case"ascii":return A(this,t,r);case"latin1":case"binary":return O(this,t,r);case"base64":return T(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function y(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),j(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=a.from(t,n)),a.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){var s,o=1,a=e.length,u=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;o=2,a/=2,u/=2,r/=2}function c(e,t){return 1===o?e[t]:e.readUInt16BE(t*o)}if(i){var h=-1;for(s=r;s<a;s++)if(c(e,s)===c(t,-1===h?0:s-h)){if(-1===h&&(h=s),s-h+1===u)return h*o}else-1!==h&&(s-=s-h),h=-1}else for(r+u>a&&(r=a-u),s=r;s>=0;s--){for(var l=!0,f=0;f<u;f++)if(c(e,s+f)!==c(t,f)){l=!1;break}if(l)return s}return-1}function b(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var s=t.length;n>s/2&&(n=s/2);for(var o=0;o<n;++o){var a=parseInt(t.substr(2*o,2),16);if(j(a))return o;e[r+o]=a}return o}function w(e,t,r,n){return F(P(t,e.length-r),e,r,n)}function E(e,t,r,n){return F(function(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function _(e,t,r,n){return E(e,t,r,n)}function S(e,t,r,n){return F(U(t),e,r,n)}function I(e,t,r,n){return F(function(e,t){for(var r,n,i=[],s=0;s<e.length&&!((t-=2)<0);++s)n=(r=e.charCodeAt(s))>>8,i.push(r%256),i.push(n);return i}(t,e.length-r),e,r,n)}function T(e,t,r){return n.fromByteArray(0===t&&r===e.length?e:e.slice(t,r))}function B(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var s,o,a,u,c=e[i],h=null,l=c>239?4:c>223?3:c>191?2:1;if(i+l<=r)switch(l){case 1:c<128&&(h=c);break;case 2:128==(192&(s=e[i+1]))&&(u=(31&c)<<6|63&s)>127&&(h=u);break;case 3:o=e[i+2],128==(192&(s=e[i+1]))&&128==(192&o)&&(u=(15&c)<<12|(63&s)<<6|63&o)>2047&&(u<55296||u>57343)&&(h=u);break;case 4:o=e[i+2],a=e[i+3],128==(192&(s=e[i+1]))&&128==(192&o)&&128==(192&a)&&(u=(15&c)<<18|(63&s)<<12|(63&o)<<6|63&a)>65535&&u<1114112&&(h=u)}null===h?(h=65533,l=1):h>65535&&(n.push((h-=65536)>>>10&1023|55296),h=56320|1023&h),n.push(h),i+=l}return function(e){var t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);for(var r="",n=0;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function A(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function O(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function x(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",s=t;s<r;++s)i+=G[e[s]];return i}function M(e,t,r){for(var n=e.slice(t,r),i="",s=0;s<n.length;s+=2)i+=String.fromCharCode(n[s]+256*n[s+1]);return i}function R(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function k(e,t,r,n,i,s){if(!a.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<s)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function N(e,t,r,n,i,s){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function L(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function D(e,t,r,n,s){return t=+t,r>>>=0,s||N(e,0,r,8),i.write(e,t,r,n,52,8),r+8}t.Buffer=a,t.SlowBuffer=function(e){return+e!=e&&(e=0),a.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=2147483647,(a.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(r){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(a.prototype,"parent",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.buffer}}),Object.defineProperty(a.prototype,"offset",{enumerable:!0,get:function(){if(a.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&a[Symbol.species]===a&&Object.defineProperty(a,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),a.poolSize=8192,a.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(a.prototype,Uint8Array.prototype),Object.setPrototypeOf(a,Uint8Array),a.alloc=function(e,t,r){return function(e,t,r){return c(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},a.allocUnsafe=function(e){return h(e)},a.allocUnsafeSlow=function(e){return h(e)},a.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==a.prototype},a.compare=function(e,t){if($(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),$(t,Uint8Array)&&(t=a.from(t,t.offset,t.byteLength)),!a.isBuffer(e)||!a.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,s=Math.min(r,n);i<s;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},a.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},a.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return a.alloc(0);var r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;var n=a.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var s=e[r];if($(s,Uint8Array)&&(s=a.from(s)),!a.isBuffer(s))throw new TypeError('"list" argument must be an Array of Buffers');s.copy(n,i),i+=s.length}return n},a.byteLength=p,a.prototype._isBuffer=!0,a.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)y(this,t,t+1);return this},a.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)y(this,t,t+3),y(this,t+1,t+2);return this},a.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)y(this,t,t+7),y(this,t+1,t+6),y(this,t+2,t+5),y(this,t+3,t+4);return this},a.prototype.toLocaleString=a.prototype.toString=function(){var e=this.length;return 0===e?"":0===arguments.length?B(this,0,e):g.apply(this,arguments)},a.prototype.equals=function(e){if(!a.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===a.compare(this,e)},a.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},s&&(a.prototype[s]=a.prototype.inspect),a.prototype.compare=function(e,t,r,n,i){if($(e,Uint8Array)&&(e=a.from(e,e.offset,e.byteLength)),!a.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;for(var s=(i>>>=0)-(n>>>=0),o=(r>>>=0)-(t>>>=0),u=Math.min(s,o),c=this.slice(n,i),h=e.slice(t,r),l=0;l<u;++l)if(c[l]!==h[l]){s=c[l],o=h[l];break}return s<o?-1:o<s?1:0},a.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},a.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},a.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},a.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var s=!1;;)switch(n){case"hex":return b(this,e,t,r);case"utf8":case"utf-8":return w(this,e,t,r);case"ascii":return E(this,e,t,r);case"latin1":case"binary":return _(this,e,t,r);case"base64":return S(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,e,t,r);default:if(s)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),s=!0}},a.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},a.prototype.slice=function(e,t){var r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,a.prototype),n},a.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n},a.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},a.prototype.readUInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),this[e]},a.prototype.readUInt16LE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]|this[e+1]<<8},a.prototype.readUInt16BE=function(e,t){return e>>>=0,t||R(e,2,this.length),this[e]<<8|this[e+1]},a.prototype.readUInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},a.prototype.readUInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},a.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=this[e],i=1,s=0;++s<t&&(i*=256);)n+=this[e+s]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},a.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||R(e,t,this.length);for(var n=t,i=1,s=this[e+--n];n>0&&(i*=256);)s+=this[e+--n]*i;return s>=(i*=128)&&(s-=Math.pow(2,8*t)),s},a.prototype.readInt8=function(e,t){return e>>>=0,t||R(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},a.prototype.readInt16LE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt16BE=function(e,t){e>>>=0,t||R(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},a.prototype.readInt32LE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},a.prototype.readInt32BE=function(e,t){return e>>>=0,t||R(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},a.prototype.readFloatLE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!0,23,4)},a.prototype.readFloatBE=function(e,t){return e>>>=0,t||R(e,4,this.length),i.read(this,e,!1,23,4)},a.prototype.readDoubleLE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!0,52,8)},a.prototype.readDoubleBE=function(e,t){return e>>>=0,t||R(e,8,this.length),i.read(this,e,!1,52,8)},a.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=1,s=0;for(this[t]=255&e;++s<r&&(i*=256);)this[t+s]=e/i&255;return t+r},a.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||k(this,e,t,r,Math.pow(2,8*r)-1,0);var i=r-1,s=1;for(this[t+i]=255&e;--i>=0&&(s*=256);)this[t+i]=e/s&255;return t+r},a.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,255,0),this[t]=255&e,t+1},a.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},a.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var s=0,o=1,a=0;for(this[t]=255&e;++s<r&&(o*=256);)e<0&&0===a&&0!==this[t+s-1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},a.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){var i=Math.pow(2,8*r-1);k(this,e,t,r,i-1,-i)}var s=r-1,o=1,a=0;for(this[t+s]=255&e;--s>=0&&(o*=256);)e<0&&0===a&&0!==this[t+s+1]&&(a=1),this[t+s]=(e/o>>0)-a&255;return t+r},a.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},a.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},a.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},a.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},a.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||k(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},a.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},a.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},a.prototype.writeDoubleLE=function(e,t,r){return D(this,e,t,!0,r)},a.prototype.writeDoubleBE=function(e,t,r){return D(this,e,t,!1,r)},a.prototype.copy=function(e,t,r,n){if(!a.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var s=i-1;s>=0;--s)e[s+t]=this[s+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},a.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!a.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){var i=e.charCodeAt(0);("utf8"===n&&i<128||"latin1"===n)&&(e=i)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;var s;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(s=t;s<r;++s)this[s]=e;else{var o=a.isBuffer(e)?e:a.from(e,n),u=o.length;if(0===u)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(s=0;s<r-t;++s)this[s+t]=o[s%u]}return this};var C=/[^+/0-9A-Za-z-_]/g;function P(e,t){var r;t=t||1/0;for(var n=e.length,i=null,s=[],o=0;o<n;++o){if((r=e.charCodeAt(o))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&s.push(239,191,189);continue}if(o+1===n){(t-=3)>-1&&s.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&s.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&s.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;s.push(r)}else if(r<2048){if((t-=2)<0)break;s.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;s.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;s.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return s}function U(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(C,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function F(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function $(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function j(e){return e!=e}var G=function(){for(var e=new Array(256),t=0;t<16;++t)for(var r=16*t,n=0;n<16;++n)e[r+n]="0123456789abcdef"[t]+"0123456789abcdef"[n];return e}()},uu4J:function(e,t,r){var n;void 0===(n=(function(e,t,n){var i=r("+yXC"),s=(r("ZGXk"),r("FYyq")),o=function(e,t){return e-t},a=function(e,t,r,n,i){this.coder=e,this.increment=+n||256,this.max_prob=+r||65280,console.assert(this.max_prob+(this.increment-1)<=65535),this.sym=s.makeU16Buffer(t+1),this.prob=s.makeU16Buffer(t+2),this.sym[0]=t,this.prob[0]=0,this.seenSyms=1,this.prob[this.seenSyms]=this.increment,this.numSyms=t,i&&(this.sortedSeen=[t])};a.factory=function(e,t,r,n){return function(i){return new a(e,i,t,r,n)}},a.prototype.clone=function(){var e,t=new a(this.coder,this.numSyms,this.max_prob,this.increment,!!this.sortedSeen);for(e=0;e<this.seenSyms;e++)t.sym[e]=this.sym[e],t.prob[e]=this.prob[e];return t.prob[e]=this.prob[e],t.seenSyms=this.seenSyms,this.sortedSeen&&(t.sortedSeen=this.sortedSeen.slice(0)),t},a.prototype._update=function(e,t,r){var n,i;for(n=t;n<this.seenSyms-1;n++)this.sym[n]=this.sym[n+1],this.prob[n]=this.prob[n+1]-r;t<this.seenSyms?(this.sym[n]=e,this.prob[n]=this.prob[n+1]-r,this.prob[this.seenSyms]=i=this.prob[this.seenSyms]+this.increment,e===this.numSyms&&this.seenSyms>=this.numSyms&&(i=this.prob[--this.seenSyms],this.sortedSeen&&this.sortedSeen.length--)):(i=this.prob[this.seenSyms],this.sym[t]=e,this.prob[t]=i,i+=this.increment,this.prob[++this.seenSyms]=i,this.sortedSeen&&(this.sortedSeen.push(e),this.sortedSeen.sort(o))),i>=this.max_prob&&this._rescale()},a.prototype._rescale=function(){var e,t,r=0,n=!0;for(this.sortedSeen&&(this.sortedSeen.length=0),e=0,t=0;e<this.seenSyms;e++){var i=this.sym[e],s=this.prob[e+1]-this.prob[e];(s>>>=1)>0&&(i===this.numSyms&&(n=!1),this.sym[t]=i,this.prob[t++]=r,r+=s,this.sortedSeen&&this.sortedSeen.push(i))}this.prob[t]=r,this.seenSyms=t,this.sortedSeen&&this.sortedSeen.sort(o),n&&this.seenSyms<this.numSyms&&this._update(this.numSyms,this.seenSyms)},a.prototype.decode=function(){var e,t=this.prob[this.seenSyms],r=this.coder.decodeCulFreq(t);for(e=this.seenSyms-1;e>=0&&!(this.prob[e]<=r);e--);console.assert(e>=0);var n=this.sym[e],i=this.prob[e],s=this.prob[e+1]-i;if(this.coder.decodeUpdate(s,i,t),this._update(n,e,s),n===this.numSyms){if(s=1,t=this.numSyms,this.sortedSeen){var o=this.sortedSeen;for(t=this.numSyms-this.seenSyms,o[o.length-1]===this.numSyms&&t++,n=i=this.coder.decodeCulFreq(t),e=0;e<o.length&&o[e]<=n;e++)n++}else n=i=this.coder.decodeCulFreq(t);this.coder.decodeUpdate(s,i,t),this._update(n,this.seenSyms)}return n},a.prototype.encode=function(e){var t,r,n,i;for(t=this.seenSyms-1;t>=0;t--)if(e===this.sym[t])return this.coder.encodeFreq(r=this.prob[t+1]-(n=this.prob[t]),n,i=this.prob[this.seenSyms]),this._update(e,t,r);if(console.assert(e!==this.numSyms),this.encode(this.numSyms),r=1,n=e,i=this.numSyms,this.sortedSeen){var s=this.sortedSeen;for(i-=this.seenSyms,s[s.length-1]===this.numSyms&&i++,t=0;t<s.length&&s[t]<e;t++)n--}return this.coder.encodeFreq(r,n,i),this._update(e,this.seenSyms)},a.compressFile=s.compressFileHelper(a.MAGIC="mtfm",(function(e,t,r,n,o){var u=new i(t);u.encodeStart(o,1);var c=new a(u,r<0?257:256);s.compressWithModel(e,r,c),u.encodeFinish()}),!0),a.decompressFile=s.decompressFileHelper(a.MAGIC,(function(e,t,r){var n=new i(e);n.decodeStart(!0);var o=new a(n,r<0?257:256);s.decompressWithModel(t,r,o),n.decodeFinish()})),n.exports=a}).call(t,r,t,e))||(e.exports=n)},vwDW:function(e,t,r){const n=Symbol("SemVer ANY");class i{static get ANY(){return n}constructor(e,t){if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),e instanceof i){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.value=this.semver===n?"":this.operator+this.semver.version,u("comp",this)}parse(e){const t=e.match(this.options.loose?s[o.COMPARATORLOOSE]:s[o.COMPARATOR]);if(!t)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==t[1]?t[1]:"","="===this.operator&&(this.operator=""),this.semver=t[2]?new c(t[2],this.options.loose):n}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===n||e===n)return!0;if("string"==typeof e)try{e=new c(e,this.options)}catch(t){return!1}return a(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof i))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new h(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new h(this.value,t).test(e.semver);const r=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),n=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),s=this.semver.version===e.semver.version,o=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),u=a(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),c=a(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return r||n||s&&o||u||c}}e.exports=i;const{re:s,t:o}=r("IsDc"),a=r("VMJL"),u=r("DXxi"),c=r("3wIk"),h=r("ex/Z")},wUFj:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r("tjlA"),i=r("X3w2"),s=r("kLNY"),o=r("kb5C"),a={TABLE_OFFSET:0,HASH_A:1,HASH_B:2,TABLE:3};t.MPQArchive=class{constructor(e,t=!0){if(this._encryptionTable=function(){const e={};let t,r=new i.fromValue(1048577,!0);for(let n=0;n<256;n++){t=n;for(let n=0;n<5;n++){r=r.mul(125).add(3).mod(2796203);const n=r.and(65535).shiftLeft(16);r=r.mul(125).add(3).mod(2796203);const i=r.and(65535);e[t]=n.or(i).toNumber(),t+=256}}return e}(),this._data=new n.Buffer(e),this._header=this._readHeader(),this._hashTable=this._readTable("hash"),this._blockTable=this._readTable("block"),t){const e=this.readFile("(listfile)");e&&(this._files=e.toString("utf-8").trim().split("\r\n"))}}get files(){return this._files}get header(){return this._header}printHeaders(){console.info("MPQ archive header"),console.info("------------------");for(const e in this._header)"userDataHeader"!==e&&console.info(e+" - "+this._header[e]);if(this._header.userDataHeader){console.info(),console.info("MPQ user data header"),console.info("--------------------"),console.info();for(const e in this._header.userDataHeader)console.info(e+" - "+this._header.userDataHeader[e]);console.info()}}printHashTable(){console.info("MPQ archive hash table"),console.info("----------------------"),console.info("Hash A\t\tHash B\t\tLocl\tPlat\tBlockIdx");const e=[8,8,4,4,8];this._hashTable.forEach(t=>{console.info(Object.keys(t).map((r,n)=>this._formatWord(t[r],e[n])).join("\t"))}),console.info()}printBlockTable(){console.info("MPQ archive block table"),console.info("-----------------------"),console.info("Offset\t\tArchSize\tRealSize\tFlags"),this._blockTable.forEach(e=>{console.info([this._formatWord(e.offset,8),this._leadingChar(e.archivedSize," ",8),this._leadingChar(e.size," ",8),this._formatWord(e.flags,8)].join("\t"))}),console.info()}readFile(e,t=!1){function r(e){const t=e.readUInt8(0);if(0===t)return e;if(2===t)throw new Error('Unsupported compression type "zlib".');if(16===t)return new n.Buffer(o.Bzip2.decompressFile(e.slice(1)));throw new Error("Unsupported compression type.")}const i=this._getHashTableEntry(e);if(!i)return null;const s=this._blockTable[i.blockTableIndex];if(2147483648&s.flags){if(0===s.archivedSize)return null;const e=s.offset+this._header.offset;let i=this._data.slice(e,e+s.archivedSize);if(65536&s.flags)throw new Error("Encryption is not supported yet");if(16777216&s.flags)512&s.flags&&(t||s.size>s.archivedSize)&&(i=r(i));else{let e,o=Math.trunc(s.size/(512<<this._header.sectorSizeShift))+1;67108864&s.flags?(e=!0,o+=1):e=!1;const a=[];for(let t=0;t<o+1;t++)a[t]=i.readUInt32LE(4*t);const u=a.length-(e?2:1);let c=new n.Buffer(0),h=s.size;for(let l=0;l<u;l++){let e=i.slice(a[l],a[l+1]);512&s.flags&&(t||h>e.length)&&(e=r(e)),h-=e.length,c=n.Buffer.concat([c,e])}i=c}return i}}_leadingChar(e,t,r,n=!1){for(e=""+e;e.length<r;)e=n?e+t:t+e;return e}_formatWord(e,t){return this._leadingChar(e.toString(16).toUpperCase(),"0",t)}_getHashTableEntry(e){const t=this._hash(e,"HASH_A"),r=this._hash(e,"HASH_B");for(const n of this._hashTable)if(n.hashA===t&&n.hashB===r)return n}_readHeader(){let e;const t=this._data.toString("utf-8",0,4);if("MPQ\x1a"===t)e=this._readMPQHeader(),e.offset=0;else{if("MPQ\x1b"!==t)throw new Error("Invalid MPQ file header");{const t=this._readMPQUserDataHeader();e=this._readMPQHeader(t.mpqHeaderOffset),e.offset=t.mpqHeaderOffset,e.userDataHeader=t}}return e}_readMPQUserDataHeader(){const e=this._data.slice(0,16),t=new s.MPQUserDataHeader(e);return t.content=this._data.slice(16,16+t.userDataHeaderSize),t}_readMPQHeader(e=0){let t=this._data.slice(e,e+32),r=new s.MPQFileHeader(t);return 1===r.formatVersion&&(t=this._data.slice(e+32,e+32+12),r=Object.assign(new s.MPQFileHeaderExt(t),r)),r}_readTable(e){let t;switch(e){case"hash":t=s.MPQHashTableEntry;break;case"block":t=t=s.MPQBlockTableEntry}const r=this._header[e+"TableOffset"],n=this._header[e+"TableEntries"],i=this._hash("("+e+" table)","TABLE");let o=this._data.slice(r+this._header.offset,r+this._header.offset+16*n);o=this._decrypt(o,i);const a=[];for(let s=0;s<n;s++)a[s]=new t(o.slice(16*s,16*s+16));return a}_hash(e,t){let r,n,s=new i.fromValue(2146271213,!0),o=new i.fromValue(4008636142,!0);for(n of e.toUpperCase())isNaN(parseInt(n,10))&&(n=n.codePointAt(0)),r=new i.fromValue(this._encryptionTable[(a[t]<<8)+n],!0),s=r.xor(s.add(o)).and(4294967295),o=s.add(o).add(n).add(o.shiftLeft(5)).add(3).and(4294967295);return s.toNumber()}_decrypt(e,t){const r=new n.Buffer(e.length),s=e.length/4;let o=new i.fromValue(t,!0),a=new i.fromValue(4008636142,!0);for(let n=0;n<s;n++){a=a.add(this._encryptionTable[1024+(255&o)]),a=a.and(4294967295);let t=new i.fromValue(e.readUInt32LE(4*n),!0);t=t.xor(o.add(a)).and(4294967295),o=o.xor(-1).shiftLeft(21).add(286331153).or(o.shiftRight(11)),o=o.and(4294967295),a=t.add(a).add(a.shiftLeft(5)).add(3).and(4294967295),r.writeUInt32BE(t.toNumber(),4*n)}return r}}},xfvg:function(e,t,r){const n=r("8GxW");e.exports=(e,t,r)=>0===n(e,t,r)},ygsx:function(e,t,r){const n=r("3wIk"),i=r("ex/Z");e.exports=(e,t,r)=>{let s=null,o=null,a=null;try{a=new i(t,r)}catch(u){return null}return e.forEach(e=>{a.test(e)&&(s&&1!==o.compare(e)||(s=e,o=new n(s,r)))}),s}},zv5s:function(e,t,r){const n=r("ex/Z");e.exports=(e,t)=>{try{return new n(e,t).range||"*"}catch(r){return null}}}});